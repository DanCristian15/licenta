{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/core/shared/components/lists/InfiniteCardList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/shared/components/lists/InfiniteCardList.vue","mtime":1645805363960},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7CmltcG9ydCBEYXRhTG9hZGluZyBmcm9tICdAc2hhcmVkL2NvbXBvbmVudHMvbG9hZGluZy9EYXRhTG9hZGluZy52dWUnOwppbXBvcnQgU2VlTW9yZUJ1dHRvbiBmcm9tICdAY29yZS9zaGFyZWQvY29tcG9uZW50cy9idXR0b25zL1NlZU1vcmVCdXR0b24udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdJbmZpbml0ZUNhcmRMaXN0JywKICBjb21wb25lbnRzOiB7CiAgICBEYXRhTG9hZGluZzogRGF0YUxvYWRpbmcsCiAgICBTZWVNb3JlQnV0dG9uOiBTZWVNb3JlQnV0dG9uCiAgfSwKICBwcm9wczogewogICAgY29uZmlnOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBidXNFdmVudHNQYXJlbnQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZGF0YTogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBrZXlGaWVsZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdpZCcKICAgIH0sCiAgICBhbGxEYXRhTG9hZGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbG9hZGluZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgaGFzTG9hZEJ1dHRvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgdGVzdElkUHJlZml4OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBpdGVtQ2xhc3NlczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdwbC0wIHByLTAgbXItNCcKICAgIH0sCiAgICBwcmVmaWxsOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbGlzdENsYXNzZXM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGlzSXRlbUxpbms6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzSW5maW5pdGVTY3JvbGxEaXNhYmxlZDogZnVuY3Rpb24gaXNJbmZpbml0ZVNjcm9sbERpc2FibGVkKCkgewogICAgICByZXR1cm4gdGhpcy5oYXNMb2FkQnV0dG9uIHx8IHRoaXMuYWxsRGF0YUxvYWRlZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHByb3BzVG9CaW5kOiBmdW5jdGlvbiBwcm9wc1RvQmluZChpdGVtKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5wcm9wc1RvQmluZCA/IHRoaXMuY29uZmlnLnByb3BzVG9CaW5kKGl0ZW0pIDogaXRlbTsKICAgIH0sCiAgICBsb2FkTW9yZTogZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMuYWxsRGF0YUxvYWRlZCAmJiAhdGhpcy5sb2FkaW5nKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnbG9hZC1tb3JlJyk7CiAgICAgIH0KICAgIH0sIDUwKQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLnByZWZpbGwgJiYgIXRoaXMuaGFzTG9hZEJ1dHRvbiAmJiAhdGhpcy5hbGxEYXRhTG9hZGVkKSB7CiAgICAgIHRoaXMudW53YXRjaERhdGEgPSB0aGlzLiR3YXRjaCgnZGF0YScsIGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZWwgPSB0aGlzLiRyZWZzLmNvbnRhaW5lcjsKCiAgICAgICAgICBpZiAoZWwuc2Nyb2xsSGVpZ2h0IDw9IGVsLmNsaWVudEhlaWdodCkgewogICAgICAgICAgICB0aGlzLmxvYWRNb3JlKCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0sIHsKICAgICAgICBkZWVwOiB0cnVlCiAgICAgIH0pOwogICAgfQogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICAhdGhpcy51bndhdGNoRGF0YSB8fCB0aGlzLnVud2F0Y2hEYXRhKCk7CiAgfQp9Ow=="},{"version":3,"sources":["InfiniteCardList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"d-flex flex-column\">\n        <slot name=\"header\"></slot>\n        <div\n            ref=\"container\"\n            v-infinite-scroll=\"loadMore\"\n            infinite-scroll-disabled=\"isInfiniteScrollDisabled\"\n            infinite-scroll-distance=\"10\"\n            :style=\"{ flex: 1 }\"\n            class=\"overflow-y-auto\">\n            <slot name=\"inner-scroll-header\"></slot>\n            <slot v-if=\"loading && !data.length\" name=\"loading\"></slot>\n            <template v-else>\n                <div\n                    v-if=\"!data.length\"\n                    class=\"h-full w-full\"\n                    :class=\"config.emptyListClasses\">\n                    <slot name=\"empty-list\"></slot>\n                </div>\n                <v-list v-else\n                    class=\"h-auto w-full\"\n                    :class=\"listClasses\">\n                    <v-list-item\n                        v-for=\"( item, index ) in data\"\n                        :key=\"index\"\n                        :class=\"itemClasses\"\n                        :link=\"isItemLink\"\n                        @mouseenter=\"$emit( 'mouse-enter-item', item )\"\n                        @mouseleave=\"$emit( 'mouse-leave-item' )\">\n                        <component\n                            :is=\"config.card\"\n                            :key=\"item[keyField]\"\n                            :class=\"config.cardClasses && config.cardClasses\"\n                            v-bind=\"propsToBind( item )\"\n                            :bus-events-parent=\"busEventsParent\"\n                            @click=\"$emit('click-item', item )\" />\n                    </v-list-item>\n                    <div v-if=\"!allDataLoaded\" class=\"gst-load-more-container w-full my-4 flex items-center justify-center\">\n                        <DataLoading v-if=\"!hasLoadButton && loading\" />\n                        <slot name=\"see-more-button\">\n                            <SeeMoreButton\n                                v-if=\"hasLoadButton\"\n                                :data-test-id=\"$testId(testIdPrefix, 'buttons.seeMore')\"\n                                class=\"mx-auto d-flex mt-4\"\n                                :loading=\"loading\"\n                                @click=\"loadMore( )\" />\n                        </slot>\n                    </div>\n                </v-list>\n            </template>\n            <slot name=\"inner-scroll-footer\"></slot>\n        </div>\n        <slot name=\"footer\"></slot>\n    </div>\n</template>\n\n<script>\n    import debounce from 'lodash/debounce';\n    import DataLoading from '@shared/components/loading/DataLoading.vue';\n    import SeeMoreButton from '@core/shared/components/buttons/SeeMoreButton.vue';\n\n    export default {\n        name: 'InfiniteCardList',\n        components: {\n            DataLoading,\n            SeeMoreButton\n        },\n        props: {\n            config: {\n                type: Object,\n                required: true\n            },\n            busEventsParent: {\n                type: Object,\n                default: null\n            },\n            data: {\n                type: Array,\n                required: true\n            },\n            keyField: {\n                type: String,\n                default: 'id'\n            },\n            allDataLoaded: {\n                type: Boolean,\n                default: false\n            },\n            loading: {\n                type: Boolean,\n                default: true\n            },\n            hasLoadButton: {\n                type: Boolean,\n                default: true\n            },\n            testIdPrefix: {\n                type: String,\n                default: ''\n            },\n            itemClasses: {\n                type: String,\n                default: 'pl-0 pr-0 mr-4'\n            },\n            prefill: {\n                type: Boolean,\n                default: false\n            },\n            listClasses: {\n                type: String,\n                default: ''\n            },\n            isItemLink: {\n                type: Boolean,\n                default: true\n            }\n        },\n        computed: {\n            isInfiniteScrollDisabled( ) {\n                return this.hasLoadButton || this.allDataLoaded;\n            }\n        },\n        methods: {\n            propsToBind( item ) {\n                return this.config.propsToBind ? this.config.propsToBind( item ) : item;\n            },\n            loadMore: debounce( function ( ) {\n                if ( !this.allDataLoaded && !this.loading ) {\n                    this.$emit( 'load-more' );\n                }\n            }, 50 ),\n        },\n        mounted( ) {\n            if ( this.prefill && !this.hasLoadButton && !this.allDataLoaded ) {\n                this.unwatchData = this.$watch( 'data', function ( ) {\n                    this.$nextTick( function ( )  {\n                        const el = this.$refs.container;\n                        if ( el.scrollHeight <= el.clientHeight ) {\n                            this.loadMore( );\n                        }\n                    } );\n                },  { deep: true } );\n            }\n        },\n        destroyed( ) {\n            !this.unwatchData || this.unwatchData( );\n        }\n    };\n</script>\n"],"sourceRoot":"src/core/shared/components/lists"}]}