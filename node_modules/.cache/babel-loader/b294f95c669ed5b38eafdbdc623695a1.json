{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/views/event/TheEvent/EventSimilarAttractions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/views/event/TheEvent/EventSimilarAttractions.vue","mtime":1645805364023},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NyaXN0aWFuZGFuL0Rlc2t0b3AvcHJvaWVjdC1saWNlbnRhLWZyb250L25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJzsKaW1wb3J0IEF0dHJhY3Rpb25DYXJkVmFyaWFudDQgZnJvbSAnQHNoYXJlZC9jb21wb25lbnRzL2F0dHJhY3Rpb24vQXR0cmFjdGlvbkNhcmRWYXJpYW50NCc7CmltcG9ydCBEYXRhTG9hZGluZyBmcm9tICdAY29yZS9zaGFyZWQvY29tcG9uZW50cy9sb2FkaW5nL0RhdGFMb2FkaW5nJzsKaW1wb3J0IEljb25CYWNrQXJyb3cgZnJvbSAnQGNvcmUvc2hhcmVkL2Fzc2V0cy9pY29ucy9iYWNrX2Fycm93LnN2Zyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRXZlbnRTaW1pbGFyQXR0cmFjdGlvbnMnLAogIGNvbXBvbmVudHM6IHsKICAgIEF0dHJhY3Rpb25DYXJkVmFyaWFudDQ6IEF0dHJhY3Rpb25DYXJkVmFyaWFudDQsCiAgICBEYXRhTG9hZGluZzogRGF0YUxvYWRpbmcsCiAgICBJY29uQmFja0Fycm93OiBJY29uQmFja0Fycm93CiAgfSwKICBpMThuT3B0aW9uczogewogICAgbmFtZXNwYWNlczogJ3NoYXJlZCcsCiAgICBrZXlQcmVmaXg6ICdjb21wb25lbnRzLnNpbWlsYXJBdHRyYWN0aW9ucycKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1N3aXBlclJlYWNoU3RhcnQ6IHRydWUsCiAgICAgIGlzU3dpcGVyUmVhY2hFbmQ6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgdXNlckZpcnN0QWNjZXNzQXBwOiBmdW5jdGlvbiB1c2VyRmlyc3RBY2Nlc3NBcHAoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXIuZmlyc3RBY2Nlc3M7CiAgICB9LAogICAgc2ltaWxhckF0dHJhY3Rpb25zOiBmdW5jdGlvbiBzaW1pbGFyQXR0cmFjdGlvbnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXIuYW5hbHl0aWNzLnNpbWlsYXJBdHRyYWN0aW9uczsKICAgIH0sCiAgICBsb2FkaW5nOiBmdW5jdGlvbiBsb2FkaW5nKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyLmFuYWx5dGljcy5sb2FkaW5nOwogICAgfSwKICAgIGhhc1NpbWlsYXJBdHRyYWN0aW9uczogZnVuY3Rpb24gaGFzU2ltaWxhckF0dHJhY3Rpb25zKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyLmFuYWx5dGljcy5oYXNTaW1pbGFyQXR0cmFjdGlvbnM7CiAgICB9CiAgfSkpLCB7fSwgewogICAgaXRlbXM6IGZ1bmN0aW9uIGl0ZW1zKCkgewogICAgICByZXR1cm4gdGhpcy5zaW1pbGFyQXR0cmFjdGlvbnM7CiAgICB9LAogICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgcmV0dXJuIHRoaXMuaGFzU2ltaWxhckF0dHJhY3Rpb25zICYmIHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC54bE9ubHk7CiAgICB9LAogICAgY2FyZFdpZHRoOiBmdW5jdGlvbiBjYXJkV2lkdGgoKSB7CiAgICAgIHJldHVybiAxMjM7CiAgICB9LAogICAgY2FyZFdpZHRoRm9yU2Nyb2xsOiBmdW5jdGlvbiBjYXJkV2lkdGhGb3JTY3JvbGwoKSB7CiAgICAgIHJldHVybiB0aGlzLmNhcmRXaWR0aCArIDE2OwogICAgfSwKICAgIHNob3dOYXZpZ2F0aW9uQnV0dG9uczogZnVuY3Rpb24gc2hvd05hdmlnYXRpb25CdXR0b25zKCkgewogICAgICByZXR1cm4gISh0aGlzLmlzU3dpcGVyUmVhY2hTdGFydCAmJiB0aGlzLmlzU3dpcGVyUmVhY2hFbmQpOwogICAgfQogIH0pLAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyh7CiAgICBnZXRBbmFseXRpY3M6ICd1c2VyL2FuYWx5dGljcy9nZXQnCiAgfSkpLCB7fSwgewogICAgZ29Ub1ByZXZpb3VzU2xpZGVzOiBmdW5jdGlvbiBnb1RvUHJldmlvdXNTbGlkZXMoKSB7CiAgICAgIHZhciBjYXJkV2lkdGhGb3JTY3JvbGwgPSB0aGlzLmNhcmRXaWR0aEZvclNjcm9sbDsKICAgICAgdmFyIHN3aXBlckVsID0gdGhpcy4kcmVmcy5zd2lwZXI7CiAgICAgIHZhciBzY3JvbGxMZWZ0ID0gc3dpcGVyRWwuc2Nyb2xsTGVmdDsKICAgICAgdmFyIHByZXZpb3VzU2Nyb2xsUG9zaXRpb24gPSBzd2lwZXJFbC5zY3JvbGxMZWZ0IC0gY2FyZFdpZHRoRm9yU2Nyb2xsID4gMCA/IHN3aXBlckVsLnNjcm9sbExlZnQgLSBjYXJkV2lkdGhGb3JTY3JvbGwgOiAwOwogICAgICB2YXIgcHJldmlvdXNDYXJkID0gTWF0aC5mbG9vcihwcmV2aW91c1Njcm9sbFBvc2l0aW9uIC8gY2FyZFdpZHRoRm9yU2Nyb2xsKTsKICAgICAgc3dpcGVyRWwuc2Nyb2xsQnkoLShzY3JvbGxMZWZ0IC0gcHJldmlvdXNDYXJkICogY2FyZFdpZHRoRm9yU2Nyb2xsKSwgMCk7CiAgICB9LAogICAgZ29Ub05leHRTbGlkZXM6IGZ1bmN0aW9uIGdvVG9OZXh0U2xpZGVzKCkgewogICAgICB2YXIgc3dpcGVyRWwgPSB0aGlzLiRyZWZzLnN3aXBlcjsKICAgICAgc3dpcGVyRWwuc2Nyb2xsQnkodGhpcy5jYXJkV2lkdGhGb3JTY3JvbGwsIDApOwogICAgfSwKICAgIHNldFN3aXBlck5hdmlnYXRpb25EZWJvdW5jZWQ6IGRlYm91bmNlKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHN3aXBlckVsID0gdGhpcy4kcmVmcy5zd2lwZXI7CgogICAgICBpZiAoc3dpcGVyRWwpIHsKICAgICAgICB0aGlzLmlzU3dpcGVyUmVhY2hTdGFydCA9ICFzd2lwZXJFbC5zY3JvbGxMZWZ0OwogICAgICAgIHRoaXMuaXNTd2lwZXJSZWFjaEVuZCA9ICEoc3dpcGVyRWwuc2Nyb2xsV2lkdGggLSBzd2lwZXJFbC5zY3JvbGxMZWZ0IC0gc3dpcGVyRWwub2Zmc2V0V2lkdGgpOwogICAgICB9CiAgICB9LCA1MCkKICB9KSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgYWRkRXZlbnRzQW5kRGF0YSA9IGZ1bmN0aW9uIGFkZEV2ZW50c0FuZERhdGEoKSB7CiAgICAgIF90aGlzLmdldEFuYWx5dGljcygpOwoKICAgICAgX3RoaXMuc2V0U3dpcGVyTmF2aWdhdGlvbkRlYm91bmNlZCgpOwoKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIF90aGlzLnNldFN3aXBlck5hdmlnYXRpb25EZWJvdW5jZWQpOwogICAgfTsKCiAgICBpZiAodGhpcy5zaG93KSB7CiAgICAgIGFkZEV2ZW50c0FuZERhdGEoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuX3Vud2F0Y2hTaG93ID0gdGhpcy4kd2F0Y2goJ3Nob3cnLCBmdW5jdGlvbiAobmV3VmFsdWUpIHsKICAgICAgICBpZiAobmV3VmFsdWUpIHsKICAgICAgICAgIGFkZEV2ZW50c0FuZERhdGEoKTsKCiAgICAgICAgICB0aGlzLl91bndhdGNoU2hvdygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnNldFN3aXBlck5hdmlnYXRpb25EZWJvdW5jZWQpOwogIH0KfTs="},{"version":3,"sources":["EventSimilarAttractions.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div v-if=\"show\" class=\"gst-event-similar-attractions py-4 pl-4 pr-0\">\n        <DataLoading v-if=\"loading\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n        <div\n            v-else-if=\"items.length\"\n            class=\"mr-n4 mr-md-0\">\n            <v-flex d-flex flex-row class=\"mx-0 pb-4 pr-4 pr-4\">\n                <h5 class=\"gst-event-similar-attractions__title flex-grow-1\">\n                    {{ $t('title') }}\n                </h5>\n                <v-flex v-if=\"showNavigationButtons\" d-flex flex-row shrink class=\"gst-event-similar-attractions__navigation mx-0\">\n                    <v-btn ref=\"previousButton\" :disabled=\"isSwiperReachStart\" icon class=\"mr-6\" @click=\"goToPreviousSlides\">\n                        <IconBackArrow />\n                    </v-btn>\n                    <v-btn ref=\"nextButton\" :disabled=\"isSwiperReachEnd\" icon @click=\"goToNextSlides\">\n                        <IconBackArrow class=\"u-rotate-180\" />\n                    </v-btn>\n                </v-flex>\n            </v-flex>\n            <v-flex\n                ref=\"swiper\"\n                d-flex\n                flex-row\n                class=\"gst-event-similar-attractions__swiper pr-4 pr-md-0\"\n                @scroll=\"setSwiperNavigationDebounced\"\n                @resize=\"setSwiperNavigationDebounced\">\n                <div\n                    v-for=\"item in items\"\n                    :key=\"item.id\"\n                    class=\"gst-event-similar-attractions__slide pr-4\">\n                    <AttractionCardVariant4\n                        :item=\"item\"\n                        height=\"98px\"\n                        :width=\"cardWidth+'px'\" />\n                </div>\n            </v-flex>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { mapActions, mapState } from 'vuex';\n    import debounce from 'lodash/debounce';\n    import AttractionCardVariant4 from '@shared/components/attraction/AttractionCardVariant4';\n    import DataLoading from '@core/shared/components/loading/DataLoading';\n    import IconBackArrow from '@core/shared/assets/icons/back_arrow.svg';\n\n    export default {\n        name: 'EventSimilarAttractions',\n        components: {\n            AttractionCardVariant4,\n            DataLoading,\n            IconBackArrow\n        },\n        i18nOptions: {\n            namespaces: 'shared',\n            keyPrefix: 'components.similarAttractions'\n        },\n        data() {\n            return {\n                isSwiperReachStart: true,\n                isSwiperReachEnd: false,\n            };\n        },\n        computed: {\n            ...mapState( {\n                userFirstAccessApp: state => state.user.firstAccess,\n                similarAttractions: state => state.user.analytics.similarAttractions,\n                loading:            state => state.user.analytics.loading,\n                hasSimilarAttractions: state => state.user.analytics.hasSimilarAttractions\n            } ),\n            items( ) {\n                return this.similarAttractions;\n            },\n            show( ) {\n                return this.hasSimilarAttractions && this.$vuetify.breakpoint.xlOnly;\n            },\n            cardWidth( ) {\n                return 123;\n            },\n            cardWidthForScroll( ) {\n                return this.cardWidth + 16;\n            },\n            showNavigationButtons( ) {\n                return !( this.isSwiperReachStart && this.isSwiperReachEnd );\n            }\n        },\n        methods: {\n            ...mapActions( {\n                getAnalytics: 'user/analytics/get'\n            } ),\n            goToPreviousSlides( ) {\n                const cardWidthForScroll = this.cardWidthForScroll;\n                const swiperEl = this.$refs.swiper;\n                const scrollLeft = swiperEl.scrollLeft;\n                const previousScrollPosition = ( swiperEl.scrollLeft - cardWidthForScroll ) > 0 ? swiperEl.scrollLeft - cardWidthForScroll : 0;\n                const previousCard = Math.floor( previousScrollPosition / cardWidthForScroll );\n\n                swiperEl.scrollBy( -( scrollLeft - previousCard * cardWidthForScroll ), 0 );\n            },\n            goToNextSlides( ) {\n                const swiperEl = this.$refs.swiper;\n\n                swiperEl.scrollBy( this.cardWidthForScroll, 0 );\n            },\n            setSwiperNavigationDebounced: debounce( function ( ) {\n                const swiperEl = this.$refs.swiper;\n\n                if ( swiperEl ) {\n                    this.isSwiperReachStart = !swiperEl.scrollLeft;\n                    this.isSwiperReachEnd = !( swiperEl.scrollWidth - swiperEl.scrollLeft - swiperEl.offsetWidth );\n                }\n            }, 50 )\n        },\n        mounted( ) {\n            const addEventsAndData = ( ) => {\n                this.getAnalytics( );\n                this.setSwiperNavigationDebounced( );\n                window.addEventListener( 'resize', this.setSwiperNavigationDebounced );\n            };\n\n            if ( this.show ) {\n                addEventsAndData( );\n            } else {\n                this._unwatchShow = this.$watch( 'show', function ( newValue ) {\n                    if ( newValue ) {\n                        addEventsAndData( );\n                        this._unwatchShow( );\n                    }\n                } );\n            }\n        },\n        destroyed( ) {\n            window.removeEventListener( 'resize', this.setSwiperNavigationDebounced );\n        }\n    };\n</script>\n\n<style lang=\"scss\" scoped>\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-event-similar-attractions {\n        border-top: 1px solid rgba( theme-color-hex( 'tertiary' ), 0.2 );\n    }\n\n    .gst-event-similar-attractions__title {\n        line-height: line-height( 'xxxxl' );\n        font-size: font-size( 'xxxl' );\n        font-weight: font-weight( 'medium' );\n    }\n\n    .gst-event-similar-attractions__navigation {\n        .v-btn {\n            height: font-size( 'xxxxl' );\n            width: font-size( 'xxxxl' );\n        }\n    }\n\n    .gst-event-similar-attractions__swiper {\n        scroll-behavior: smooth;\n        overflow: hidden;\n    }\n</style>"],"sourceRoot":"src/core/views/event/TheEvent"}]}