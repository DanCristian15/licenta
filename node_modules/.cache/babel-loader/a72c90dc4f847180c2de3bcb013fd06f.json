{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/core/store/store.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/store/store.js","mtime":1645805363995},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IFZ1ZXhQZXJzaXN0IGZyb20gJ3Z1ZXgtcGVyc2lzdCc7CmltcG9ydCBjcmVhdGVNdXRhdGlvbnNTaGFyZXIgZnJvbSAndnVleC1zaGFyZWQtbXV0YXRpb25zJzsKaW1wb3J0IGkxOG5leHQgZnJvbSAnaTE4bmV4dCc7CmltcG9ydCBhcHBDb25zdGFudHMgZnJvbSAnQGNvcmUvdXRpbHMvY29uc3RhbnRzL2FwcCc7CmltcG9ydCBzdG9yZUNvbnN0YW50cyBmcm9tICdAY29yZS91dGlscy9jb25zdGFudHMvc3RvcmFnZSc7CmltcG9ydCB7IHNldExhbmcgYXMgZG9jdW1lbnRVdGlsc1NldExhbmcgfSBmcm9tICdAY29yZS91dGlscy9kb2N1bWVudFV0aWxzJzsKaW1wb3J0IExvZ1NlcnZpY2UgZnJvbSAnQHNlcnZpY2VzL0xvZ1NlcnZpY2UnOwppbXBvcnQgYXBwU3RhdGVTdG9yZSBmcm9tICcuL21vZHVsZXMvYXBwU3RhdGUnOwppbXBvcnQgYXBwVGVuYW50U3RvcmUgZnJvbSAnLi9tb2R1bGVzL2FwcFRlbmFudCc7CmltcG9ydCBhdHRyYWN0aW9uc1N0b3JlIGZyb20gJy4vbW9kdWxlcy9hdHRyYWN0aW9ucy9hdHRyYWN0aW9ucyc7CmltcG9ydCBjYXJ0U3RvcmUgZnJvbSAnLi9tb2R1bGVzL2NhcnQnOwppbXBvcnQgY2F0ZWdvcmllc1N0b3JlIGZyb20gJy4vbW9kdWxlcy9jYXRlZ29yaWVzJzsKaW1wb3J0IGNpdGllc1N0b3JlIGZyb20gJy4vbW9kdWxlcy9jaXRpZXMnOwppbXBvcnQgZXZlbnRzU3RvcmUgZnJvbSAnLi9tb2R1bGVzL2V2ZW50cyc7CmltcG9ydCBub3RpZmljYXRpb25TdG9yZSBmcm9tICcuL21vZHVsZXMvbm90aWZpY2F0aW9uL2luZGV4JzsKaW1wb3J0IHNlYXJjaFN0YXRlU3RvcmUgZnJvbSAnLi9tb2R1bGVzL3NlYXJjaFN0YXRlJzsKaW1wb3J0IHRvcEV2ZW50c1N0b3JlIGZyb20gJy4vbW9kdWxlcy90b3BFdmVudHMnOwppbXBvcnQgdmVudWVzU3RvcmUgZnJvbSAnLi9tb2R1bGVzL3ZlbnVlcyc7CmltcG9ydCB1c2VyU3RvcmUgZnJvbSAnLi9tb2R1bGVzL3VzZXIvdXNlcic7CnZhciB2dWV4TG9jYWxTdG9yYWdlID0gbmV3IFZ1ZXhQZXJzaXN0KHsKICBrZXk6IHN0b3JlQ29uc3RhbnRzLktFWVMuU1RPUkUsCiAgLy8gVGhlIGtleSB0byBzdG9yZSB0aGUgc3RhdGUgb24gaW4gdGhlIHN0b3JhZ2UgcHJvdmlkZXIuCiAgc3RvcmFnZTogbG9jYWxTdG9yYWdlLAogIHJlZHVjZXI6IGZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUpIHsKICAgIHJldHVybiB7CiAgICAgIHZlcnNpb246IGFwcENvbnN0YW50cy5WRVJTSU9OLAogICAgICBzdG9yZTogewogICAgICAgIGFwcFN0YXRlOiBhcHBTdGF0ZVN0b3JlLl9wZXJzaXN0ZW50LmdldERhdGFUb1NhdmUoc3RhdGUpLAogICAgICAgIHNlYXJjaFN0YXRlOiBzZWFyY2hTdGF0ZVN0b3JlLl9wZXJzaXN0ZW50LmdldERhdGFUb1NhdmUoc3RhdGUpLAogICAgICAgIGNhcnQ6IGNhcnRTdG9yZS5fcGVyc2lzdGVudC5nZXREYXRhVG9TYXZlKHN0YXRlKSwKICAgICAgICB1c2VyOiB1c2VyU3RvcmUuX3BlcnNpc3RlbnQuZ2V0RGF0YVRvU2F2ZShzdGF0ZSkKICAgICAgfQogICAgfTsKICB9LAogIHJlc3RvcmVTdGF0ZTogZnVuY3Rpb24gcmVzdG9yZVN0YXRlKGtleSwgc3RvcmFnZSkgewogICAgdHJ5IHsKICAgICAgaWYgKCFzdG9yYWdlIHx8ICFzdG9yYWdlW2tleV0pIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgdmFyIHN0YXRlID0gSlNPTi5wYXJzZShzdG9yYWdlW2tleV0pOwogICAgICB2YXIgX3N0b3JlID0gc3RhdGUuc3RvcmU7CiAgICAgIHJldHVybiB7CiAgICAgICAgYXBwU3RhdGU6IGFwcFN0YXRlU3RvcmUuX3BlcnNpc3RlbnQuZ2V0RGF0YVRvTG9hZChfc3RvcmUuYXBwU3RhdGUpLAogICAgICAgIHNlYXJjaFN0YXRlOiBzZWFyY2hTdGF0ZVN0b3JlLl9wZXJzaXN0ZW50LmdldERhdGFUb0xvYWQoX3N0b3JlLnNlYXJjaFN0YXRlKSwKICAgICAgICBjYXJ0OiBjYXJ0U3RvcmUuX3BlcnNpc3RlbnQuZ2V0RGF0YVRvTG9hZChfc3RvcmUuY2FydCksCiAgICAgICAgdXNlcjogdXNlclN0b3JlLl9wZXJzaXN0ZW50LmdldERhdGFUb0xvYWQoX3N0b3JlLnVzZXIpCiAgICAgIH07CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIExvZ1NlcnZpY2UuZXJyb3IoIlZ1ZXggc3RhdGUgY2Fubm90IGJlIGxvYWRlZCAoIi5jb25jYXQoZS5tZXNzYWdlLCAiICkiKSk7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KfSk7CnZhciB2dWV4U2Vzc2lvblN0b3JhZ2UgPSBuZXcgVnVleFBlcnNpc3QoewogIGtleTogc3RvcmVDb25zdGFudHMuS0VZUy5TVE9SRSwKICAvLyBUaGUga2V5IHRvIHN0b3JlIHRoZSBzdGF0ZSBvbiBpbiB0aGUgc3RvcmFnZSBwcm92aWRlci4KICBzdG9yYWdlOiBzZXNzaW9uU3RvcmFnZSwKICByZWR1Y2VyOiBmdW5jdGlvbiByZWR1Y2VyKHN0YXRlKSB7CiAgICByZXR1cm4gewogICAgICB2ZXJzaW9uOiBhcHBDb25zdGFudHMuVkVSU0lPTiwKICAgICAgc3RvcmU6IHsKICAgICAgICBjYXJ0OiBjYXJ0U3RvcmUuX3Nlc3Npb25QZXJzaXN0LmdldERhdGFUb1NhdmUoc3RhdGUpCiAgICAgIH0KICAgIH07CiAgfSwKICByZXN0b3JlU3RhdGU6IGZ1bmN0aW9uIHJlc3RvcmVTdGF0ZShrZXksIHN0b3JhZ2UpIHsKICAgIHRyeSB7CiAgICAgIGlmICghc3RvcmFnZSB8fCAhc3RvcmFnZVtrZXldKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHZhciBzdGF0ZSA9IEpTT04ucGFyc2Uoc3RvcmFnZVtrZXldKTsKICAgICAgdmFyIF9zdG9yZTIgPSBzdGF0ZS5zdG9yZTsKICAgICAgcmV0dXJuIHsKICAgICAgICBjYXJ0OiBjYXJ0U3RvcmUuX3Nlc3Npb25QZXJzaXN0LmdldERhdGFUb0xvYWQoX3N0b3JlMi5jYXJ0KQogICAgICB9OwogICAgfSBjYXRjaCAoZSkgewogICAgICBMb2dTZXJ2aWNlLmVycm9yKCJWdWV4IHNlc3Npb24gc3RhdGUgY2Fubm90IGJlIGxvYWRlZCAoIi5jb25jYXQoZS5tZXNzYWdlLCAiICkiKSk7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KfSk7CnZhciB2dWV4U2hhcmVNdXRhdGlvbiA9IGNyZWF0ZU11dGF0aW9uc1NoYXJlcih7CiAgcHJlZGljYXRlOiBbJ2NhcnQvYWRkVG9MaXN0JywgJ2NhcnQvcmVtb3ZlRnJvbUxpc3QnLCAndXNlci9mYXZvcml0ZUVudGl0aWVzL2FkZElkJywgJ3VzZXIvZmF2b3JpdGVFbnRpdGllcy9kZWxldGVJZCcsICd1c2VyL2Zhdm9yaXRlRW50aXRpZXMvYWRkSWRCYWNrZW5kJywgJ3VzZXIvZmF2b3JpdGVFbnRpdGllcy9kZWxldGVJZEJhY2tlbmQnXQp9KTsKVnVlLnVzZShWdWV4KTsKdmFyIHN0b3JlID0gbmV3IFZ1ZXguU3RvcmUoewogIG1vZHVsZXM6IHsKICAgIGFwcFN0YXRlOiBhcHBTdGF0ZVN0b3JlLAogICAgYXBwVGVuYW50OiBhcHBUZW5hbnRTdG9yZSwKICAgIGF0dHJhY3Rpb25zOiBhdHRyYWN0aW9uc1N0b3JlLAogICAgY2FydDogY2FydFN0b3JlLAogICAgY2F0ZWdvcmllczogY2F0ZWdvcmllc1N0b3JlLAogICAgY2l0aWVzOiBjaXRpZXNTdG9yZSwKICAgIGV2ZW50czogZXZlbnRzU3RvcmUsCiAgICBub3RpZmljYXRpb246IG5vdGlmaWNhdGlvblN0b3JlLAogICAgc2VhcmNoU3RhdGU6IHNlYXJjaFN0YXRlU3RvcmUsCiAgICB0b3BFdmVudHM6IHRvcEV2ZW50c1N0b3JlLAogICAgdmVudWVzOiB2ZW51ZXNTdG9yZSwKICAgIHVzZXI6IHVzZXJTdG9yZQogIH0sCiAgcGx1Z2luczogW3Z1ZXhMb2NhbFN0b3JhZ2UucGx1Z2luLCB2dWV4U2Vzc2lvblN0b3JhZ2UucGx1Z2luLCB2dWV4U2hhcmVNdXRhdGlvbl0sCiAgc3RyaWN0OiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nCn0pOyAvL1RPRE8gKCBpb251dHQgMjAyMC0wNC0yOSApIHRoaXMgc2hvdWxkIGJlIG1vdmVkIGF3YXkgZnJvbSB0aGUgc3RvcmUsCi8vdGhpcyBkZXBlbmN5IHNob3VsZCBiZSBhdCBhbm90aGVyIGxldmVsLgoKaTE4bmV4dC5vbignaW5pdGlhbGl6ZWQnLCBmdW5jdGlvbiAoKSB7CiAgdmFyIGxhbmd1YWdlID0gc3RvcmUuc3RhdGUuYXBwU3RhdGUubGFuZ3VhZ2U7CiAgdmFyIGxhbmd1YWdlcyA9IGkxOG5leHQubGFuZ3VhZ2VzOwogIHZhciBpbml0TGFuZ3VhZ2UgPSBsYW5ndWFnZXMuaW5kZXhPZihsYW5ndWFnZSkgPT09IC0xID8gaTE4bmV4dC5sYW5ndWFnZXNbMF0gOiBsYW5ndWFnZTsKICBzdG9yZS5kaXNwYXRjaCgnYXBwU3RhdGUvc2V0TGFuZ3VhZ2UnLCBpbml0TGFuZ3VhZ2UpOwogIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2UoaW5pdExhbmd1YWdlKTsKICBkb2N1bWVudFV0aWxzU2V0TGFuZyhpbml0TGFuZ3VhZ2UpOwogIHN0b3JlLndhdGNoKGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmFwcFN0YXRlLmxhbmd1YWdlOwogIH0sIGZ1bmN0aW9uICh2YWwpIHsKICAgIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2UodmFsKTsKICAgIGRvY3VtZW50VXRpbHNTZXRMYW5nKHZhbCk7CiAgfSk7Cn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/core/store/store.js"],"names":["Vue","Vuex","VuexPersist","createMutationsSharer","i18next","appConstants","storeConstants","setLang","documentUtilsSetLang","LogService","appStateStore","appTenantStore","attractionsStore","cartStore","categoriesStore","citiesStore","eventsStore","notificationStore","searchStateStore","topEventsStore","venuesStore","userStore","vuexLocalStorage","key","KEYS","STORE","storage","localStorage","reducer","state","version","VERSION","store","appState","_persistent","getDataToSave","searchState","cart","user","restoreState","JSON","parse","getDataToLoad","e","error","message","vuexSessionStorage","sessionStorage","_sessionPersist","vuexShareMutation","predicate","use","Store","modules","appTenant","attractions","categories","cities","events","notification","topEvents","venues","plugins","plugin","strict","process","env","NODE_ENV","on","language","languages","initLanguage","indexOf","dispatch","changeLanguage","watch","val"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport VuexPersist from 'vuex-persist';\nimport createMutationsSharer from 'vuex-shared-mutations';\nimport i18next from 'i18next';\nimport appConstants from '@core/utils/constants/app';\nimport storeConstants from '@core/utils/constants/storage';\nimport {\n    setLang as documentUtilsSetLang\n} from '@core/utils/documentUtils';\nimport LogService from '@services/LogService';\n\nimport appStateStore           from './modules/appState';\nimport appTenantStore          from './modules/appTenant';\nimport  attractionsStore       from './modules/attractions/attractions';\nimport  cartStore              from './modules/cart';\nimport  categoriesStore        from './modules/categories';\nimport  citiesStore            from './modules/cities';\nimport  eventsStore            from './modules/events';\nimport  notificationStore      from './modules/notification/index';\nimport  searchStateStore       from './modules/searchState';\nimport  topEventsStore         from './modules/topEvents';\nimport  venuesStore            from './modules/venues';\nimport  userStore              from './modules/user/user';\n\nconst vuexLocalStorage = new VuexPersist( {\n    key: storeConstants.KEYS.STORE, // The key to store the state on in the storage provider.\n    storage: localStorage,\n    reducer: ( state ) => ( {\n        version: appConstants.VERSION,\n        store: {\n            appState:           appStateStore._persistent.getDataToSave ( state ),\n            searchState:        searchStateStore._persistent.getDataToSave ( state ),\n            cart:               cartStore._persistent.getDataToSave( state ),\n            user:               userStore._persistent.getDataToSave( state )\n        },\n    } ),\n    restoreState: ( key, storage ) => {\n        try {\n            if ( !storage || !storage[ key ] ) {\n                return null;\n            }\n            const state = JSON.parse( storage[ key ] );\n            const store = state.store;\n\n            return {\n                appState:           appStateStore._persistent.getDataToLoad ( store.appState ),\n                searchState:        searchStateStore._persistent.getDataToLoad ( store.searchState ),\n                cart:               cartStore._persistent.getDataToLoad( store.cart ),\n                user:               userStore._persistent.getDataToLoad( store.user )\n            };\n        } catch ( e ) {\n            LogService.error( `Vuex state cannot be loaded (${e.message} )` );\n            return null;\n        }\n    }\n} );\n\nconst vuexSessionStorage = new VuexPersist( {\n    key: storeConstants.KEYS.STORE, // The key to store the state on in the storage provider.\n    storage: sessionStorage,\n    reducer: ( state ) => ( {\n        version: appConstants.VERSION,\n        store: {\n            cart:               cartStore._sessionPersist.getDataToSave( state )\n        }\n    } ),\n    restoreState: ( key, storage ) => {\n        try {\n            if ( !storage || !storage[ key ] ) {\n                return null;\n            }\n            const state = JSON.parse( storage[ key ] );\n            const store = state.store;\n\n            return {\n                cart:               cartStore._sessionPersist.getDataToLoad( store.cart )\n            };\n        } catch ( e ) {\n            LogService.error( `Vuex session state cannot be loaded (${e.message} )` );\n            return null;\n        }\n    }\n} );\n\nconst vuexShareMutation = createMutationsSharer( {\n    predicate: [\n        'cart/addToList',\n        'cart/removeFromList',\n        'user/favoriteEntities/addId',\n        'user/favoriteEntities/deleteId',\n        'user/favoriteEntities/addIdBackend',\n        'user/favoriteEntities/deleteIdBackend',\n    ]\n} );\n\nVue.use( Vuex );\n\nconst store = new Vuex.Store( {\n    modules: {\n        appState:           appStateStore,\n        appTenant:          appTenantStore,\n        attractions:        attractionsStore,\n        cart:               cartStore,\n        categories:         categoriesStore,\n        cities:             citiesStore,\n        events:             eventsStore,\n        notification:       notificationStore,\n        searchState:        searchStateStore,\n        topEvents:          topEventsStore,\n        venues:             venuesStore,\n        user:               userStore\n    },\n    plugins: [ vuexLocalStorage.plugin, vuexSessionStorage.plugin, vuexShareMutation ],\n    strict: process.env.NODE_ENV !== 'production'\n} );\n\n\n//TODO ( ionutt 2020-04-29 ) this should be moved away from the store,\n//this depency should be at another level.\ni18next.on( 'initialized', () => {\n    const language = store.state.appState.language;\n    const languages = i18next.languages;\n    const initLanguage = languages.indexOf( language ) === -1 ? i18next.languages[ 0 ] : language;\n\n    store.dispatch( 'appState/setLanguage', initLanguage );\n    i18next.changeLanguage ( initLanguage );\n    documentUtilsSetLang( initLanguage );\n\n    store.watch( ( state ) => state.appState.language, ( val ) => {\n        i18next.changeLanguage( val );\n        documentUtilsSetLang( val );\n    } );\n} );\n\nexport default store;\n"]}]}