{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/store/modules/packageOffersHotels.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/store/modules/packageOffersHotels.js","mtime":1645805365975},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NyaXN0aWFuZGFuL0Rlc2t0b3AvbGlmZXN0eWxlLXVpL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL2xpZmVzdHlsZS11aS9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL2xpZmVzdHlsZS11aS9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvY3Jpc3RpYW5kYW4vRGVza3RvcC9saWZlc3R5bGUtdWkvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwoKdmFyIF9tdXRhdGlvbnM7CgppbXBvcnQgcXMgZnJvbSAncXMnOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBhcGlTZXJ2aWNlUGFja2FnZU9mZmVycyBmcm9tICdAY29yZS9hcGkvYXBpU2VydmljZVBhY2thZ2VPZmZlcnMnOwppbXBvcnQgbXV0YXRpb25UeXBlcyBmcm9tICdAY29yZS9oZWxwZXJzL3N0b3JlRmFjdG9yaWVzL2hlbHBlcnMvbXV0YXRpb25UeXBlcyc7CmltcG9ydCBMb2dTZXJ2aWNlIGZyb20gJ0BzZXJ2aWNlcy9Mb2dTZXJ2aWNlJzsKaW1wb3J0IEhvdGVsUmVzZXJ2YXRpb25Nb2RlbCBmcm9tICdAdGVuYW50cy90aWNrZXRtYXN0ZXIvYXBwL21vZGVscy9Ib3RlbFJlc2VydmF0aW9uTW9kZWwnOwp2YXIgU1RPUkVfTkFNRSA9ICdob3RlbHMnOwoKdmFyIGZpbmRSb29tRm9yU2VsZWN0ZWRIb3RlbFJlc2VydmF0aW9uUm9vbSA9IGZ1bmN0aW9uIGZpbmRSb29tRm9yU2VsZWN0ZWRIb3RlbFJlc2VydmF0aW9uUm9vbShsaXN0LCBob3RlbFJlc2VydmF0aW9uKSB7CiAgdmFyIHJldCA9IG51bGw7CiAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICBpZiAoaXRlbS5pZCA9PT0gaG90ZWxSZXNlcnZhdGlvbi5pZCkgewogICAgICB2YXIgcm9vbSA9IGl0ZW0ucm9vbXMuZmluZChmdW5jdGlvbiAocm9vbSkgewogICAgICAgIHJldHVybiByb29tLnJhdGUucGFja2FnZU9mZmVyLmlkID09PSBob3RlbFJlc2VydmF0aW9uLnNlbGVjdGVkUm9vbS5yYXRlLnBhY2thZ2VPZmZlci5pZDsKICAgICAgfSk7CgogICAgICBpZiAocm9vbSkgewogICAgICAgIHJldCA9IHJvb207CiAgICAgIH0KICAgIH0KICB9KTsKICByZXR1cm4gcmV0Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6IFNUT1JFX05BTUUsCiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgbGlzdDogW10sCiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIGxvYWRpbmdDb3VudGVyOiAwCiAgfSwKICBtdXRhdGlvbnM6IChfbXV0YXRpb25zID0gewogICAgc2V0SG90ZWxMaXN0OiBmdW5jdGlvbiBzZXRIb3RlbExpc3Qoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUubGlzdCA9IF90b0NvbnN1bWFibGVBcnJheShkYXRhKTsKICAgIH0sCiAgICBzZWxlY3RSb29tOiBmdW5jdGlvbiBzZWxlY3RSb29tKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBpZCA9IF9yZWYuaWQsCiAgICAgICAgICB2YWx1ZSA9IF9yZWYudmFsdWU7CiAgICAgIHZhciBpbmRleCA9IHN0YXRlLmxpc3QuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IGlkOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICBWdWUuc2V0KHN0YXRlLmxpc3QsIGluZGV4LCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLmxpc3RbaW5kZXhdKSwge30sIHsKICAgICAgICAgIHNlbGVjdGVkUm9vbTogdmFsdWUKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0KICB9LCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgbXV0YXRpb25UeXBlcy5TVEFSVF9MT0FESU5HLCBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHN0YXRlLmxvYWRpbmdDb3VudGVyID0gc3RhdGUubG9hZGluZ0NvdW50ZXIgKyAxOwogICAgc3RhdGUubG9hZGluZyA9ICEhc3RhdGUubG9hZGluZ0NvdW50ZXI7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBtdXRhdGlvblR5cGVzLlNUT1BfTE9BRElORywgZnVuY3Rpb24gKHN0YXRlKSB7CiAgICBzdGF0ZS5sb2FkaW5nQ291bnRlciA9IHN0YXRlLmxvYWRpbmdDb3VudGVyID4gMCA/IHN0YXRlLmxvYWRpbmdDb3VudGVyIC0gMSA6IDA7CiAgICBzdGF0ZS5sb2FkaW5nID0gISFzdGF0ZS5sb2FkaW5nQ291bnRlcjsKICB9KSwgX211dGF0aW9ucyksCiAgZ2V0dGVyczogewogICAgZ2V0TG9hZGluZzogZnVuY3Rpb24gZ2V0TG9hZGluZyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9hZGluZzsKICAgIH0sCiAgICBmaW5kU2FtZVJvb21Gb3JTZWxlY3RlZEhvdGVsUmVzZXJ2YXRpb25Sb29tOiBmdW5jdGlvbiBmaW5kU2FtZVJvb21Gb3JTZWxlY3RlZEhvdGVsUmVzZXJ2YXRpb25Sb29tKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoaG90ZWxSZXNlcnZhdGlvbikgewogICAgICAgIHJldHVybiBmaW5kUm9vbUZvclNlbGVjdGVkSG90ZWxSZXNlcnZhdGlvblJvb20oc3RhdGUubGlzdCwgaG90ZWxSZXNlcnZhdGlvbik7CiAgICAgIH07CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpZCkgewogICAgICAgIHJldHVybiBzdGF0ZS5saXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBpZDsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGdldEJ5RXZlbnRJZDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEJ5RXZlbnRJZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmMikgewogICAgICAgIHZhciBjb21taXQsCiAgICAgICAgICAgIF9yZWYzLAogICAgICAgICAgICBldmVudElkLAogICAgICAgICAgICBpZHMsCiAgICAgICAgICAgIGd1ZXN0Q291bnQsCiAgICAgICAgICAgIHNlY3Rpb25OYW1lLAogICAgICAgICAgICBhcGksCiAgICAgICAgICAgIHJlc3BvbnNlLAogICAgICAgICAgICBob3RlbHMsCiAgICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgICBfcmVmMyA9IF9hcmdzLmxlbmd0aCA+IDEgJiYgX2FyZ3NbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzFdIDoge30sIGV2ZW50SWQgPSBfcmVmMy5ldmVudElkLCBpZHMgPSBfcmVmMy5pZHMsIGd1ZXN0Q291bnQgPSBfcmVmMy5ndWVzdENvdW50LCBzZWN0aW9uTmFtZSA9IF9yZWYzLnNlY3Rpb25OYW1lOwogICAgICAgICAgICAgICAgY29tbWl0KG11dGF0aW9uVHlwZXMuU1RBUlRfTE9BRElORyk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldEhvdGVsTGlzdCcsIFtdKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2VQYWNrYWdlT2ZmZXJzKCcnKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgYXBpID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5wYWNrYWdlT2ZmZXJzLmhvdGVsc0J5RXZlbnRJZCh7CiAgICAgICAgICAgICAgICAgIGV2ZW50SWQ6IGV2ZW50SWQsCiAgICAgICAgICAgICAgICAgIGlkczogaWRzLAogICAgICAgICAgICAgICAgICBndWVzdENvdW50OiBndWVzdENvdW50LAogICAgICAgICAgICAgICAgICBzZWN0aW9uTmFtZTogc2VjdGlvbk5hbWUKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zU2VyaWFsaXplcjogZnVuY3Rpb24gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcXMuc3RyaW5naWZ5KHBhcmFtcywgewogICAgICAgICAgICAgICAgICAgICAgYXJyYXlGb3JtYXQ6ICdyZXBlYXQnLAogICAgICAgICAgICAgICAgICAgICAgaW5kaWNlczogZmFsc2UKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBob3RlbHMgPSByZXNwb25zZS5kYXRhLmxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9IG5ldyBIb3RlbFJlc2VydmF0aW9uTW9kZWwoKS50cmFuc2Zvcm0oaXRlbSk7CiAgICAgICAgICAgICAgICAgIG1vZGVsLnNlbGVjdGVkUm9vbSA9IG1vZGVsLnJvb21zWzBdOwogICAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWw7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0SG90ZWxMaXN0JywgaG90ZWxzKTsKICAgICAgICAgICAgICAgIGNvbW1pdChtdXRhdGlvblR5cGVzLlNUT1BfTE9BRElORyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBob3RlbHMpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgTG9nU2VydmljZS5kZWJ1ZygncHJvYmxlbSBsb2FkaW5nIGhvdGVscyBieSBldmVudCAnICsgZXZlbnRJZCk7CiAgICAgICAgICAgICAgICBjb21taXQobXV0YXRpb25UeXBlcy5TVE9QX0xPQURJTkcpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldEJ5RXZlbnRJZChfeCkgewogICAgICAgIHJldHVybiBfZ2V0QnlFdmVudElkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRCeUV2ZW50SWQ7CiAgICB9KCksCiAgICBzZWxlY3RSb29tOiBmdW5jdGlvbiBzZWxlY3RSb29tKF9yZWY0LCBfcmVmNSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICB2YXIgaWQgPSBfcmVmNS5pZCwKICAgICAgICAgIHZhbHVlID0gX3JlZjUudmFsdWU7CiAgICAgIGNvbW1pdCgnc2VsZWN0Um9vbScsIHsKICAgICAgICBpZDogaWQsCiAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZVdpdGhTZWxlY3RlZEl0ZW1JZk1hdGNoOiBmdW5jdGlvbiB1cGRhdGVXaXRoU2VsZWN0ZWRJdGVtSWZNYXRjaChfcmVmNiwgaG90ZWxSZXNlcnZhdGlvbikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0LAogICAgICAgICAgZ2V0dGVycyA9IF9yZWY2LmdldHRlcnM7CiAgICAgIHZhciByb29tID0gZ2V0dGVycy5maW5kU2FtZVJvb21Gb3JTZWxlY3RlZEhvdGVsUmVzZXJ2YXRpb25Sb29tKGhvdGVsUmVzZXJ2YXRpb24pOwoKICAgICAgaWYgKHJvb20pIHsKICAgICAgICB2YXIgaWQgPSBob3RlbFJlc2VydmF0aW9uLmlkOwogICAgICAgIGNvbW1pdCgnc2VsZWN0Um9vbScsIHsKICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgIHZhbHVlOiByb29tCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGdldHRlcnMuZ2V0KGlkKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/store/modules/packageOffersHotels.js"],"names":["qs","Vue","apiServicePackageOffers","mutationTypes","LogService","HotelReservationModel","STORE_NAME","findRoomForSelectedHotelReservationRoom","list","hotelReservation","ret","forEach","item","id","room","rooms","find","rate","packageOffer","selectedRoom","name","namespaced","state","loading","loadingCounter","mutations","setHotelList","data","selectRoom","value","index","findIndex","set","START_LOADING","STOP_LOADING","getters","getLoading","findSameRoomForSelectedHotelReservationRoom","get","actions","getByEventId","commit","eventId","ids","guestCount","sectionName","api","packageOffers","hotelsByEventId","paramsSerializer","params","stringify","arrayFormat","indices","response","success","hotels","map","model","transform","debug","updateWithSelectedItemIfMatch"],"mappings":"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","sourcesContent":["import qs from 'qs';\nimport Vue from 'vue';\nimport apiServicePackageOffers from '@core/api/apiServicePackageOffers';\nimport mutationTypes from '@core/helpers/storeFactories/helpers/mutationTypes';\nimport LogService from '@services/LogService';\nimport HotelReservationModel from '@tenants/ticketmaster/app/models/HotelReservationModel';\n\nconst STORE_NAME = 'hotels';\n\nconst findRoomForSelectedHotelReservationRoom = ( list, hotelReservation ) => {\n    let ret = null;\n\n    list.forEach( item => {\n        if ( item.id === hotelReservation.id ) {\n            const room = item.rooms.find( room => {\n                return room.rate.packageOffer.id === hotelReservation.selectedRoom.rate.packageOffer.id;\n            } );\n\n            if ( room ) {\n                ret = room;\n            }\n        }\n    } );\n\n    return ret;\n};\n\nexport default {\n    name: STORE_NAME,\n    namespaced: true,\n    state: {\n        list: [],\n        loading: false,\n        loadingCounter: 0\n    },\n    mutations: {\n        setHotelList( state, data ) {\n            state.list = [ ...data ];\n        },\n        selectRoom( state, { id, value } ) {\n            const index = state.list.findIndex( item => item.id === id );\n\n            if ( index !== -1 ) {\n                Vue.set( state.list, index, {\n                    ...state.list[ index ],\n                    selectedRoom: value\n                } );\n            }\n        },\n        [ mutationTypes.START_LOADING ] ( state ) {\n            state.loadingCounter = state.loadingCounter + 1;\n            state.loading = !!state.loadingCounter;\n        },\n        [ mutationTypes.STOP_LOADING ] ( state ) {\n            state.loadingCounter = state.loadingCounter > 0 ? state.loadingCounter - 1 : 0;\n            state.loading = !!state.loadingCounter;\n        },\n    },\n    getters: {\n        getLoading: state => {\n            return state.loading;\n        },\n        findSameRoomForSelectedHotelReservationRoom: state => hotelReservation => {\n            return findRoomForSelectedHotelReservationRoom( state.list, hotelReservation );\n        },\n        get: state => id => state.list.find( item => item.id === id ),\n    },\n    actions: {\n        getByEventId: async ( { commit }, { eventId, ids, guestCount, sectionName } = { }, ) => {\n            commit( mutationTypes.START_LOADING );\n            commit( 'setHotelList', [ ] );\n\n            const api = await apiServicePackageOffers( '' );\n            const response = await api.packageOffers.hotelsByEventId( { eventId, ids, guestCount, sectionName }, {\n                paramsSerializer: params => qs.stringify( params, { arrayFormat: 'repeat', indices: false } )\n            } );\n\n            if ( response.success ) {\n                const hotels = response.data.list.map( item => {\n                    const model = new HotelReservationModel( ).transform( item );\n                    model.selectedRoom = model.rooms[ 0 ];\n\n                    return model;\n                } );\n                commit( 'setHotelList', hotels );\n                commit( mutationTypes.STOP_LOADING );\n                return hotels;\n\n            } else {\n                LogService.debug( 'problem loading hotels by event ' + eventId );\n                commit( mutationTypes.STOP_LOADING );\n                return response;\n            }\n        },\n        selectRoom( { commit }, { id, value } ) {\n            commit( 'selectRoom', { id, value } );\n        },\n        updateWithSelectedItemIfMatch( { commit, getters }, hotelReservation ) {\n            const room = getters.findSameRoomForSelectedHotelReservationRoom( hotelReservation );\n            if ( room ) {\n                const id = hotelReservation.id;\n\n                commit ( 'selectRoom', { id, value: room } );\n                return getters.get( id );\n            }\n\n            return false;\n        }\n    }\n};\n"]}]}