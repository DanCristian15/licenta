{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/core/data/response/normalizeCart.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/data/response/normalizeCart.js","mtime":1645805363882},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IHsgcGFyc2VEYXRlU3RyaW5nIGFzIGRhdGVVdGlsc1BhcnNlRGF0ZVN0cmluZyB9IGZyb20gJ0Bjb3JlL3V0aWxzL2RhdGVVdGlscyc7CmltcG9ydCB7IG5vcm1hbGl6ZUNoYXJnZSB9IGZyb20gJ0AvY29yZS9kYXRhL3Jlc3BvbnNlL25vcm1hbGl6ZUNoYXJnZSc7CmltcG9ydCB7IG5vcm1hbGl6ZUNhcnRJdGVtIH0gZnJvbSAnQGNvcmUvZGF0YS9yZXNwb25zZS9ub3JtYWxpemVDYXJ0SXRlbSc7CmltcG9ydCB1dGlscyBmcm9tICcuL191dGlscyc7CmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVDYXJ0KGNhcnQpIHsKICB2YXIgY29sbGVjdGlvbnMgPSBjYXJ0Lml0ZW1zLm1hcChub3JtYWxpemVDYXJ0SXRlbSk7CiAgdmFyIGl0ZW1FeHBpcmVBdCA9IGRhdGVVdGlsc1BhcnNlRGF0ZVN0cmluZyhjb2xsZWN0aW9uc1swXS5leHBpcmVBdCk7CiAgdmFyIGxveWFsdHlDdXJyZW5jeSA9IGNvbGxlY3Rpb25zWzBdLmxveWFsdHlDdXJyZW5jeTsKICByZXR1cm4gewogICAgY2FydDogewogICAgICBpZDogY2FydC51dWlkLAogICAgICB1c2VySWQ6IGNhcnQudXNlcklkIHx8IG51bGwsCiAgICAgIHRlbmFudElkOiBjYXJ0LnRlbmFudElkIHx8IG51bGwsCiAgICAgIGNyZWF0ZWQ6IGNhcnQuY3JlYXRlZCA/IGRhdGVVdGlsc1BhcnNlRGF0ZVN0cmluZyhjYXJ0LmNyZWF0ZWQpIDogbmV3IERhdGUoKSwKICAgICAgZXhwaXJlZEF0OiBpdGVtRXhwaXJlQXQKICAgIH0sCiAgICBjb2xsZWN0aW9uczogY29sbGVjdGlvbnMsCiAgICBvcmRlcjogewogICAgICByZWRlZW1Qb2ludHM6IGNhcnQudG90YWxzLnJlZGVlbVBvaW50cyB8fCAwLAogICAgICBlYXJuUG9pbnRzOiBjYXJ0LnRvdGFscy5lYXJuUG9pbnRzIHx8IDAsCiAgICAgIHRvdGFsUHJpY2U6IGNhcnQudG90YWxzLnRvdGFsUHJpY2UgfHwgMCwKICAgICAgdG90YWxEZWxpdmVyeTogdXRpbHMuZ2V0U2hpcHBpbmdQcmljZShjb2xsZWN0aW9ucykgfHwgMCwKICAgICAgYmFzZVByaWNlOiBjYXJ0LnRvdGFscy5iYXNlUHJpY2UgfHwgMCwKICAgICAgZmVlOiBjYXJ0LnRvdGFscy5mZWUgfHwgMCwKICAgICAgY3VycmVuY3k6IGNhcnQudG90YWxzLmN1cnJlbmN5IHx8IG51bGwsCiAgICAgIGNoYXJnZXM6IGNvbGxlY3Rpb25zLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBpdGVtKSB7CiAgICAgICAgcmV0dXJuIGFjYyA9IGFjYy5jb25jYXQoaXRlbS5jaGFyZ2VzLm1hcChub3JtYWxpemVDaGFyZ2UpKTsKICAgICAgfSwgW10pLAogICAgICBwcmljZTogewogICAgICAgIGJhc2VQcmljZTogY2FydC50b3RhbHMuYmFzZVByaWNlLAogICAgICAgIGZlZTogY2FydC50b3RhbHMuZmVlCiAgICAgIH0sCiAgICAgIGxveWFsdHlDdXJyZW5jeTogbG95YWx0eUN1cnJlbmN5IHx8IG51bGwKICAgIH0KICB9Owp9"},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/core/data/response/normalizeCart.js"],"names":["parseDateString","dateUtilsParseDateString","normalizeCharge","normalizeCartItem","utils","normalizeCart","cart","collections","items","map","itemExpireAt","expireAt","loyaltyCurrency","id","uuid","userId","tenantId","created","Date","expiredAt","order","redeemPoints","totals","earnPoints","totalPrice","totalDelivery","getShippingPrice","basePrice","fee","currency","charges","reduce","acc","item","concat","price"],"mappings":";;AAAA,SACIA,eAAe,IAAIC,wBADvB,QAEO,uBAFP;AAGA,SAASC,eAAT,QAAgC,sCAAhC;AACA,SAASC,iBAAT,QAAkC,uCAAlC;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,OAAO,SAASC,aAAT,CAAwBC,IAAxB,EAA+B;AAClC,MAAMC,WAAW,GAAGD,IAAI,CAACE,KAAL,CAAWC,GAAX,CAAgBN,iBAAhB,CAApB;AACA,MAAMO,YAAY,GAAGT,wBAAwB,CAAEM,WAAW,CAAE,CAAF,CAAX,CAAiBI,QAAnB,CAA7C;AACA,MAAMC,eAAe,GAAGL,WAAW,CAAE,CAAF,CAAX,CAAiBK,eAAzC;AAEA,SAAO;AACHN,IAAAA,IAAI,EAAE;AACFO,MAAAA,EAAE,EAAEP,IAAI,CAACQ,IADP;AAEFC,MAAAA,MAAM,EAAET,IAAI,CAACS,MAAL,IAAe,IAFrB;AAGFC,MAAAA,QAAQ,EAAEV,IAAI,CAACU,QAAL,IAAiB,IAHzB;AAIFC,MAAAA,OAAO,EAAEX,IAAI,CAACW,OAAL,GAAehB,wBAAwB,CAAEK,IAAI,CAACW,OAAP,CAAvC,GAA0D,IAAIC,IAAJ,EAJjE;AAKFC,MAAAA,SAAS,EAAET;AALT,KADH;AAQHH,IAAAA,WAAW,EAAXA,WARG;AASHa,IAAAA,KAAK,EAAE;AACHC,MAAAA,YAAY,EAAEf,IAAI,CAACgB,MAAL,CAAYD,YAAZ,IAA4B,CADvC;AAEHE,MAAAA,UAAU,EAAEjB,IAAI,CAACgB,MAAL,CAAYC,UAAZ,IAA0B,CAFnC;AAGHC,MAAAA,UAAU,EAAElB,IAAI,CAACgB,MAAL,CAAYE,UAAZ,IAA0B,CAHnC;AAIHC,MAAAA,aAAa,EAAErB,KAAK,CAACsB,gBAAN,CAAwBnB,WAAxB,KAAyC,CAJrD;AAKHoB,MAAAA,SAAS,EAAErB,IAAI,CAACgB,MAAL,CAAYK,SAAZ,IAAyB,CALjC;AAMHC,MAAAA,GAAG,EAAEtB,IAAI,CAACgB,MAAL,CAAYM,GAAZ,IAAmB,CANrB;AAOHC,MAAAA,QAAQ,EAAEvB,IAAI,CAACgB,MAAL,CAAYO,QAAZ,IAAwB,IAP/B;AAQHC,MAAAA,OAAO,EAAEvB,WAAW,CAACwB,MAAZ,CAAoB,UAAEC,GAAF,EAAOC,IAAP,EAAiB;AAC1C,eAAOD,GAAG,GAAGA,GAAG,CAACE,MAAJ,CAAYD,IAAI,CAACH,OAAL,CAAarB,GAAb,CAAkBP,eAAlB,CAAZ,CAAb;AACH,OAFQ,EAEN,EAFM,CARN;AAWHiC,MAAAA,KAAK,EAAE;AACHR,QAAAA,SAAS,EAAErB,IAAI,CAACgB,MAAL,CAAYK,SADpB;AAEHC,QAAAA,GAAG,EAACtB,IAAI,CAACgB,MAAL,CAAYM;AAFb,OAXJ;AAeHhB,MAAAA,eAAe,EAAEA,eAAe,IAAI;AAfjC;AATJ,GAAP;AA2BH","sourcesContent":["import {\n    parseDateString as dateUtilsParseDateString\n} from '@core/utils/dateUtils';\nimport { normalizeCharge } from '@/core/data/response/normalizeCharge';\nimport { normalizeCartItem } from '@core/data/response/normalizeCartItem';\nimport utils from './_utils';\n\nexport function normalizeCart( cart ) {\n    const collections = cart.items.map( normalizeCartItem );\n    const itemExpireAt = dateUtilsParseDateString( collections[ 0 ].expireAt );\n    const loyaltyCurrency = collections[ 0 ].loyaltyCurrency;\n\n    return {\n        cart: {\n            id: cart.uuid,\n            userId: cart.userId || null,\n            tenantId: cart.tenantId || null,\n            created: cart.created ? dateUtilsParseDateString( cart.created ) : new Date( ),\n            expiredAt: itemExpireAt,\n        },\n        collections,\n        order: {\n            redeemPoints: cart.totals.redeemPoints || 0,\n            earnPoints: cart.totals.earnPoints || 0,\n            totalPrice: cart.totals.totalPrice || 0,\n            totalDelivery: utils.getShippingPrice( collections ) || 0,\n            basePrice: cart.totals.basePrice || 0,\n            fee: cart.totals.fee || 0,\n            currency: cart.totals.currency || null,\n            charges: collections.reduce( ( acc, item ) => {\n                return acc = acc.concat( item.charges.map( normalizeCharge ) );\n            }, [] ),\n            price: {\n                basePrice: cart.totals.basePrice,\n                fee:cart.totals.fee\n            },\n            loyaltyCurrency: loyaltyCurrency || null\n        }\n    };\n}"]}]}