{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/store/modules/user/userProfile.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/store/modules/user/userProfile.js","mtime":1645805365976},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NyaXN0aWFuZGFuL0Rlc2t0b3AvbGlmZXN0eWxlLXVpL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL2xpZmVzdHlsZS11aS9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL2xpZmVzdHlsZS11aS9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IFNjaGVtYSBmcm9tICd2YWxpZGF0ZSc7CmltcG9ydCBhcGlTZXJ2aWNlVXNlciBmcm9tICdAY29yZS9hcGkvYXBpU2VydmljZVVzZXInOwppbXBvcnQgbXV0YXRpb25UeXBlcyBmcm9tICdAY29yZS9oZWxwZXJzL3N0b3JlRmFjdG9yaWVzL2hlbHBlcnMvbXV0YXRpb25UeXBlcyc7CmltcG9ydCBMb2dTZXJ2aWNlIGZyb20gJ0BzZXJ2aWNlcy9Mb2dTZXJ2aWNlJzsKdmFyIFNUT1JFX05BTUUgPSAncHJvZmlsZSc7CnZhciBERUZBVUxUX1NUQVRFID0gewogIGRldGFpbDogbnVsbCwKICBlbWFpbDogbnVsbCwKICBsb2FkaW5nOiBmYWxzZSwKICBlcnJvcjogZmFsc2UsCiAgc2Vzc2lvbklkOiBudWxsCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiBTVE9SRV9OQU1FLAogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IF9vYmplY3RTcHJlYWQoe30sIERFRkFVTFRfU1RBVEUpLAogIGdldHRlcnM6IHsKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvYWRpbmc7CiAgICB9LAogICAgZ2V0RGV0YWlsOiBmdW5jdGlvbiBnZXREZXRhaWwoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRldGFpbDsKICAgIH0sCiAgICBiYWxhbmNlOiBmdW5jdGlvbiBiYWxhbmNlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5kZXRhaWwgPyBzdGF0ZS5kZXRhaWwuYmFsYW5jZSA6IDA7CiAgICB9LAogICAgZW1haWw6IGZ1bmN0aW9uIGVtYWlsKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5lbWFpbDsKICAgIH0sCiAgICBpc0F1dGg6IGZ1bmN0aW9uIGlzQXV0aChzdGF0ZSkgewogICAgICByZXR1cm4gISFzdGF0ZS5lbWFpbDsKICAgIH0sCiAgICBoYXNFcnJvcjogZnVuY3Rpb24gaGFzRXJyb3Ioc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmVycm9yOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiBfZGVmaW5lUHJvcGVydHkoewogICAgc2V0RGV0YWlsOiBmdW5jdGlvbiBzZXREZXRhaWwoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUuZGV0YWlsID0gZGF0YTsKICAgIH0sCiAgICBzZXRFcnJvcjogZnVuY3Rpb24gc2V0RXJyb3Ioc3RhdGUsIGlzRXJyb3IpIHsKICAgICAgc3RhdGUuZXJyb3IgPSBpc0Vycm9yOwogICAgfSwKICAgIHNldEVtYWlsOiBmdW5jdGlvbiBzZXRFbWFpbChzdGF0ZSwgZW1haWwpIHsKICAgICAgc3RhdGUuZW1haWwgPSBlbWFpbDsKICAgIH0sCiAgICBzZXRMb2FkaW5nOiBmdW5jdGlvbiBzZXRMb2FkaW5nKHN0YXRlLCBsb2FkaW5nKSB7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBsb2FkaW5nOwogICAgfSwKICAgIHNldFNlc3Npb25JZDogZnVuY3Rpb24gc2V0U2Vzc2lvbklkKHN0YXRlLCBzZXNzaW9uSWQpIHsKICAgICAgc3RhdGUuc2Vzc2lvbklkID0gc2Vzc2lvbklkOwogICAgfQogIH0sIG11dGF0aW9uVHlwZXMuQ0xFQVIsIGZ1bmN0aW9uIChzdGF0ZSkgewogICAgc3RhdGUuc2V0RXJyb3IgPSBmYWxzZTsKICAgIHN0YXRlLmVtYWlsID0gbnVsbDsKICAgIHN0YXRlLmRldGFpbCA9IG51bGw7CiAgICBzdGF0ZS5zZXNzaW9uSWQgPSBudWxsOwogIH0pLAogIGFjdGlvbnM6IHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmLCBlbWFpbCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlLCBhcGksIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBzdGF0ZSA9IF9yZWYuc3RhdGU7CgogICAgICAgICAgICAgICAgaWYgKCEoZW1haWwgPT09IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRMb2FkaW5nJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBhcGlTZXJ2aWNlVXNlcignJyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkudXNlci5nZXRVc2VyUHJvZmlsZSh7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0RXJyb3InLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29tbWl0KCdzZXREZXRhaWwnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0RW1haWwnLCBlbWFpbCk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldExvYWRpbmcnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBzdGF0ZS5kZXRhaWwpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgaXMganVzdCBhIHNpbXVsYXRpb24KICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBiZSBtb3N0IHByb2JhYmx5IG1hZGUgYnkgdGhlIGludGVncmF0aW9uIG9mIHBvaW50cy5jb20gbG9naW4KICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0RXJyb3InLCB0cnVlKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0TG9hZGluZycsIGZhbHNlKTsKICAgICAgICAgICAgICAgIExvZ1NlcnZpY2UuZGVidWcoJ3Byb2JsZW1zIGxvYWRpbmcgZW1haWwgJyArIGVtYWlsKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXQoX3gsIF94MikgewogICAgICAgIHJldHVybiBfZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXQ7CiAgICB9KCksCgogICAgLyoqCiAgICAgKiBIYWNrIHVudGlsIHdlIGhhdmUgYW4gc2Vzc2lvbiB3aXRoIHBvaW50cy5jb20KICAgICAqLwogICAgZ2V0U2Vzc2lvbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFNlc3Npb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKF9yZWYyLCBlbWFpbCkgewogICAgICAgIHZhciBjb21taXQsIGFwaSwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGlTZXJ2aWNlVXNlcignJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS51c2VyLmdldFNlc3Npb24oewogICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFNlc3Npb25JZCcsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgTG9nU2VydmljZS5kZWJ1ZygncHJvYmxlbXMgbG9hZGluZyBzZXNzaW9uIGZvciAnICsgZW1haWwpOwogICAgICAgICAgICAgICAgY29tbWl0KCdjbGVhcicpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0U2Vzc2lvbihfeDMsIF94NCkgewogICAgICAgIHJldHVybiBfZ2V0U2Vzc2lvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0U2Vzc2lvbjsKICAgIH0oKSwKICAgIHNldEVycm9yOiBmdW5jdGlvbiBzZXRFcnJvcihfcmVmMywgaXNFcnJvcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBjb21taXQoJ3NldEVycm9yJywgaXNFcnJvcik7CiAgICB9LAogICAgc2V0TG9hZGluZzogZnVuY3Rpb24gc2V0TG9hZGluZyhfcmVmNCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICB2YXIgbG9hZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICAgICAgY29tbWl0KCdzZXRMb2FkaW5nJywgbG9hZGluZyk7CiAgICB9LAoKICAgIC8qKgogICAgICogVE9ET3MKICAgICAqIFRlbXBvcmFyeSBhY3Rpb24gdG8gc3RvcmUgZW1haWwgYWRkcmVzcwogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gcGFyYW0wCiAgICAgKiBAcGFyYW0geyp9IGVtYWlsCiAgICAgKi8KICAgIHNldEVtYWlsOiBmdW5jdGlvbiBzZXRFbWFpbChfcmVmNSwgZW1haWwpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgY29tbWl0KCdzZXRFbWFpbCcsIGVtYWlsKTsKICAgIH0KICB9LAogIF9wZXJzaXN0ZW50OiB7CiAgICBnZXREYXRhVG9TYXZlOiBmdW5jdGlvbiBnZXREYXRhVG9TYXZlKHN0YXRlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZW1haWw6IHN0YXRlW1NUT1JFX05BTUVdLmVtYWlsLAogICAgICAgIHNlc3Npb25JZDogc3RhdGVbU1RPUkVfTkFNRV0uc2Vzc2lvbklkCiAgICAgIH07CiAgICB9LAogICAgZ2V0RGF0YVRvTG9hZDogZnVuY3Rpb24gZ2V0RGF0YVRvTG9hZChkYXRhKSB7CiAgICAgIHZhciBzY2hlbWEgPSBuZXcgU2NoZW1hKHsKICAgICAgICBlbWFpbDogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKCFkYXRhIHx8IHNjaGVtYS52YWxpZGF0ZShkYXRhKS5sZW5ndGgpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2NoZW1hIGZvciB1c2VyUHJvZmlsZSBzdG9yZScsIEpTT04uc3RyaW5naWZ5KHNjaGVtYS52YWxpZGF0ZSkpOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLAogICAgICAgIHNlc3Npb25JZDogZGF0YS5zZXNzaW9uSWQKICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/store/modules/user/userProfile.js"],"names":["Schema","apiServiceUser","mutationTypes","LogService","STORE_NAME","DEFAULT_STATE","detail","email","loading","error","sessionId","name","namespaced","state","getters","getDetail","balance","isAuth","hasError","mutations","setDetail","data","setError","isError","setEmail","setLoading","setSessionId","CLEAR","actions","get","commit","api","user","getUserProfile","response","success","debug","getSession","_persistent","getDataToSave","getDataToLoad","schema","type","String","required","validate","length","Error","JSON","stringify"],"mappings":"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","sourcesContent":["import Schema from 'validate';\nimport apiServiceUser from '@core/api/apiServiceUser';\nimport mutationTypes from '@core/helpers/storeFactories/helpers/mutationTypes';\nimport LogService from '@services/LogService';\n\nconst STORE_NAME = 'profile';\nconst DEFAULT_STATE = {\n    detail: null,\n    email: null,\n    loading: false,\n    error: false,\n    sessionId: null\n};\n\nexport default {\n    name: STORE_NAME,\n    namespaced: true,\n    state: { ...DEFAULT_STATE },\n    getters: {\n        loading: state => state.loading,\n        getDetail: state => state.detail,\n        balance: state => state.detail ? state.detail.balance : 0,\n        email: state => state.email,\n        isAuth: state => !!state.email,\n        hasError: state => state.error\n    },\n    mutations: {\n        setDetail( state, data ) {\n            state.detail = data;\n        },\n        setError( state, isError ) {\n            state.error = isError;\n        },\n        setEmail( state, email ) {\n            state.email = email;\n        },\n        setLoading( state, loading ) {\n            state.loading = loading;\n        },\n        setSessionId( state, sessionId ) {\n            state.sessionId = sessionId;\n        },\n        [mutationTypes.CLEAR]( state ) {\n            state.setError = false;\n            state.email = null;\n            state.detail = null;\n            state.sessionId = null;\n        }\n    },\n    actions: {\n        get: async ( { commit, state }, email ) => {\n            if ( email === null ) return;\n            commit( 'setLoading', true );\n            const api = await apiServiceUser( '' );\n            const response = await api.user.getUserProfile( { email: email } );\n            commit( 'setError', false );\n\n            if ( response.success ) {\n                commit( 'setDetail', response.data );\n                commit( 'setEmail', email );\n                commit( 'setLoading', false );\n                return state.detail;\n            } else {\n                // Error handling is just a simulation\n                // this will be most probably made by the integration of points.com login\n                commit( 'setError', true );\n                commit( 'setLoading', false );\n                LogService.debug( 'problems loading email ' + email );\n                return false;\n            }\n        },\n        /**\n         * Hack until we have an session with points.com\n         */\n        getSession: async ( { commit }, email ) => {\n            const api = await apiServiceUser( '' );\n            const response = await api.user.getSession( { email } );\n            if ( response.success ) {\n                commit( 'setSessionId', response.data );\n                return response.data;\n            } else {\n                LogService.debug( 'problems loading session for ' + email );\n                commit( 'clear' );\n                return null;\n            }\n        },\n        setError( { commit }, isError ) {\n            commit( 'setError', isError );\n        },\n        setLoading( { commit }, loading = true ) {\n            commit ( 'setLoading', loading );\n        },\n        /**\n         * TODOs\n         * Temporary action to store email address\n         *\n         * @param {*} param0\n         * @param {*} email\n         */\n        setEmail( { commit }, email ) {\n            commit( 'setEmail', email );\n        }\n    },\n    _persistent: {\n        getDataToSave: ( state ) => {\n            return {\n                email: state[STORE_NAME].email,\n                sessionId: state[STORE_NAME].sessionId,\n            };\n        },\n        getDataToLoad: ( data ) => {\n            const schema = new Schema( {\n                email: {\n                    type: String,\n                    required: true,\n                },\n            } );\n            if ( !data || schema.validate( data ).length ) {\n                throw( new Error( 'Invalid schema for userProfile store', JSON.stringify( schema.validate ) ) );\n            }\n            return {\n                email: data.email,\n                sessionId: data.sessionId,\n            };\n        }\n    }\n};\n"]}]}