{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/cities.js","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/cities.js","mtime":1645805363990},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL3Byb2llY3QtbGljZW50YS1mcm9udC9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NyaXN0aWFuZGFuL0Rlc2t0b3AvcHJvaWVjdC1saWNlbnRhLWZyb250L25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL3Byb2llY3QtbGljZW50YS1mcm9udC9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBzdG9yZUNvbnN0YW50cyBmcm9tICdAY29yZS91dGlscy9jb25zdGFudHMvc3RvcmUnOwppbXBvcnQgeyBpc1N0b3JlT3V0RGF0ZWQgYXMgc3RvcmVVdGlsc0lzU3RvcmVPdXREYXRlZCB9IGZyb20gJ0Bjb3JlL3V0aWxzL3N0b3JlVXRpbHMnOwppbXBvcnQgYXBpU2VydmljZUNpdGllcyBmcm9tICdAY29yZS9hcGkvYXBpU2VydmljZUNpdGllcyc7CmltcG9ydCBMb2dTZXJ2aWNlIGZyb20gJ0BzZXJ2aWNlcy9Mb2dTZXJ2aWNlJzsKdmFyIFJFRlJFU0hfVElNRSA9IHN0b3JlQ29uc3RhbnRzLlJFRlJFU0hfVElNRTsKdmFyIFNUT1JFX05BTUUgPSAnY2l0aWVzJzsKdmFyIElURU1TX1BFUl9QQUdFID0gNTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6IFNUT1JFX05BTUUsCiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgbGlzdDogW10sCiAgICB0aW1lc3RhbXA6IDAsCiAgICBsb2FkaW5nOiAwLAogICAgbGlzdEZpcnN0TG9hZDogZmFsc2UsCiAgICByZWZyZXNoOiBmYWxzZQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRMb2FkaW5nOiBmdW5jdGlvbiBzZXRMb2FkaW5nKHN0YXRlLCBsb2FkaW5nKSB7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBsb2FkaW5nID8gbG9hZGluZyA6IDA7CiAgICB9LAogICAgY2xlYXJMaXN0OiBmdW5jdGlvbiBjbGVhckxpc3Qoc3RhdGUpIHsKICAgICAgc3RhdGUubGlzdCA9IFtdOwogICAgfSwKICAgIHNldExpc3Q6IGZ1bmN0aW9uIHNldExpc3Qoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUudGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgIHN0YXRlLmxpc3RGaXJzdExvYWQgPSB0cnVlOwogICAgICBzdGF0ZS5saXN0ID0gX3RvQ29uc3VtYWJsZUFycmF5KGRhdGEpOwogICAgfSwKICAgIHNldFJlZnJlc2g6IGZ1bmN0aW9uIHNldFJlZnJlc2goc3RhdGUsIHJlZnJlc2gpIHsKICAgICAgc3RhdGUucmVmcmVzaCA9IHJlZnJlc2g7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZikgewogICAgICAgIHZhciBjb21taXQsCiAgICAgICAgICAgIHN0YXRlLAogICAgICAgICAgICBfcmVmMiwKICAgICAgICAgICAgcmVmcmVzaCwKICAgICAgICAgICAgc2VhcmNoLAogICAgICAgICAgICBuZWVkc1JlZnJlc2gsCiAgICAgICAgICAgIGFwaSwKICAgICAgICAgICAgcmVzcG9uc2UsCiAgICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwgc3RhdGUgPSBfcmVmLnN0YXRlOwogICAgICAgICAgICAgICAgX3JlZjIgPSBfYXJncy5sZW5ndGggPiAxICYmIF9hcmdzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnc1sxXSA6IHt9LCByZWZyZXNoID0gX3JlZjIucmVmcmVzaCwgc2VhcmNoID0gX3JlZjIuc2VhcmNoOwogICAgICAgICAgICAgICAgbmVlZHNSZWZyZXNoID0gcmVmcmVzaCB8fCBzdGF0ZS5yZWZyZXNoIHx8IHN0b3JlVXRpbHNJc1N0b3JlT3V0RGF0ZWQoc3RhdGUudGltZXN0YW1wLCBSRUZSRVNIX1RJTUUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpU2VydmljZUNpdGllcygnJyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFuZWVkc1JlZnJlc2gpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb21taXQoJ2NsZWFyTGlzdCcpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRMb2FkaW5nJywgc3RhdGUubG9hZGluZyArIDEpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5jaXRpZXMuZ2V0KF9vYmplY3RTcHJlYWQoewogICAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsCiAgICAgICAgICAgICAgICAgIGxpbWl0OiBJVEVNU19QRVJfUEFHRQogICAgICAgICAgICAgICAgfSwgc2VhcmNoKSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldExvYWRpbmcnLCBzdGF0ZS5sb2FkaW5nIC0gMSk7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyB8fCBjb21taXQoJ3NldExpc3QnLCByZXNwb25zZS5kYXRhLmxpc3QpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgc3RhdGUubGlzdCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBMb2dTZXJ2aWNlLmRlYnVnKCdwcm9ibGVtIGxvYWRpbmcgdG9wIGNpdGllcycpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldChfeCkgewogICAgICAgIHJldHVybiBfZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXQ7CiAgICB9KCksCiAgICBzZWFyY2g6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zZWFyY2gyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihjb250ZXh0LCBfcmVmMykgewogICAgICAgIHZhciBfc2VhcmNoLCBhcGk7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfc2VhcmNoID0gX3JlZjMuc2VhcmNoOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2VDaXRpZXMoJycpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkuY2l0aWVzLmdldChfb2JqZWN0U3ByZWFkKHt9LCBfc2VhcmNoKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNlYXJjaChfeDIsIF94MykgewogICAgICAgIHJldHVybiBfc2VhcmNoMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2VhcmNoOwogICAgfSgpLAogICAgZXhpc3RzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZXhpc3RzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhjb250ZXh0LCBfcmVmNCkgewogICAgICAgIHZhciBjaXR5LCBhcGksIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjaXR5ID0gX3JlZjQuY2l0eTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGlTZXJ2aWNlQ2l0aWVzKCcnKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgYXBpID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLmNpdGllcy5nZXQoewogICAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsCiAgICAgICAgICAgICAgICAgIGxpbWl0OiAxMCwKICAgICAgICAgICAgICAgICAga2V5d29yZDogY2l0eS5uYW1lLAogICAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZTogY2l0eS5jb3VudHJ5Q29kZSwKICAgICAgICAgICAgICAgICAgc3RhdGVDb2RlOiBjaXR5LnN0YXRlQ29kZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhLmxpc3QubGVuZ3RoKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZXhpc3RzKF94NCwgX3g1KSB7CiAgICAgICAgcmV0dXJuIF9leGlzdHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGV4aXN0czsKICAgIH0oKSwKICAgIHNlYXJjaExpc3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zZWFyY2hMaXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChfcmVmNSwgX3JlZjYpIHsKICAgICAgICB2YXIgZGlzcGF0Y2gsIHNlYXJjaCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgICBzZWFyY2ggPSBfcmVmNi5zZWFyY2g7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ3NlYXJjaCcsIHsKICAgICAgICAgICAgICAgICAgc2VhcmNoOiBzZWFyY2gKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLnN1Y2Nlc3MgPyByZXNwb25zZS5kYXRhLmxpc3QgOiBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2VhcmNoTGlzdChfeDYsIF94NykgewogICAgICAgIHJldHVybiBfc2VhcmNoTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2VhcmNoTGlzdDsKICAgIH0oKSwKICAgIG5lZWRzUmVmcmVzaDogZnVuY3Rpb24gbmVlZHNSZWZyZXNoKF9yZWY3KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNy5jb21taXQ7CiAgICAgIGNvbW1pdCgnc2V0UmVmcmVzaCcsIHRydWUpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/cities.js"],"names":["storeConstants","isStoreOutDated","storeUtilsIsStoreOutDated","apiServiceCities","LogService","REFRESH_TIME","STORE_NAME","ITEMS_PER_PAGE","name","namespaced","state","list","timestamp","loading","listFirstLoad","refresh","mutations","setLoading","clearList","setList","data","Date","getTime","setRefresh","actions","get","commit","search","needsRefresh","api","cities","offset","limit","response","success","debug","context","exists","city","keyword","countryCode","stateCode","length","searchList","dispatch"],"mappings":"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","sourcesContent":["import storeConstants from '@core/utils/constants/store';\nimport { isStoreOutDated as storeUtilsIsStoreOutDated } from '@core/utils/storeUtils';\nimport apiServiceCities from '@core/api/apiServiceCities';\nimport LogService from '@services/LogService';\n\nconst REFRESH_TIME = storeConstants.REFRESH_TIME;\n\nconst STORE_NAME = 'cities';\nconst ITEMS_PER_PAGE = 5;\n\nexport default {\n    name: STORE_NAME,\n    namespaced: true,\n    state: {\n        list:               [],\n        timestamp:          0,\n        loading:            0,\n        listFirstLoad:      false,\n        refresh:            false,\n    },\n    mutations: {\n        setLoading( state, loading ) {\n            state.loading = loading ? loading : 0;\n        },\n        clearList( state ) {\n            state.list = [ ];\n        },\n        setList( state, data ) {\n            state.timestamp = new Date( ).getTime( );\n            state.listFirstLoad = true;\n            state.list = [ ...data ];\n        },\n        setRefresh( state, refresh ) {\n            state.refresh = refresh;\n        }\n    },\n\n    actions: {\n        get: async ( { commit, state }, { refresh, search } = { } ) => {\n            const needsRefresh = refresh || state.refresh || storeUtilsIsStoreOutDated( state.timestamp, REFRESH_TIME );\n            const api = await apiServiceCities( '' );\n\n            if ( needsRefresh ) {\n                commit( 'clearList' );\n                commit( 'setLoading', state.loading + 1 );\n                const response = await api.cities.get( {\n                    offset: 0,\n                    limit:  ITEMS_PER_PAGE,\n                    ...search\n                } );\n                commit( 'setLoading', state.loading - 1 );\n                if ( response.success ) {\n                    state.loading || commit( 'setList', response.data.list );\n\n                    return state.list;\n                } else {\n                    LogService.debug( 'problem loading top cities' );\n                    return false;\n                }\n            }\n        },\n        search: async ( context, { search } ) => {\n            const api = await apiServiceCities( '' );\n            return await api.cities.get( {\n                ...search\n            } );\n        },\n        exists: async ( context, { city } ) => {\n            const api = await apiServiceCities( '' );\n            const response = await api.cities.get( {\n                offset: 0,\n                limit: 10,\n                keyword: city.name,\n                countryCode: city.countryCode,\n                stateCode: city.stateCode\n            } );\n            return response.success && response.data.list.length;\n        },\n        searchList: async( { dispatch }, { search } ) => {\n            const response = await dispatch( 'search', { search } );\n\n            return response.success ? response.data.list : null;\n        },\n        needsRefresh( { commit } ) {\n            commit( 'setRefresh', true );\n        }\n    }\n};\n"]}]}