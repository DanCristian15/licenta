{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/core/store/modules/topEvents.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/store/modules/topEvents.js","mtime":1645805363992},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvY3Jpc3RpYW5kYW4vRGVza3RvcC9saWZlc3R5bGUtdWkvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL2xpZmVzdHlsZS11aS9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvY3Jpc3RpYW5kYW4vRGVza3RvcC9saWZlc3R5bGUtdWkvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgc29ydEJ5IGZyb20gJ2xvZGFzaC9zb3J0QnknOwppbXBvcnQgc3RvcmVDb25zdGFudHMgZnJvbSAnQGNvcmUvdXRpbHMvY29uc3RhbnRzL3N0b3JlJzsKaW1wb3J0IHNlYXJjaENvbnN0YW50cyBmcm9tICdAY29yZS91dGlscy9jb25zdGFudHMvc2VhcmNoJzsKaW1wb3J0IHsgaGFzQ3VzdG9tQ2l0eUxvY2F0aW9uIGFzIHNlYXJjaE9iamVjdFV0aWxzSGFzQ3VzdG9tQ2l0eUxvY2F0aW9uLCB1cGRhdGVTZWFyY2hXaXRoQ2l0eUxvY2F0aW9uUmFuZ2UgYXMgc2VhcmNoT2JqZWN0VXRpbHNVcGRhdGVTZWFyY2hXaXRoQ2l0eUxvY2F0aW9uUmFuZ2UgfSBmcm9tICdAY29yZS91dGlscy9zZWFyY2hPYmplY3RVdGlscyc7CmltcG9ydCB7IGlzU3RvcmVPdXREYXRlZCBhcyBzdG9yZVV0aWxzSXNTdG9yZU91dERhdGVkIH0gZnJvbSAnQGNvcmUvdXRpbHMvc3RvcmVVdGlscyc7CmltcG9ydCBhcGlTZXJ2aWNlVG9wRXZlbnRzIGZyb20gJ0Bjb3JlL2FwaS9hcGlTZXJ2aWNlVG9wRXZlbnRzJzsKaW1wb3J0IHsgbm9ybWFsaXplRXZlbnQgfSBmcm9tICdAY29yZS9kYXRhL3Jlc3BvbnNlL25vcm1hbGl6ZUV2ZW50JzsKaW1wb3J0IExvZ1NlcnZpY2UgZnJvbSAnQHNlcnZpY2VzL0xvZ1NlcnZpY2UnOwp2YXIgUkVGUkVTSF9USU1FID0gc3RvcmVDb25zdGFudHMuUkVGUkVTSF9USU1FOwp2YXIgU1RPUkVfTkFNRSA9ICd0b3BFdmVudHMnOwp2YXIgSVRFTVNfUEVSX1BBR0UgPSA2OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogU1RPUkVfTkFNRSwKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBsaXN0VmlldzogW10sCiAgICAvLyB3aWxsIGNvbnRhaW4gb25seSB0aGUgaXRlbXMgc2hvdyBpbiB0aGUgbGlzdAogICAgbGlzdDogW10sCiAgICAvLyB0aGF0IHdpbGwgY29udGFpbiBhbGwgMTIgaXRlbXMKICAgIHRpbWVzdGFtcDogMCwKICAgIGxvYWRpbmc6IDAsCiAgICBsaXN0Rmlyc3RMb2FkOiBmYWxzZSwKICAgIHJlZnJlc2g6IGZhbHNlLAogICAgYWxsSXRlbXNMb2FkZWQ6IGZhbHNlLAogICAgZmlsdGVyOiB7fQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRMb2FkaW5nOiBmdW5jdGlvbiBzZXRMb2FkaW5nKHN0YXRlLCBsb2FkaW5nKSB7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBsb2FkaW5nOwogICAgfSwKICAgIGNsZWFyTGlzdHM6IGZ1bmN0aW9uIGNsZWFyTGlzdHMoc3RhdGUpIHsKICAgICAgc3RhdGUubGlzdCA9IFtdOwogICAgICBzdGF0ZS5saXN0VmlldyA9IFtdOwogICAgfSwKICAgIGFwcGVuZFBhZ2VUb0xpc3Q6IGZ1bmN0aW9uIGFwcGVuZFBhZ2VUb0xpc3Qoc3RhdGUsIHBhZ2VEYXRhKSB7CiAgICAgIHN0YXRlLnRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICBzdGF0ZS5saXN0ID0gc29ydEJ5KFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoc3RhdGUubGlzdCksIF90b0NvbnN1bWFibGVBcnJheShwYWdlRGF0YS5tYXAobm9ybWFsaXplRXZlbnQpKSksIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uc3RhcnREYXRlVGltZTsKICAgICAgfSk7CiAgICAgIHN0YXRlLmxpc3RGaXJzdExvYWQgPSB0cnVlOwogICAgfSwKICAgIGFwcGVuZFBhZ2VUb0xpc3RWaWV3OiBmdW5jdGlvbiBhcHBlbmRQYWdlVG9MaXN0VmlldyhzdGF0ZSwgcGFnZURhdGEpIHsKICAgICAgc3RhdGUubGlzdFZpZXcgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLmxpc3RWaWV3KSwgX3RvQ29uc3VtYWJsZUFycmF5KHBhZ2VEYXRhLm1hcChub3JtYWxpemVFdmVudCkpKTsKICAgIH0sCiAgICBzZXRSZWZyZXNoOiBmdW5jdGlvbiBzZXRSZWZyZXNoKHN0YXRlLCByZWZyZXNoKSB7CiAgICAgIHN0YXRlLnJlZnJlc2ggPSByZWZyZXNoOwogICAgfSwKICAgIHNldEZpbHRlcjogZnVuY3Rpb24gc2V0RmlsdGVyKHN0YXRlLCBmaWx0ZXIpIHsKICAgICAgc3RhdGUuZmlsdGVyID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5maWx0ZXIpLCBmaWx0ZXIpOwogICAgfSwKICAgIHNldEFsbEl0ZW1zTG9hZGVkOiBmdW5jdGlvbiBzZXRBbGxJdGVtc0xvYWRlZChzdGF0ZSwgYWxsSXRlbXNMb2FkZWQpIHsKICAgICAgc3RhdGUuYWxsSXRlbXNMb2FkZWQgPSBhbGxJdGVtc0xvYWRlZDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoX3JlZikgewogICAgICAgIHZhciBjb21taXQsCiAgICAgICAgICAgIHN0YXRlLAogICAgICAgICAgICBfcmVmMiwKICAgICAgICAgICAgX3JlZjIkcmVmcmVzaCwKICAgICAgICAgICAgcmVmcmVzaCwKICAgICAgICAgICAgX3JlZjIkbG9hZE5leHRQYWdlLAogICAgICAgICAgICBsb2FkTmV4dFBhZ2UsCiAgICAgICAgICAgIF9yZWYyJGZpbHRlciwKICAgICAgICAgICAgZmlsdGVyLAogICAgICAgICAgICBfcmVmMiR1c2VyQW5hbHl0aWNzLAogICAgICAgICAgICB1c2VyQW5hbHl0aWNzLAogICAgICAgICAgICBuZWVkc1JlZnJlc2gsCiAgICAgICAgICAgIGdldEl0ZW1zRmFsbGJhY2ssCiAgICAgICAgICAgIHJlc3BvbnNlLAogICAgICAgICAgICBsaXN0LAogICAgICAgICAgICBfYXJnczIgPSBhcmd1bWVudHM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwgc3RhdGUgPSBfcmVmLnN0YXRlOwogICAgICAgICAgICAgICAgX3JlZjIgPSBfYXJnczIubGVuZ3RoID4gMSAmJiBfYXJnczJbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMlsxXSA6IHt9LCBfcmVmMiRyZWZyZXNoID0gX3JlZjIucmVmcmVzaCwgcmVmcmVzaCA9IF9yZWYyJHJlZnJlc2ggPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIkcmVmcmVzaCwgX3JlZjIkbG9hZE5leHRQYWdlID0gX3JlZjIubG9hZE5leHRQYWdlLCBsb2FkTmV4dFBhZ2UgPSBfcmVmMiRsb2FkTmV4dFBhZ2UgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIkbG9hZE5leHRQYWdlLCBfcmVmMiRmaWx0ZXIgPSBfcmVmMi5maWx0ZXIsIGZpbHRlciA9IF9yZWYyJGZpbHRlciA9PT0gdm9pZCAwID8ge30gOiBfcmVmMiRmaWx0ZXIsIF9yZWYyJHVzZXJBbmFseXRpY3MgPSBfcmVmMi51c2VyQW5hbHl0aWNzLCB1c2VyQW5hbHl0aWNzID0gX3JlZjIkdXNlckFuYWx5dGljcyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMiR1c2VyQW5hbHl0aWNzOwogICAgICAgICAgICAgICAgbmVlZHNSZWZyZXNoID0gIWxvYWROZXh0UGFnZSAmJiAocmVmcmVzaCB8fCBzdGF0ZS5yZWZyZXNoIHx8IHN0b3JlVXRpbHNJc1N0b3JlT3V0RGF0ZWQoc3RhdGUudGltZXN0YW1wLCBSRUZSRVNIX1RJTUUpKTsKCiAgICAgICAgICAgICAgICBnZXRJdGVtc0ZhbGxiYWNrID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGZpbHRlciwgb3B0aW9ucykgewogICAgICAgICAgICAgICAgICAgIHZhciBhcGksIHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaVNlcnZpY2VUb3BFdmVudHMoJycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VhcmNoT2JqZWN0VXRpbHNIYXNDdXN0b21DaXR5TG9jYXRpb24oZmlsdGVyKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaS50b3BFdmVudHMuZ2V0KHNlYXJjaE9iamVjdFV0aWxzVXBkYXRlU2VhcmNoV2l0aENpdHlMb2NhdGlvblJhbmdlKGZpbHRlciwgc2VhcmNoQ29uc3RhbnRzLkRFRkFVTFQuTE9DQVRJT04uUkFOR0UuREVGQVVMVCksIG9wdGlvbnMpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhLmxpc3QubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBhcGkudG9wRXZlbnRzLmdldChzZWFyY2hPYmplY3RVdGlsc1VwZGF0ZVNlYXJjaFdpdGhDaXR5TG9jYXRpb25SYW5nZShmaWx0ZXIsIHNlYXJjaENvbnN0YW50cy5ERUZBVUxULkxPQ0FUSU9OLlJBTkdFLkZBTExCQUNLKSwgb3B0aW9ucykpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgYXBpLnRvcEV2ZW50cy5nZXQoZmlsdGVyLCBvcHRpb25zKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGdldEl0ZW1zRmFsbGJhY2soX3gyLCBfeDMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKTsKCiAgICAgICAgICAgICAgICBsb2FkTmV4dFBhZ2UgfHwgY29tbWl0KCdzZXRGaWx0ZXInLCBmaWx0ZXIpOwoKICAgICAgICAgICAgICAgIGlmICghbG9hZE5leHRQYWdlICYmIG5lZWRzUmVmcmVzaCkgewogICAgICAgICAgICAgICAgICBjb21taXQoJ2NsZWFyTGlzdHMnKTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRBbGxJdGVtc0xvYWRlZCcsIGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIW5lZWRzUmVmcmVzaCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb21taXQoJ3NldExvYWRpbmcnLCBzdGF0ZS5sb2FkaW5nICsgMSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldEl0ZW1zRmFsbGJhY2soX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBmaWx0ZXIpLCB7fSwgewogICAgICAgICAgICAgICAgICBvZmZzZXQ6IHN0YXRlLmxpc3QubGVuZ3RoLAogICAgICAgICAgICAgICAgICBsaW1pdDogSVRFTVNfUEVSX1BBR0UgKiAyCiAgICAgICAgICAgICAgICB9KSwgewogICAgICAgICAgICAgICAgICB1c2VyQW5hbHl0aWNzOiB1c2VyQW5hbHl0aWNzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldExvYWRpbmcnLCBzdGF0ZS5sb2FkaW5nIC0gMSk7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghc3RhdGUubG9hZGluZykgewogICAgICAgICAgICAgICAgICBsaXN0ID0gcmVzcG9uc2UuZGF0YS5saXN0OwogICAgICAgICAgICAgICAgICBjb21taXQoJ2FwcGVuZFBhZ2VUb0xpc3QnLCBsaXN0KTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdhcHBlbmRQYWdlVG9MaXN0VmlldycsIHN0YXRlLmxpc3Quc2xpY2UoMCwgSVRFTVNfUEVSX1BBR0UpKTsKCiAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5saXN0Vmlldy5sZW5ndGggPCBJVEVNU19QRVJfUEFHRSkgewogICAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0QWxsSXRlbXNMb2FkZWQnLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBzdGF0ZS5saXN0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIExvZ1NlcnZpY2UuZGVidWcoJ3Byb2JsZW0gbG9hZGluZyB0b3AgZXZlbnRzICcpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIGlmIChsb2FkTmV4dFBhZ2UpIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdhcHBlbmRQYWdlVG9MaXN0VmlldycsIHN0YXRlLmxpc3Quc2xpY2UoSVRFTVNfUEVSX1BBR0UsIHN0YXRlLmxpc3QubGVuZ3RoKSk7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0QWxsSXRlbXNMb2FkZWQnLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldChfeCkgewogICAgICAgIHJldHVybiBfZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXQ7CiAgICB9KCksCiAgICB1cGRhdGVGaWx0ZXI6IGZ1bmN0aW9uIHVwZGF0ZUZpbHRlcihfcmVmNCwgZmlsdGVyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgIGNvbW1pdCgnc2V0RmlsdGVyJywgZmlsdGVyKTsKICAgIH0sCiAgICBuZWVkc1JlZnJlc2g6IGZ1bmN0aW9uIG5lZWRzUmVmcmVzaChfcmVmNSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgICBjb21taXQoJ3NldFJlZnJlc2gnLCB0cnVlKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/core/store/modules/topEvents.js"],"names":["sortBy","storeConstants","searchConstants","hasCustomCityLocation","searchObjectUtilsHasCustomCityLocation","updateSearchWithCityLocationRange","searchObjectUtilsUpdateSearchWithCityLocationRange","isStoreOutDated","storeUtilsIsStoreOutDated","apiServiceTopEvents","normalizeEvent","LogService","REFRESH_TIME","STORE_NAME","ITEMS_PER_PAGE","name","namespaced","state","listView","list","timestamp","loading","listFirstLoad","refresh","allItemsLoaded","filter","mutations","setLoading","clearLists","appendPageToList","pageData","Date","getTime","map","item","startDateTime","appendPageToListView","setRefresh","setFilter","setAllItemsLoaded","actions","get","commit","loadNextPage","userAnalytics","needsRefresh","getItemsFallback","options","api","topEvents","DEFAULT","LOCATION","RANGE","response","success","data","length","FALLBACK","offset","limit","slice","debug","updateFilter"],"mappings":"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","sourcesContent":["import sortBy from 'lodash/sortBy';\nimport storeConstants from '@core/utils/constants/store';\nimport searchConstants from '@core/utils/constants/search';\nimport {\n    hasCustomCityLocation as searchObjectUtilsHasCustomCityLocation,\n    updateSearchWithCityLocationRange as searchObjectUtilsUpdateSearchWithCityLocationRange\n} from '@core/utils/searchObjectUtils';\nimport { isStoreOutDated as storeUtilsIsStoreOutDated } from '@core/utils/storeUtils';\nimport apiServiceTopEvents from '@core/api/apiServiceTopEvents';\nimport { normalizeEvent } from '@core/data/response/normalizeEvent';\nimport LogService from '@services/LogService';\n\nconst REFRESH_TIME = storeConstants.REFRESH_TIME;\n\n\nconst STORE_NAME = 'topEvents';\nconst ITEMS_PER_PAGE = 6;\n\nexport default {\n    name: STORE_NAME,\n    namespaced: true,\n    state: {\n        listView:          [], // will contain only the items show in the list\n        list:              [], // that will contain all 12 items\n        timestamp:          0,\n        loading:            0,\n        listFirstLoad:      false,\n        refresh:            false,\n        allItemsLoaded:     false,\n        filter:             { }\n    },\n    mutations: {\n        setLoading( state, loading ) {\n            state.loading = loading;\n        },\n        clearLists( state ) {\n            state.list = [ ];\n            state.listView = [ ];\n        },\n        appendPageToList( state, pageData ) {\n            state.timestamp = new Date( ).getTime( );\n            state.list = sortBy( [\n                ...state.list,\n                ...( pageData.map( normalizeEvent ) )\n            ], ( item ) => item.startDateTime );\n            state.listFirstLoad = true;\n        },\n        appendPageToListView( state, pageData ) {\n            state.listView = [\n                ...state.listView,\n                ...( pageData.map( normalizeEvent ) )\n            ];\n        },\n        setRefresh( state, refresh ) {\n            state.refresh = refresh;\n        },\n        setFilter( state, filter ) {\n            state.filter = {\n                ...state.filter,\n                ...filter\n            };\n        },\n        setAllItemsLoaded( state, allItemsLoaded ) {\n            state.allItemsLoaded = allItemsLoaded;\n        }\n    },\n\n    actions: {\n        get: async ( { commit, state }, { refresh = false, loadNextPage = false, filter = { }, userAnalytics = false } = { } ) => {\n            const needsRefresh = !loadNextPage && ( refresh || state.refresh || storeUtilsIsStoreOutDated( state.timestamp, REFRESH_TIME ) );\n            const getItemsFallback = async ( filter, options ) => {\n                const api = await apiServiceTopEvents( '' );\n\n                if ( searchObjectUtilsHasCustomCityLocation( filter ) ) {\n                    const response = await api.topEvents.get( searchObjectUtilsUpdateSearchWithCityLocationRange( filter, searchConstants.DEFAULT.LOCATION.RANGE.DEFAULT ), options );\n                    if ( response.success && response.data.list.length ) {\n                        return response;\n                    }\n                    return api.topEvents.get( searchObjectUtilsUpdateSearchWithCityLocationRange( filter, searchConstants.DEFAULT.LOCATION.RANGE.FALLBACK ), options );\n                }\n\n                return api.topEvents.get( filter, options );\n            };\n\n            loadNextPage || commit( 'setFilter', filter );\n            if ( !loadNextPage && needsRefresh ) {\n                commit( 'clearLists' );\n                commit( 'setAllItemsLoaded', false );\n            }\n            if ( needsRefresh ) {\n                commit( 'setLoading', state.loading + 1 );\n                const response = await getItemsFallback (\n                    {\n                        ...filter,\n                        offset: state.list.length,\n                        limit:  ITEMS_PER_PAGE * 2\n                    },\n                    {\n                        userAnalytics\n                    }\n                );\n                commit( 'setLoading', state.loading - 1 );\n                if ( response.success ) {\n                    if ( !state.loading ) {\n                        const { list } = response.data;\n                        commit( 'appendPageToList', list );\n                        commit( 'appendPageToListView', state.list.slice( 0, ITEMS_PER_PAGE ) );\n                        if ( state.listView.length < ITEMS_PER_PAGE ) {\n                            commit( 'setAllItemsLoaded', true );\n                        }\n                    }\n\n                    return state.list;\n                } else {\n                    LogService.debug( 'problem loading top events ' );\n                    return false;\n                }\n            } else {\n                if ( loadNextPage ) {\n                    commit( 'appendPageToListView', state.list.slice( ITEMS_PER_PAGE, state.list.length ) );\n                    commit( 'setAllItemsLoaded', true );\n                }\n            }\n        },\n        updateFilter( { commit }, filter ) {\n            commit( 'setFilter', filter );\n        },\n        needsRefresh( { commit } ) {\n            commit( 'setRefresh', true );\n        }\n    }\n};\n"]}]}