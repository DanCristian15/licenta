{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/services/ApiCancelService.js","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/services/ApiCancelService.js","mtime":1645805363913},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IGZldGNoIGZyb20gJ0Bjb3JlL3V0aWxzL2ZldGNoJzsKdmFyIGF4aW9zVG9rZW5zID0ge307CmV4cG9ydCBkZWZhdWx0IHsKICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4oa2V5KSB7CiAgICB2YXIgdG9rZW4gPSBmZXRjaC5nZXRDYW5jZWxSZXF1ZXN0KCk7CiAgICBheGlvc1Rva2Vuc1trZXldID0gYXhpb3NUb2tlbnNba2V5XSA/IGF4aW9zVG9rZW5zW2tleV0gOiBbXTsKICAgIGF4aW9zVG9rZW5zW2tleV0ucHVzaCh0b2tlbik7CiAgICByZXR1cm4gdG9rZW4udG9rZW47CiAgfSwKICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoa2V5LCByZWFzb24pIHsKICAgIHZhciBoYXNLZXkgPSBheGlvc1Rva2Vucy5oYXNPd25Qcm9wZXJ0eShrZXkpOwoKICAgIGlmIChoYXNLZXkgJiYgQXJyYXkuaXNBcnJheShheGlvc1Rva2Vuc1trZXldKSkgewogICAgICBheGlvc1Rva2Vuc1trZXldLm1hcChmdW5jdGlvbiAodG9rZW4pIHsKICAgICAgICB0b2tlbi5jYW5jZWwocmVhc29uKTsKICAgICAgfSk7CiAgICAgIGF4aW9zVG9rZW5zW2tleV0gPSBbXTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/cristiandan/Desktop/proiect-licenta-front/src/core/services/ApiCancelService.js"],"names":["fetch","axiosTokens","getToken","key","token","getCancelRequest","push","clear","reason","hasKey","hasOwnProperty","Array","isArray","map","cancel"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,mBAAlB;AAEA,IAAIC,WAAW,GAAG,EAAlB;AAEA,eAAe;AACXC,EAAAA,QADW,oBACAC,GADA,EACM;AACb,QAAMC,KAAK,GAAGJ,KAAK,CAACK,gBAAN,EAAd;AACAJ,IAAAA,WAAW,CAAEE,GAAF,CAAX,GAAqBF,WAAW,CAAEE,GAAF,CAAX,GAAqBF,WAAW,CAAEE,GAAF,CAAhC,GAA0C,EAA/D;AACAF,IAAAA,WAAW,CAAEE,GAAF,CAAX,CAAmBG,IAAnB,CAAyBF,KAAzB;AACA,WAAOA,KAAK,CAACA,KAAb;AACH,GANU;AAOXG,EAAAA,KAPW,iBAOJJ,GAPI,EAOCK,MAPD,EAOU;AACjB,QAAMC,MAAM,GAAGR,WAAW,CAACS,cAAZ,CAA4BP,GAA5B,CAAf;;AACA,QAAKM,MAAM,IAAIE,KAAK,CAACC,OAAN,CAAeX,WAAW,CAAEE,GAAF,CAA1B,CAAf,EAAqD;AACjDF,MAAAA,WAAW,CAAEE,GAAF,CAAX,CAAmBU,GAAnB,CAAwB,UAAAT,KAAK,EAAI;AAC7BA,QAAAA,KAAK,CAACU,MAAN,CAAcN,MAAd;AACH,OAFD;AAGAP,MAAAA,WAAW,CAAEE,GAAF,CAAX,GAAqB,EAArB;AACH;AACJ;AAfU,CAAf","sourcesContent":["import fetch from '@core/utils/fetch';\n\nlet axiosTokens = {};\n\nexport default {\n    getToken ( key ) {\n        const token = fetch.getCancelRequest();\n        axiosTokens[ key ] = axiosTokens[ key ] ? axiosTokens[ key ] : [];\n        axiosTokens[ key ].push( token );\n        return token.token;\n    },\n    clear( key, reason ) {\n        const hasKey = axiosTokens.hasOwnProperty( key );\n        if ( hasKey && Array.isArray( axiosTokens[ key ] ) ) {\n            axiosTokens[ key ].map( token => {\n                token.cancel( reason );\n            } );\n            axiosTokens[ key ] = [];\n        }\n    },\n};\n"]}]}