{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/utils/hotelReservationCancellationPolicies.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/utils/hotelReservationCancellationPolicies.js","mtime":1645805365978},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL2xpZmVzdHlsZS11aS9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmV4cG9ydCB2YXIgZ2V0VGltZWxpbmUgPSBmdW5jdGlvbiBnZXRUaW1lbGluZShob3RlbENhbmNlbGxhdGlvblBvbGljaWVzKSB7CiAgdmFyIGN1cnJlbnQgPSBudWxsOwogIHZhciBmdXR1cmVzID0gbnVsbDsKCiAgaWYgKCFob3RlbENhbmNlbGxhdGlvblBvbGljaWVzLmxlbmd0aCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudDogY3VycmVudCwKICAgICAgZnV0dXJlczogZnV0dXJlcwogICAgfTsKICB9CgogIGlmIChob3RlbENhbmNlbGxhdGlvblBvbGljaWVzLmxlbmd0aCA9PT0gMSkgewogICAgY3VycmVudCA9IGhvdGVsQ2FuY2VsbGF0aW9uUG9saWNpZXNbMF07CiAgICByZXR1cm4gewogICAgICBjdXJyZW50OiBjdXJyZW50LAogICAgICBmdXR1cmVzOiBmdXR1cmVzCiAgICB9OwogIH0KCiAgdmFyIGNocm9ub2xvZ2ljYWxseVNvcnRlZFBvbGljaWVzID0gX3RvQ29uc3VtYWJsZUFycmF5KGhvdGVsQ2FuY2VsbGF0aW9uUG9saWNpZXMpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgIHJldHVybiBuZXcgRGF0ZShhLmZyb21BdCkgLSBuZXcgRGF0ZShiLmZyb21BdCk7CiAgfSk7CgogIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBjaHJvbm9sb2dpY2FsbHlTb3J0ZWRQb2xpY2llcy5sZW5ndGg7IGluZGV4KyspIHsKICAgIHZhciBlbGVtZW50ID0gY2hyb25vbG9naWNhbGx5U29ydGVkUG9saWNpZXNbaW5kZXhdOwoKICAgIGlmIChuZXcgRGF0ZShlbGVtZW50LmZyb21BdCkgPCBuZXcgRGF0ZSgpKSB7CiAgICAgIGN1cnJlbnQgPSBlbGVtZW50OwogICAgICBmdXR1cmVzID0gY2hyb25vbG9naWNhbGx5U29ydGVkUG9saWNpZXMuc2xpY2UoaW5kZXggKyAxKTsKICAgICAgYnJlYWs7CiAgICB9IGVsc2UgewogICAgICBmdXR1cmVzID0gQXJyYXkuaXNBcnJheShmdXR1cmVzKSA/IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoZnV0dXJlcyksIFtlbGVtZW50XSkgOiBbZWxlbWVudF07CiAgICB9CiAgfQoKICByZXR1cm4gewogICAgY3VycmVudDogY3VycmVudCwKICAgIGZ1dHVyZXM6IGZ1dHVyZXMKICB9Owp9Ow=="},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/utils/hotelReservationCancellationPolicies.js"],"names":["getTimeline","hotelCancellationPolicies","current","futures","length","chronologicallySortedPolicies","sort","a","b","Date","fromAt","index","element","slice","Array","isArray"],"mappings":";;;AAAA,OAAO,IAAMA,WAAW,GAAG,SAAdA,WAAc,CAAEC,yBAAF,EAAiC;AACxD,MAAIC,OAAO,GAAG,IAAd;AACA,MAAIC,OAAO,GAAG,IAAd;;AAEA,MAAK,CAACF,yBAAyB,CAACG,MAAhC,EAAyC;AACrC,WAAO;AAAEF,MAAAA,OAAO,EAAPA,OAAF;AAAWC,MAAAA,OAAO,EAAPA;AAAX,KAAP;AACH;;AAED,MAAKF,yBAAyB,CAACG,MAA1B,KAAqC,CAA1C,EAA8C;AAC1CF,IAAAA,OAAO,GAAGD,yBAAyB,CAAC,CAAD,CAAnC;AACA,WAAO;AAAEC,MAAAA,OAAO,EAAPA,OAAF;AAAWC,MAAAA,OAAO,EAAPA;AAAX,KAAP;AACH;;AAED,MAAME,6BAA6B,GAAG,mBAAKJ,yBAAL,EAAiCK,IAAjC,CAAuC,UAAEC,CAAF,EAAKC,CAAL;AAAA,WAAY,IAAIC,IAAJ,CAAUF,CAAC,CAACG,MAAZ,IAAuB,IAAID,IAAJ,CAAUD,CAAC,CAACE,MAAZ,CAAnC;AAAA,GAAvC,CAAtC;;AAEA,OAAM,IAAIC,KAAK,GAAG,CAAlB,EAAqBA,KAAK,GAAGN,6BAA6B,CAACD,MAA3D,EAAoEO,KAAK,EAAzE,EAA8E;AAC1E,QAAMC,OAAO,GAAGP,6BAA6B,CAACM,KAAD,CAA7C;;AAEA,QAAK,IAAIF,IAAJ,CAAUG,OAAO,CAACF,MAAlB,IAA6B,IAAID,IAAJ,EAAlC,EAA+C;AAC3CP,MAAAA,OAAO,GAAGU,OAAV;AACAT,MAAAA,OAAO,GAAGE,6BAA6B,CAACQ,KAA9B,CAAqCF,KAAK,GAAG,CAA7C,CAAV;AACA;AACH,KAJD,MAIO;AACHR,MAAAA,OAAO,GAAGW,KAAK,CAACC,OAAN,CAAeZ,OAAf,iCAAgCA,OAAhC,IAAyCS,OAAzC,KAAqD,CAAEA,OAAF,CAA/D;AACH;AACJ;;AAED,SAAO;AACHV,IAAAA,OAAO,EAAPA,OADG;AAEHC,IAAAA,OAAO,EAAPA;AAFG,GAAP;AAIH,CA/BM","sourcesContent":["export const getTimeline = ( hotelCancellationPolicies ) => {\n    let current = null;\n    let futures = null;\n\n    if ( !hotelCancellationPolicies.length ) {\n        return { current, futures };\n    }\n\n    if ( hotelCancellationPolicies.length === 1 ) {\n        current = hotelCancellationPolicies[0];\n        return { current, futures };\n    }\n\n    const chronologicallySortedPolicies = [ ...hotelCancellationPolicies ].sort( ( a, b ) => new Date( a.fromAt ) - new Date( b.fromAt ) );\n\n    for ( let index = 0; index < chronologicallySortedPolicies.length ; index++ ) {\n        const element = chronologicallySortedPolicies[index];\n\n        if ( new Date( element.fromAt ) < new Date() ) {\n            current = element;\n            futures = chronologicallySortedPolicies.slice( index + 1 );\n            break;\n        } else {\n            futures = Array.isArray( futures ) ? [ ...futures, element ] : [ element ];\n        }\n    }\n\n    return {\n        current,\n        futures,\n    };\n};"]}]}