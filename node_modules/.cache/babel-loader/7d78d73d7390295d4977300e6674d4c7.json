{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/core/mixins/menus/UserMenuMixin.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/mixins/menus/UserMenuMixin.js","mtime":1645805363900},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NyaXN0aWFuZGFuL0Rlc2t0b3AvbGlmZXN0eWxlLXVpL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgdHJ1bmNhdGUgZnJvbSAnbG9kYXNoL3RydW5jYXRlJzsKaW1wb3J0IGxveWFsdHlDb25zdGFudHMgZnJvbSAnQGNvcmUvdXRpbHMvY29uc3RhbnRzL2xveWFsdHknOwppbXBvcnQgSWNvblVzZXIgZnJvbSAnQGNvcmUvc2hhcmVkL2Fzc2V0cy9pY29ucy91c2VyLnN2Zyc7CnZhciBtaXhpbiA9IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWVudU9wZW5lZDogZmFsc2UKICAgIH07CiAgfSwKICBwcm9wczogewogICAgdXNlckRldGFpbDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEljb25Vc2VyOiBJY29uVXNlcgogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoewogICAgdGVuYW50Q3VycmVuY3lUeXBlOiBmdW5jdGlvbiB0ZW5hbnRDdXJyZW5jeVR5cGUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmFwcFRlbmFudC5jb25maWcubG95YWx0eS5jdXJyZW5jeVR5cGU7CiAgICB9CiAgfSkpLCB7fSwgewogICAgc2hvd1VzZXJCYWxhbmNlOiBmdW5jdGlvbiBzaG93VXNlckJhbGFuY2UoKSB7CiAgICAgIHJldHVybiB0aGlzLnRlbmFudEN1cnJlbmN5VHlwZSA9PT0gbG95YWx0eUNvbnN0YW50cy5DVVJSRU5DWV9UWVBFUy5QT0lOVFM7CiAgICB9LAogICAgcG9pbnRzRm9ybWF0ZWQ6IGZ1bmN0aW9uIHBvaW50c0Zvcm1hdGVkKCkgewogICAgICByZXR1cm4gdGhpcy4kb3B0aW9ucy5maWx0ZXJzLmJvbnVzUG9pbnRzKHRoaXMudXNlckRldGFpbC5iYWxhbmNlKTsKICAgIH0sCiAgICBmdWxsTmFtZTogZnVuY3Rpb24gZnVsbE5hbWUoKSB7CiAgICAgIHZhciBfdGhpcyR1c2VyRGV0YWlsID0gdGhpcy51c2VyRGV0YWlsLAogICAgICAgICAgZmlyc3ROYW1lID0gX3RoaXMkdXNlckRldGFpbC5maXJzdE5hbWUsCiAgICAgICAgICBsYXN0TmFtZSA9IF90aGlzJHVzZXJEZXRhaWwubGFzdE5hbWU7CiAgICAgIHZhciByZXQgPSAiIi5jb25jYXQoZmlyc3ROYW1lLCAiICIpLmNvbmNhdChsYXN0TmFtZSk7CiAgICAgIHJldHVybiAhdGhpcy4kdnVldGlmeS5icmVha3BvaW50Lm1kQW5kRG93biA/IHRydW5jYXRlKHJldCwgewogICAgICAgIGxlbmd0aDogMjAKICAgICAgfSkgOiByZXQ7CiAgICB9CiAgfSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIHVzZXJMb2dvdXQ6ICd1c2VyL2xvZ291dCcsCiAgICBzaG93TG9hZGluZ092ZXJsYXk6ICdhcHBTdGF0ZS9zZXRMb2FkaW5nJwogIH0pKSwge30sIHsKICAgIG9uQ2xpY2tMb2dvdXQ6IGZ1bmN0aW9uIG9uQ2xpY2tMb2dvdXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMudXNlckxvZ291dCgpOwoKICAgICAgICBfdGhpcy5zaG93TG9hZGluZ092ZXJsYXkodHJ1ZSk7CgogICAgICAgIF90aGlzLiRyb3V0ZXIuZ28oewogICAgICAgICAgbmFtZTogJ2hvbWUnCiAgICAgICAgfSk7CiAgICAgIH0sIDUwMCk7CiAgICB9CiAgfSkKfTsKZXhwb3J0IGRlZmF1bHQgbWl4aW47"},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/core/mixins/menus/UserMenuMixin.js"],"names":["mapActions","mapState","truncate","loyaltyConstants","IconUser","mixin","data","menuOpened","props","userDetail","type","Object","default","components","computed","tenantCurrencyType","state","appTenant","config","loyalty","currencyType","showUserBalance","CURRENCY_TYPES","POINTS","pointsFormated","$options","filters","bonusPoints","balance","fullName","firstName","lastName","ret","$vuetify","breakpoint","mdAndDown","length","methods","userLogout","showLoadingOverlay","onClickLogout","show","setTimeout","$router","go","name"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,QAArB,QAAqC,MAArC;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,OAAOC,QAAP,MAAqB,oCAArB;AAEA,IAAIC,KAAK,GAAG;AACRC,EAAAA,IAAI,EAAE,gBAAW;AACb,WAAO;AACHC,MAAAA,UAAU,EAAE;AADT,KAAP;AAGH,GALO;AAMRC,EAAAA,KAAK,EAAE;AACHC,IAAAA,UAAU,EAAE;AACRC,MAAAA,IAAI,EAAEC,MADE;AAERC,MAAAA,OAAO,EAAE;AAFD;AADT,GANC;AAYRC,EAAAA,UAAU,EAAE;AACRT,IAAAA,QAAQ,EAARA;AADQ,GAZJ;AAeRU,EAAAA,QAAQ,kCACDb,QAAQ,CAAE;AACTc,IAAAA,kBAAkB,EAAE,4BAAAC,KAAK;AAAA,aAAIA,KAAK,CAACC,SAAN,CAAgBC,MAAhB,CAAuBC,OAAvB,CAA+BC,YAAnC;AAAA;AADhB,GAAF,CADP;AAIJC,IAAAA,eAJI,6BAIc;AACd,aAAO,KAAKN,kBAAL,KAA4BZ,gBAAgB,CAACmB,cAAjB,CAAgCC,MAAnE;AACH,KANG;AAOJC,IAAAA,cAPI,4BAOc;AACd,aAAO,KAAKC,QAAL,CAAcC,OAAd,CAAsBC,WAAtB,CAAmC,KAAKlB,UAAL,CAAgBmB,OAAnD,CAAP;AACH,KATG;AAUJC,IAAAA,QAVI,sBAUO;AAAA,6BACyB,KAAKpB,UAD9B;AAAA,UACCqB,SADD,oBACCA,SADD;AAAA,UACYC,QADZ,oBACYA,QADZ;AAEP,UAAMC,GAAG,aAAMF,SAAN,cAAmBC,QAAnB,CAAT;AACA,aAAO,CAAC,KAAKE,QAAL,CAAcC,UAAd,CAAyBC,SAA1B,GAAsCjC,QAAQ,CAAE8B,GAAF,EAAO;AAAEI,QAAAA,MAAM,EAAE;AAAV,OAAP,CAA9C,GAAyEJ,GAAhF;AACH;AAdG,IAfA;AA+BRK,EAAAA,OAAO,kCACArC,UAAU,CAAE;AACXsC,IAAAA,UAAU,EAA4B,aAD3B;AAEXC,IAAAA,kBAAkB,EAAc;AAFrB,GAAF,CADV;AAKHC,IAAAA,aALG,2BAKa;AAAA;;AACZ,WAAKC,IAAL,GAAY,KAAZ;AACAC,MAAAA,UAAU,CAAE,YAAM;AACd,QAAA,KAAI,CAACJ,UAAL;;AACA,QAAA,KAAI,CAACC,kBAAL,CAAyB,IAAzB;;AACA,QAAA,KAAI,CAACI,OAAL,CAAaC,EAAb,CAAiB;AAAEC,UAAAA,IAAI,EAAE;AAAR,SAAjB;AACH,OAJS,EAIP,GAJO,CAAV;AAKH;AAZE;AA/BC,CAAZ;AA+CA,eAAexC,KAAf","sourcesContent":["import { mapActions, mapState } from 'vuex';\nimport truncate from 'lodash/truncate';\nimport loyaltyConstants from '@core/utils/constants/loyalty';\nimport IconUser from '@core/shared/assets/icons/user.svg';\n\nlet mixin = {\n    data: function() {\n        return {\n            menuOpened: false\n        };\n    },\n    props: {\n        userDetail: {\n            type: Object,\n            default: null\n        }\n    },\n    components: {\n        IconUser\n    },\n    computed: {\n        ...mapState( {\n            tenantCurrencyType: state => state.appTenant.config.loyalty.currencyType\n        } ),\n        showUserBalance() {\n            return this.tenantCurrencyType === loyaltyConstants.CURRENCY_TYPES.POINTS;\n        },\n        pointsFormated( ) {\n            return this.$options.filters.bonusPoints( this.userDetail.balance );\n        },\n        fullName() {\n            const { firstName, lastName } = this.userDetail;\n            const ret = `${firstName} ${lastName}`;\n            return !this.$vuetify.breakpoint.mdAndDown ? truncate( ret, { length: 20, } ) : ret;\n        }\n    },\n    methods: {\n        ...mapActions( {\n            userLogout:                           'user/logout',\n            showLoadingOverlay:             'appState/setLoading',\n        } ),\n        onClickLogout() {\n            this.show = false;\n            setTimeout( () => {\n                this.userLogout();\n                this.showLoadingOverlay( true );\n                this.$router.go( { name: 'home' } );\n            }, 500 );\n        }\n    },\n};\n\nexport default mixin;\n"]}]}