{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/user/userProfile.js","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/user/userProfile.js","mtime":1645805363994},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NyaXN0aWFuZGFuL0Rlc2t0b3AvcHJvaWVjdC1saWNlbnRhLWZyb250L25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL3Byb2llY3QtbGljZW50YS1mcm9udC9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CnZhciBTVE9SRV9OQU1FID0gJ3Byb2ZpbGUnOwppbXBvcnQgYXBpU2VydmljZVVzZXIgZnJvbSAnQGNvcmUvYXBpL2FwaVNlcnZpY2VVc2VyJzsKaW1wb3J0IG11dGF0aW9uVHlwZXMgZnJvbSAnQGNvcmUvaGVscGVycy9zdG9yZUZhY3Rvcmllcy9oZWxwZXJzL211dGF0aW9uVHlwZXMnOwppbXBvcnQgTG9nU2VydmljZSBmcm9tICdAc2VydmljZXMvTG9nU2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiBTVE9SRV9OQU1FLAogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIGRldGFpbDogbnVsbCwKICAgIGVtYWlsOiBudWxsLAogICAgbG9hZGluZzogZmFsc2UsCiAgICBlcnJvcjogZmFsc2UsCiAgICBzZXNzaW9uSWQ6IG51bGwKICB9LAogIGdldHRlcnM6IHsKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxvYWRpbmc7CiAgICB9LAogICAgZ2V0RGV0YWlsOiBmdW5jdGlvbiBnZXREZXRhaWwoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRldGFpbDsKICAgIH0sCiAgICBiYWxhbmNlOiBmdW5jdGlvbiBiYWxhbmNlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5kZXRhaWwgPyBzdGF0ZS5kZXRhaWwuYmFsYW5jZSA6IDA7CiAgICB9LAogICAgZW1haWw6IGZ1bmN0aW9uIGVtYWlsKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5lbWFpbDsKICAgIH0sCiAgICBpc0F1dGg6IGZ1bmN0aW9uIGlzQXV0aChzdGF0ZSkgewogICAgICByZXR1cm4gISFzdGF0ZS5lbWFpbDsKICAgIH0sCiAgICBoYXNFcnJvcjogZnVuY3Rpb24gaGFzRXJyb3Ioc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmVycm9yOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiBfZGVmaW5lUHJvcGVydHkoewogICAgc2V0RGV0YWlsOiBmdW5jdGlvbiBzZXREZXRhaWwoc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUuZGV0YWlsID0gZGF0YTsKICAgIH0sCiAgICBzZXRFcnJvcjogZnVuY3Rpb24gc2V0RXJyb3Ioc3RhdGUsIGlzRXJyb3IpIHsKICAgICAgc3RhdGUuZXJyb3IgPSBpc0Vycm9yOwogICAgfSwKICAgIHNldEVtYWlsOiBmdW5jdGlvbiBzZXRFbWFpbChzdGF0ZSwgZW1haWwpIHsKICAgICAgc3RhdGUuZW1haWwgPSBlbWFpbDsKICAgIH0sCiAgICBzZXRMb2FkaW5nOiBmdW5jdGlvbiBzZXRMb2FkaW5nKHN0YXRlLCBsb2FkaW5nKSB7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBsb2FkaW5nOwogICAgfSwKICAgIHNldFNlc3Npb25JZDogZnVuY3Rpb24gc2V0U2Vzc2lvbklkKHN0YXRlLCBzZXNzaW9uSWQpIHsKICAgICAgc3RhdGUuc2Vzc2lvbklkID0gc2Vzc2lvbklkOwogICAgfQogIH0sIG11dGF0aW9uVHlwZXMuQ0xFQVIsIGZ1bmN0aW9uIChzdGF0ZSkgewogICAgc3RhdGUuZXJyb3IgPSBmYWxzZTsKICAgIHN0YXRlLmVtYWlsID0gbnVsbDsKICAgIHN0YXRlLmRldGFpbCA9IG51bGw7CiAgICBzdGF0ZS5zZXNzaW9uSWQgPSBudWxsOwogIH0pLAogIGFjdGlvbnM6IHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmLCBlbWFpbCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlLCBhcGksIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0LCBzdGF0ZSA9IF9yZWYuc3RhdGU7CgogICAgICAgICAgICAgICAgaWYgKCEoZW1haWwgPT09IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRMb2FkaW5nJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBhcGlTZXJ2aWNlVXNlcignJyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkudXNlci5nZXRVc2VyUHJvZmlsZSh7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0RXJyb3InLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29tbWl0KCdzZXREZXRhaWwnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0RW1haWwnLCBlbWFpbCk7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldExvYWRpbmcnLCBmYWxzZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBzdGF0ZS5kZXRhaWwpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgaXMganVzdCBhIHNpbXVsYXRpb24KICAgICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBiZSBtb3N0IHByb2JhYmx5IG1hZGUgYnkgdGhlIGludGVncmF0aW9uIG9mIHBvaW50cy5jb20gbG9naW4KICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0RXJyb3InLCB0cnVlKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0TG9hZGluZycsIGZhbHNlKTsKICAgICAgICAgICAgICAgIExvZ1NlcnZpY2UuZGVidWcoJ3Byb2JsZW1zIGxvYWRpbmcgZW1haWwgJyArIGVtYWlsKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXQoX3gsIF94MikgewogICAgICAgIHJldHVybiBfZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXQ7CiAgICB9KCksCgogICAgLyoqCiAgICAgKiBIYWNrIHVudGlsIHdlIGhhdmUgYW4gc2Vzc2lvbiB3aXRoIHBvaW50cy5jb20KICAgICAqLwogICAgZ2V0U2Vzc2lvbjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFNlc3Npb24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKF9yZWYyLCBlbWFpbCkgewogICAgICAgIHZhciBjb21taXQsIGFwaSwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGlTZXJ2aWNlVXNlcignJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS51c2VyLmdldFNlc3Npb24oewogICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFNlc3Npb25JZCcsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgTG9nU2VydmljZS5kZWJ1ZygncHJvYmxlbXMgbG9hZGluZyBzZXNzaW9uIGZvciAnICsgZW1haWwpOwogICAgICAgICAgICAgICAgY29tbWl0KCdjbGVhcicpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0U2Vzc2lvbihfeDMsIF94NCkgewogICAgICAgIHJldHVybiBfZ2V0U2Vzc2lvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0U2Vzc2lvbjsKICAgIH0oKSwKICAgIHNldEVycm9yOiBmdW5jdGlvbiBzZXRFcnJvcihfcmVmMywgaXNFcnJvcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBjb21taXQoJ3NldEVycm9yJywgaXNFcnJvcik7CiAgICB9LAogICAgc2V0TG9hZGluZzogZnVuY3Rpb24gc2V0TG9hZGluZyhfcmVmNCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICB2YXIgbG9hZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICAgICAgY29tbWl0KCdzZXRMb2FkaW5nJywgbG9hZGluZyk7CiAgICB9CiAgfSwKICBfcGVyc2lzdGVudDogewogICAgZ2V0RGF0YVRvU2F2ZTogZnVuY3Rpb24gZ2V0RGF0YVRvU2F2ZShzdGF0ZSkgewogICAgICByZXR1cm4gewogICAgICAgIGVtYWlsOiBzdGF0ZVtTVE9SRV9OQU1FXS5lbWFpbCwKICAgICAgICBkZXRhaWw6IHN0YXRlW1NUT1JFX05BTUVdLmRldGFpbCwKICAgICAgICBzZXNzaW9uSWQ6IHN0YXRlW1NUT1JFX05BTUVdLnNlc3Npb25JZAogICAgICB9OwogICAgfSwKICAgIGdldERhdGFUb0xvYWQ6IGZ1bmN0aW9uIGdldERhdGFUb0xvYWQoZGF0YSkgewogICAgICByZXR1cm4gewogICAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLAogICAgICAgIGRldGFpbDogZGF0YS5kZXRhaWwsCiAgICAgICAgc2Vzc2lvbklkOiBkYXRhLnNlc3Npb25JZAogICAgICB9OwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/user/userProfile.js"],"names":["STORE_NAME","apiServiceUser","mutationTypes","LogService","name","namespaced","state","detail","email","loading","error","sessionId","getters","getDetail","balance","isAuth","hasError","mutations","setDetail","data","setError","isError","setEmail","setLoading","setSessionId","CLEAR","actions","get","commit","api","user","getUserProfile","response","success","debug","getSession","_persistent","getDataToSave","getDataToLoad"],"mappings":"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","sourcesContent":["const STORE_NAME = 'profile';\nimport apiServiceUser from '@core/api/apiServiceUser';\nimport mutationTypes from '@core/helpers/storeFactories/helpers/mutationTypes';\nimport LogService from '@services/LogService';\n\nexport default {\n    name: STORE_NAME,\n    namespaced: true,\n    state: {\n        detail: null,\n        email: null,\n        loading: false,\n        error: false,\n        sessionId: null\n    },\n    getters: {\n        loading: state => state.loading,\n        getDetail: state => state.detail,\n        balance: state => state.detail ? state.detail.balance : 0,\n        email: state => state.email,\n        isAuth: state => !!state.email,\n        hasError: state => state.error\n    },\n    mutations: {\n        setDetail( state, data ) {\n            state.detail = data;\n        },\n        setError( state, isError ) {\n            state.error = isError;\n        },\n        setEmail( state, email ) {\n            state.email = email;\n        },\n        setLoading( state, loading ) {\n            state.loading = loading;\n        },\n        setSessionId( state, sessionId ) {\n            state.sessionId = sessionId;\n        },\n        [mutationTypes.CLEAR]( state ) {\n            state.error = false;\n            state.email = null;\n            state.detail = null;\n            state.sessionId = null;\n        }\n    },\n    actions: {\n        get: async ( { commit, state }, email ) => {\n            if ( email === null ) return;\n            commit( 'setLoading', true );\n            const api = await apiServiceUser( '' );\n            const response = await api.user.getUserProfile( { email: email } );\n            commit( 'setError', false );\n\n            if ( response.success ) {\n                commit( 'setDetail', response.data );\n                commit( 'setEmail', email );\n                commit( 'setLoading', false );\n                return state.detail;\n            } else {\n                // Error handling is just a simulation\n                // this will be most probably made by the integration of points.com login\n                commit( 'setError', true );\n                commit( 'setLoading', false );\n                LogService.debug( 'problems loading email ' + email );\n                return false;\n            }\n        },\n        /**\n         * Hack until we have an session with points.com\n         */\n        getSession: async ( { commit }, email ) => {\n            const api = await apiServiceUser( '' );\n            const response = await api.user.getSession( { email } );\n            if ( response.success ) {\n                commit( 'setSessionId', response.data );\n                return response.data;\n            } else {\n                LogService.debug( 'problems loading session for ' + email );\n                commit( 'clear' );\n                return null;\n            }\n        },\n        setError( { commit }, isError ) {\n            commit( 'setError', isError );\n        },\n        setLoading( { commit }, loading = true ) {\n            commit ( 'setLoading', loading );\n        }\n    },\n    _persistent: {\n        getDataToSave: ( state ) => {\n            return {\n                email: state[STORE_NAME].email,\n                detail: state[ STORE_NAME ].detail,\n                sessionId: state[STORE_NAME].sessionId,\n            };\n        },\n        getDataToLoad: ( data ) => {\n            return {\n                email: data.email,\n                detail: data.detail,\n                sessionId: data.sessionId,\n            };\n        }\n    }\n};\n"]}]}