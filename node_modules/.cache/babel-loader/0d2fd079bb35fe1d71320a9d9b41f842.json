{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/core/utils/eventUtils.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/utils/eventUtils.js","mtime":1645805364007},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGV2ZW50Q29uc3RhbnRzIGZyb20gJ0Bjb3JlL3V0aWxzL2NvbnN0YW50cy9ldmVudCc7CmltcG9ydCBkYXRlQ29uc3RhbnRzIGZyb20gJ0Bjb3JlL3V0aWxzL2NvbnN0YW50cy9kYXRlJzsKaW1wb3J0IHsgaXNBZnRlciBhcyBkYXRlVXRpbHNJc0FmdGVyLCBpc1dpdGhpbkludGVydmFsIGFzIGRhdGVVdGlsc0lzV2l0aGluSW50ZXJ2YWwgfSBmcm9tICdAY29yZS91dGlscy9kYXRlVXRpbHMnOwpleHBvcnQgZnVuY3Rpb24gaGFzVGlja2V0QXZhaWxhYmxlKGV2ZW50KSB7CiAgdmFyIHRpY2tldHNTdGF0dXMgPSBldmVudC50aWNrZXRzU3RhdHVzLAogICAgICBzdGFydERhdGVUaW1lQXQgPSBldmVudC5zdGFydERhdGVUaW1lQXQsCiAgICAgIG9uU2FsZVN0YXJ0RGF0ZVRpbWVBdCA9IGV2ZW50Lm9uU2FsZVN0YXJ0RGF0ZVRpbWVBdCwKICAgICAgZXZlbnRTdGF0dXMgPSBldmVudC5ldmVudFN0YXR1cywKICAgICAgYWN0aXZlID0gZXZlbnQuYWN0aXZlOwogIHJldHVybiBhY3RpdmUgJiYgZXZlbnRTdGF0dXMgIT09IGV2ZW50Q29uc3RhbnRzLkVWRU5UX1NUQVRVUy5DQU5DRUxMRUQgJiYgIWlzUGFzdChldmVudCkgJiYgdGlja2V0c1N0YXR1cyAhPT0gZXZlbnRDb25zdGFudHMuVElDS0VUU19TVEFUVVMuTk9UX0FWQUlMQUJMRSAmJiAhaXNTYWxlRGF0ZXNJbkZ1dHVyZShldmVudCkgJiYgb25TYWxlU3RhcnREYXRlVGltZUF0ICYmIHN0YXJ0RGF0ZVRpbWVBdDsKfQpleHBvcnQgZnVuY3Rpb24gaXNQYXN0KGV2ZW50KSB7CiAgdmFyIHN0YXJ0RGF0ZVRpbWVBdCA9IGV2ZW50LnN0YXJ0RGF0ZVRpbWVBdCwKICAgICAgZW5kRGF0ZVRpbWVBdCA9IGV2ZW50LmVuZERhdGVUaW1lQXQ7CiAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7CgogIGlmIChlbmREYXRlVGltZUF0KSB7CiAgICByZXR1cm4gZGF0ZVV0aWxzSXNBZnRlcihub3csIGVuZERhdGVUaW1lQXQpOwogIH0KCiAgaWYgKHN0YXJ0RGF0ZVRpbWVBdCkgewogICAgcmV0dXJuIGRhdGVVdGlsc0lzQWZ0ZXIobm93LCBzdGFydERhdGVUaW1lQXQpOwogIH0KCiAgcmV0dXJuIGZhbHNlOwp9CmV4cG9ydCBmdW5jdGlvbiBpc1NhbGVEYXRlc0luRnV0dXJlKGV2ZW50KSB7CiAgdmFyIG9uU2FsZVN0YXJ0RGF0ZVRpbWVBdCA9IGV2ZW50Lm9uU2FsZVN0YXJ0RGF0ZVRpbWVBdDsKICByZXR1cm4gISEob25TYWxlU3RhcnREYXRlVGltZUF0ICYmIGRhdGVVdGlsc0lzQWZ0ZXIob25TYWxlU3RhcnREYXRlVGltZUF0LCBuZXcgRGF0ZSgpKSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIGlzU2FsZURhdGVzSW5Qcm9ncmVzcyhldmVudCkgewogIHZhciBvblNhbGVTdGFydERhdGVUaW1lQXQgPSBldmVudC5vblNhbGVTdGFydERhdGVUaW1lQXQsCiAgICAgIG9uU2FsZUVuZERhdGVUaW1lQXQgPSBldmVudC5vblNhbGVFbmREYXRlVGltZUF0OwoKICBpZiAob25TYWxlU3RhcnREYXRlVGltZUF0KSB7CiAgICByZXR1cm4gZGF0ZVV0aWxzSXNXaXRoaW5JbnRlcnZhbChuZXcgRGF0ZSgpLCBvblNhbGVTdGFydERhdGVUaW1lQXQsIG9uU2FsZUVuZERhdGVUaW1lQXQgfHwgbmV3IERhdGUoZGF0ZUNvbnN0YW50cy5JTkZJTklURV9EQVRFKSk7CiAgfQoKICByZXR1cm4gZmFsc2U7Cn0="},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/core/utils/eventUtils.js"],"names":["eventConstants","dateConstants","isAfter","dateUtilsIsAfter","isWithinInterval","dateUtilsIsWithinInterval","hasTicketAvailable","event","ticketsStatus","startDateTimeAt","onSaleStartDateTimeAt","eventStatus","active","EVENT_STATUS","CANCELLED","isPast","TICKETS_STATUS","NOT_AVAILABLE","isSaleDatesInFuture","endDateTimeAt","now","Date","isSaleDatesInProgress","onSaleEndDateTimeAt","INFINITE_DATE"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,6BAA3B;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,SACIC,OAAO,IAAIC,gBADf,EAEIC,gBAAgB,IAAIC,yBAFxB,QAGO,uBAHP;AAKA,OAAO,SAASC,kBAAT,CAA8BC,KAA9B,EAAsC;AAAA,MACjCC,aADiC,GAC8CD,KAD9C,CACjCC,aADiC;AAAA,MAClBC,eADkB,GAC8CF,KAD9C,CAClBE,eADkB;AAAA,MACDC,qBADC,GAC8CH,KAD9C,CACDG,qBADC;AAAA,MACsBC,WADtB,GAC8CJ,KAD9C,CACsBI,WADtB;AAAA,MACmCC,MADnC,GAC8CL,KAD9C,CACmCK,MADnC;AAGzC,SAAOA,MAAM,IACFD,WAAW,KAAKX,cAAc,CAACa,YAAf,CAA4BC,SADhD,IAEI,CAACC,MAAM,CAAER,KAAF,CAFX,IAGIC,aAAa,KAAKR,cAAc,CAACgB,cAAf,CAA8BC,aAHpD,IAII,CAACC,mBAAmB,CAAEX,KAAF,CAJxB,IAKIG,qBALJ,IAMID,eANX;AAOH;AAED,OAAO,SAASM,MAAT,CAAkBR,KAAlB,EAA0B;AAAA,MACrBE,eADqB,GACcF,KADd,CACrBE,eADqB;AAAA,MACJU,aADI,GACcZ,KADd,CACJY,aADI;AAE7B,MAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;;AAEA,MAAKF,aAAL,EAAqB;AACjB,WAAOhB,gBAAgB,CAAEiB,GAAF,EAAOD,aAAP,CAAvB;AACH;;AACD,MAAKV,eAAL,EAAuB;AACnB,WAAON,gBAAgB,CAAEiB,GAAF,EAAOX,eAAP,CAAvB;AACH;;AAED,SAAO,KAAP;AACH;AAED,OAAO,SAASS,mBAAT,CAA+BX,KAA/B,EAAuC;AAAA,MAClCG,qBADkC,GACRH,KADQ,CAClCG,qBADkC;AAG1C,SAAO,CAAC,EAAGA,qBAAqB,IAAIP,gBAAgB,CAAEO,qBAAF,EAAyB,IAAIW,IAAJ,EAAzB,CAA5C,CAAR;AACH;AAED,OAAO,SAASC,qBAAT,CAAiCf,KAAjC,EAAyC;AAAA,MACpCG,qBADoC,GACWH,KADX,CACpCG,qBADoC;AAAA,MACba,mBADa,GACWhB,KADX,CACbgB,mBADa;;AAG5C,MAAKb,qBAAL,EAA6B;AACzB,WAAOL,yBAAyB,CAC5B,IAAIgB,IAAJ,EAD4B,EAE5BX,qBAF4B,EAG5Ba,mBAAmB,IAAI,IAAIF,IAAJ,CAAUpB,aAAa,CAACuB,aAAxB,CAHK,CAAhC;AAKH;;AAED,SAAO,KAAP;AACH","sourcesContent":["import eventConstants from '@core/utils/constants/event';\nimport dateConstants from '@core/utils/constants/date';\nimport {\n    isAfter as dateUtilsIsAfter,\n    isWithinInterval as dateUtilsIsWithinInterval\n} from '@core/utils/dateUtils';\n\nexport function hasTicketAvailable ( event ) {\n    const { ticketsStatus, startDateTimeAt, onSaleStartDateTimeAt, eventStatus, active } = event;\n\n    return active\n            && eventStatus !== eventConstants.EVENT_STATUS.CANCELLED\n            && !isPast( event )\n            && ticketsStatus !== eventConstants.TICKETS_STATUS.NOT_AVAILABLE\n            && !isSaleDatesInFuture( event )\n            && onSaleStartDateTimeAt\n            && startDateTimeAt;\n}\n\nexport function isPast ( event ) {\n    const { startDateTimeAt, endDateTimeAt } = event;\n    const now = new Date( );\n\n    if ( endDateTimeAt ) {\n        return dateUtilsIsAfter( now, endDateTimeAt );\n    }\n    if ( startDateTimeAt ) {\n        return dateUtilsIsAfter( now, startDateTimeAt );\n    }\n\n    return false;\n}\n\nexport function isSaleDatesInFuture ( event ) {\n    const { onSaleStartDateTimeAt } = event;\n\n    return !!( onSaleStartDateTimeAt && dateUtilsIsAfter( onSaleStartDateTimeAt, new Date( ) ) ); \n}\n\nexport function isSaleDatesInProgress ( event ) {\n    const { onSaleStartDateTimeAt, onSaleEndDateTimeAt } = event;\n\n    if ( onSaleStartDateTimeAt ) {\n        return dateUtilsIsWithinInterval( \n            new Date( ),\n            onSaleStartDateTimeAt,\n            onSaleEndDateTimeAt || new Date( dateConstants.INFINITE_DATE )\n        );\n    }\n\n    return false;\n}\n"]}]}