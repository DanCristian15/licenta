{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/utils/imageModelUtils.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/utils/imageModelUtils.js","mtime":1645805365978},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgSU1BR0VfU0laRSB9IGZyb20gJ0B0ZW5hbnRzL3RpY2tldG1hc3Rlci9hcHAvdXRpbHMvY29uc3RhbnRzL2ltYWdlRGF0YSc7CgpmdW5jdGlvbiBmaW5kQmlnZ2VyUGljdHVyZSh3aWR0aCwgaW1hZ2UpIHsKICBpZiAod2lkdGggPT09IElNQUdFX1NJWkUuT1JJR0lOQUwpIHJldHVybiBpbWFnZS5vcmlnaW5hbDsKICByZXR1cm4gaW1hZ2Uuc2l6ZXMucmVkdWNlKGZ1bmN0aW9uIChmaXJzdEJpZ2dlciwgZWxlbWVudCkgewogICAgaWYgKGVsZW1lbnQud2lkdGggPj0gd2lkdGgpIHsKICAgICAgaWYgKGZpcnN0QmlnZ2VyICYmIGVsZW1lbnQud2lkdGggPCBmaXJzdEJpZ2dlci53aWR0aCkgewogICAgICAgIGZpcnN0QmlnZ2VyID0gZWxlbWVudDsKICAgICAgfSBlbHNlIGlmICghZmlyc3RCaWdnZXIpIHsKICAgICAgICBmaXJzdEJpZ2dlciA9IGVsZW1lbnQ7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmlyc3RCaWdnZXI7CiAgfSwgbnVsbCkgfHwgaW1hZ2Uub3JpZ2luYWw7Cn0KCmZ1bmN0aW9uIGZpbmRTbWFsbGVyUGljdHVyZSh3aWR0aCwgaW1hZ2UpIHsKICBpZiAod2lkdGggPT09IElNQUdFX1NJWkUuT1JJR0lOQUwpIHJldHVybiBpbWFnZS5vcmlnaW5hbDsKICByZXR1cm4gaW1hZ2Uuc2l6ZXMucmVkdWNlKGZ1bmN0aW9uIChmaXJzdFNtYWxsZXIsIGVsZW1lbnQpIHsKICAgIGlmIChlbGVtZW50LndpZHRoIDw9IHdpZHRoKSB7CiAgICAgIGlmIChmaXJzdFNtYWxsZXIgJiYgZWxlbWVudC53aWR0aCA+IGZpcnN0U21hbGxlci53aWR0aCkgewogICAgICAgIGZpcnN0U21hbGxlciA9IGVsZW1lbnQ7CiAgICAgIH0gZWxzZSBpZiAoIWZpcnN0U21hbGxlcikgewogICAgICAgIGZpcnN0U21hbGxlciA9IGVsZW1lbnQ7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZmlyc3RTbWFsbGVyOwogIH0sIG51bGwpIHx8IGltYWdlLm9yaWdpbmFsOwp9Ci8qKgogKgogKiBAcGFyYW0ge0lNQUdFX1NJWkUgfCBudW1iZXJ9IHdpZHRoCiAqIEBwYXJhbSB7UmVzcG9uc2l2ZUltYWdlTW9kZWx9IGltYWdlCiAqIEBwYXJhbSB7RnVuY3Rpb24gfCBudWxsfSBydWxlRmluZAogKgogKi8KCgpleHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VCeVdpZHRoKHdpZHRoLCBpbWFnZSkgewogIHZhciBfZmluZEJpZ2dlclBpY3R1cmU7CgogIHZhciBydWxlRmluZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDsKCiAgaWYgKHJ1bGVGaW5kIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgIHZhciBpbWdTbWFsbGVyID0gZmluZFNtYWxsZXJQaWN0dXJlKHdpZHRoLCBpbWFnZSk7CiAgICB2YXIgaW1nQmlnZ2VyID0gZmluZEJpZ2dlclBpY3R1cmUod2lkdGgsIGltYWdlKTsKICAgIHJldHVybiBydWxlRmluZChpbWFnZS5zaXplcywgaW1nU21hbGxlciwgaW1nQmlnZ2VyKTsKICB9CgogIHJldHVybiAoX2ZpbmRCaWdnZXJQaWN0dXJlID0gZmluZEJpZ2dlclBpY3R1cmUod2lkdGgsIGltYWdlKSkgPT09IG51bGwgfHwgX2ZpbmRCaWdnZXJQaWN0dXJlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZmluZEJpZ2dlclBpY3R1cmUudXJsOwp9"},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/utils/imageModelUtils.js"],"names":["IMAGE_SIZE","findBiggerPicture","width","image","ORIGINAL","original","sizes","reduce","firstBigger","element","findSmallerPicture","firstSmaller","getImageByWidth","ruleFind","Function","imgSmaller","imgBigger","url"],"mappings":"AAAA,SAASA,UAAT,QAA2B,qDAA3B;;AAEA,SAASC,iBAAT,CAA4BC,KAA5B,EAAmCC,KAAnC,EAA2C;AAEvC,MAAID,KAAK,KAAKF,UAAU,CAACI,QAAzB,EAAoC,OAAOD,KAAK,CAACE,QAAb;AAEpC,SAAOF,KAAK,CAACG,KAAN,CAAYC,MAAZ,CAAoB,UAAEC,WAAF,EAAeC,OAAf,EAA4B;AACnD,QAAIA,OAAO,CAACP,KAAR,IAAiBA,KAArB,EAA6B;AACzB,UAAIM,WAAW,IAAIC,OAAO,CAACP,KAAR,GAAgBM,WAAW,CAACN,KAA/C,EAAuD;AACnDM,QAAAA,WAAW,GAAGC,OAAd;AACH,OAFD,MAEO,IAAI,CAACD,WAAL,EAAmB;AACtBA,QAAAA,WAAW,GAAGC,OAAd;AACH;AACJ;;AACD,WAAOD,WAAP;AACH,GATM,EASJ,IATI,KASML,KAAK,CAACE,QATnB;AAUH;;AAED,SAASK,kBAAT,CAA6BR,KAA7B,EAAoCC,KAApC,EAA4C;AAExC,MAAID,KAAK,KAAKF,UAAU,CAACI,QAAzB,EAAoC,OAAOD,KAAK,CAACE,QAAb;AAEpC,SAAOF,KAAK,CAACG,KAAN,CAAYC,MAAZ,CAAoB,UAAEI,YAAF,EAAgBF,OAAhB,EAA6B;AACpD,QAAIA,OAAO,CAACP,KAAR,IAAiBA,KAArB,EAA6B;AACzB,UAAIS,YAAY,IAAIF,OAAO,CAACP,KAAR,GAAgBS,YAAY,CAACT,KAAjD,EAAyD;AACrDS,QAAAA,YAAY,GAAGF,OAAf;AACH,OAFD,MAEO,IAAI,CAACE,YAAL,EAAoB;AACvBA,QAAAA,YAAY,GAAGF,OAAf;AACH;AACJ;;AACD,WAAOE,YAAP;AACH,GATM,EASJ,IATI,KASMR,KAAK,CAACE,QATnB;AAUH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAO,SAASO,eAAT,CAA0BV,KAA1B,EAAiCC,KAAjC,EAA0D;AAAA;;AAAA,MAAlBU,QAAkB,uEAAP,IAAO;;AAC7D,MAAIA,QAAQ,YAAYC,QAAxB,EAAmC;AAC/B,QAAMC,UAAU,GAAIL,kBAAkB,CAAER,KAAF,EAASC,KAAT,CAAtC;AACA,QAAMa,SAAS,GAAKf,iBAAiB,CAAEC,KAAF,EAASC,KAAT,CAArC;AACA,WAAOU,QAAQ,CAAEV,KAAK,CAACG,KAAR,EAAeS,UAAf,EAA2BC,SAA3B,CAAf;AACH;;AAED,+BAAOf,iBAAiB,CAAEC,KAAF,EAASC,KAAT,CAAxB,uDAAO,mBAAmCc,GAA1C;AACH","sourcesContent":["import { IMAGE_SIZE } from '@tenants/ticketmaster/app/utils/constants/imageData';\n\nfunction findBiggerPicture( width, image ) {\n\n    if( width === IMAGE_SIZE.ORIGINAL ) return image.original;\n\n    return image.sizes.reduce( ( firstBigger, element ) => {\n        if( element.width >= width ) {\n            if( firstBigger && element.width < firstBigger.width ) {\n                firstBigger = element;\n            } else if( !firstBigger ) {\n                firstBigger = element;\n            }\n        }\n        return firstBigger;\n    }, null ) || image.original;\n}\n\nfunction findSmallerPicture( width, image ) {\n\n    if( width === IMAGE_SIZE.ORIGINAL ) return image.original;\n\n    return image.sizes.reduce( ( firstSmaller, element ) => {\n        if( element.width <= width ) {\n            if( firstSmaller && element.width > firstSmaller.width ) {\n                firstSmaller = element;\n            } else if( !firstSmaller ) {\n                firstSmaller = element;\n            }\n        }\n        return firstSmaller;\n    }, null ) || image.original;\n}\n\n/**\n *\n * @param {IMAGE_SIZE | number} width\n * @param {ResponsiveImageModel} image\n * @param {Function | null} ruleFind\n *\n */\nexport function getImageByWidth( width, image, ruleFind = null ) {\n    if( ruleFind instanceof Function ) {\n        const imgSmaller  = findSmallerPicture( width, image );\n        const imgBigger   = findBiggerPicture( width, image );\n        return ruleFind( image.sizes, imgSmaller, imgBigger );\n    }\n\n    return findBiggerPicture( width, image )?.url;\n}\n"]}]}