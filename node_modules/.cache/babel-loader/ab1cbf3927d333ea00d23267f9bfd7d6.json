{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/core/store/store.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/store/store.js","mtime":1648920808758},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IFZ1ZXhQZXJzaXN0IGZyb20gJ3Z1ZXgtcGVyc2lzdCc7CmltcG9ydCBjcmVhdGVNdXRhdGlvbnNTaGFyZXIgZnJvbSAndnVleC1zaGFyZWQtbXV0YXRpb25zJzsKaW1wb3J0IGkxOG5leHQgZnJvbSAnaTE4bmV4dCc7CmltcG9ydCBhcHBDb25zdGFudHMgZnJvbSAnQGNvcmUvdXRpbHMvY29uc3RhbnRzL2FwcCc7CmltcG9ydCBzdG9yZUNvbnN0YW50cyBmcm9tICdAY29yZS91dGlscy9jb25zdGFudHMvc3RvcmFnZSc7CmltcG9ydCB7IHNldExhbmcgYXMgZG9jdW1lbnRVdGlsc1NldExhbmcgfSBmcm9tICdAY29yZS91dGlscy9kb2N1bWVudFV0aWxzJzsKaW1wb3J0IExvZ1NlcnZpY2UgZnJvbSAnQHNlcnZpY2VzL0xvZ1NlcnZpY2UnOwppbXBvcnQgYXBwU3RhdGVTdG9yZSBmcm9tICcuL21vZHVsZXMvYXBwU3RhdGUnOwppbXBvcnQgYXBwVGVuYW50U3RvcmUgZnJvbSAnLi9tb2R1bGVzL2FwcFRlbmFudCc7CmltcG9ydCBhdHRyYWN0aW9uc1N0b3JlIGZyb20gJy4vbW9kdWxlcy9hdHRyYWN0aW9ucy9hdHRyYWN0aW9ucyc7CmltcG9ydCBjYXJ0U3RvcmUgZnJvbSAnLi9tb2R1bGVzL2NhcnQnOwppbXBvcnQgY2F0ZWdvcmllc1N0b3JlIGZyb20gJy4vbW9kdWxlcy9jYXRlZ29yaWVzJzsKaW1wb3J0IGNpdGllc1N0b3JlIGZyb20gJy4vbW9kdWxlcy9jaXRpZXMnOwppbXBvcnQgZXZlbnRzU3RvcmUgZnJvbSAnLi9tb2R1bGVzL2V2ZW50cyc7CmltcG9ydCBub3RpZmljYXRpb25TdG9yZSBmcm9tICcuL21vZHVsZXMvbm90aWZpY2F0aW9uL2luZGV4JzsKaW1wb3J0IHNlYXJjaFN0YXRlU3RvcmUgZnJvbSAnLi9tb2R1bGVzL3NlYXJjaFN0YXRlJzsKaW1wb3J0IHRvcEV2ZW50c1N0b3JlIGZyb20gJy4vbW9kdWxlcy90b3BFdmVudHMnOwppbXBvcnQgdmVudWVzU3RvcmUgZnJvbSAnLi9tb2R1bGVzL3ZlbnVlcyc7CmltcG9ydCBhZGRQcm9kdWN0U3RvcmUgZnJvbSAnLi9tb2R1bGVzL2FkZFByb2R1Y3QnOwppbXBvcnQgdXNlclN0b3JlIGZyb20gJy4vbW9kdWxlcy91c2VyL3VzZXInOwp2YXIgdnVleExvY2FsU3RvcmFnZSA9IG5ldyBWdWV4UGVyc2lzdCh7CiAga2V5OiBzdG9yZUNvbnN0YW50cy5LRVlTLlNUT1JFLAogIC8vIFRoZSBrZXkgdG8gc3RvcmUgdGhlIHN0YXRlIG9uIGluIHRoZSBzdG9yYWdlIHByb3ZpZGVyLgogIHN0b3JhZ2U6IGxvY2FsU3RvcmFnZSwKICByZWR1Y2VyOiBmdW5jdGlvbiByZWR1Y2VyKHN0YXRlKSB7CiAgICByZXR1cm4gewogICAgICB2ZXJzaW9uOiBhcHBDb25zdGFudHMuVkVSU0lPTiwKICAgICAgc3RvcmU6IHsKICAgICAgICBhcHBTdGF0ZTogYXBwU3RhdGVTdG9yZS5fcGVyc2lzdGVudC5nZXREYXRhVG9TYXZlKHN0YXRlKSwKICAgICAgICBzZWFyY2hTdGF0ZTogc2VhcmNoU3RhdGVTdG9yZS5fcGVyc2lzdGVudC5nZXREYXRhVG9TYXZlKHN0YXRlKSwKICAgICAgICBjYXJ0OiBjYXJ0U3RvcmUuX3BlcnNpc3RlbnQuZ2V0RGF0YVRvU2F2ZShzdGF0ZSksCiAgICAgICAgdXNlcjogdXNlclN0b3JlLl9wZXJzaXN0ZW50LmdldERhdGFUb1NhdmUoc3RhdGUpCiAgICAgIH0KICAgIH07CiAgfSwKICByZXN0b3JlU3RhdGU6IGZ1bmN0aW9uIHJlc3RvcmVTdGF0ZShrZXksIHN0b3JhZ2UpIHsKICAgIHRyeSB7CiAgICAgIGlmICghc3RvcmFnZSB8fCAhc3RvcmFnZVtrZXldKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHZhciBzdGF0ZSA9IEpTT04ucGFyc2Uoc3RvcmFnZVtrZXldKTsKICAgICAgdmFyIF9zdG9yZSA9IHN0YXRlLnN0b3JlOwogICAgICByZXR1cm4gewogICAgICAgIGFwcFN0YXRlOiBhcHBTdGF0ZVN0b3JlLl9wZXJzaXN0ZW50LmdldERhdGFUb0xvYWQoX3N0b3JlLmFwcFN0YXRlKSwKICAgICAgICBzZWFyY2hTdGF0ZTogc2VhcmNoU3RhdGVTdG9yZS5fcGVyc2lzdGVudC5nZXREYXRhVG9Mb2FkKF9zdG9yZS5zZWFyY2hTdGF0ZSksCiAgICAgICAgY2FydDogY2FydFN0b3JlLl9wZXJzaXN0ZW50LmdldERhdGFUb0xvYWQoX3N0b3JlLmNhcnQpLAogICAgICAgIHVzZXI6IHVzZXJTdG9yZS5fcGVyc2lzdGVudC5nZXREYXRhVG9Mb2FkKF9zdG9yZS51c2VyKQogICAgICB9OwogICAgfSBjYXRjaCAoZSkgewogICAgICBMb2dTZXJ2aWNlLmVycm9yKCJWdWV4IHN0YXRlIGNhbm5vdCBiZSBsb2FkZWQgKCIuY29uY2F0KGUubWVzc2FnZSwgIiApIikpOwogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9Cn0pOwp2YXIgdnVleFNlc3Npb25TdG9yYWdlID0gbmV3IFZ1ZXhQZXJzaXN0KHsKICBrZXk6IHN0b3JlQ29uc3RhbnRzLktFWVMuU1RPUkUsCiAgLy8gVGhlIGtleSB0byBzdG9yZSB0aGUgc3RhdGUgb24gaW4gdGhlIHN0b3JhZ2UgcHJvdmlkZXIuCiAgc3RvcmFnZTogc2Vzc2lvblN0b3JhZ2UsCiAgcmVkdWNlcjogZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSkgewogICAgcmV0dXJuIHsKICAgICAgdmVyc2lvbjogYXBwQ29uc3RhbnRzLlZFUlNJT04sCiAgICAgIHN0b3JlOiB7CiAgICAgICAgY2FydDogY2FydFN0b3JlLl9zZXNzaW9uUGVyc2lzdC5nZXREYXRhVG9TYXZlKHN0YXRlKQogICAgICB9CiAgICB9OwogIH0sCiAgcmVzdG9yZVN0YXRlOiBmdW5jdGlvbiByZXN0b3JlU3RhdGUoa2V5LCBzdG9yYWdlKSB7CiAgICB0cnkgewogICAgICBpZiAoIXN0b3JhZ2UgfHwgIXN0b3JhZ2Vba2V5XSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgc3RhdGUgPSBKU09OLnBhcnNlKHN0b3JhZ2Vba2V5XSk7CiAgICAgIHZhciBfc3RvcmUyID0gc3RhdGUuc3RvcmU7CiAgICAgIHJldHVybiB7CiAgICAgICAgY2FydDogY2FydFN0b3JlLl9zZXNzaW9uUGVyc2lzdC5nZXREYXRhVG9Mb2FkKF9zdG9yZTIuY2FydCkKICAgICAgfTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgTG9nU2VydmljZS5lcnJvcigiVnVleCBzZXNzaW9uIHN0YXRlIGNhbm5vdCBiZSBsb2FkZWQgKCIuY29uY2F0KGUubWVzc2FnZSwgIiApIikpOwogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICB9Cn0pOwp2YXIgdnVleFNoYXJlTXV0YXRpb24gPSBjcmVhdGVNdXRhdGlvbnNTaGFyZXIoewogIHByZWRpY2F0ZTogWydjYXJ0L2FkZFRvTGlzdCcsICdjYXJ0L3JlbW92ZUZyb21MaXN0JywgJ3VzZXIvZmF2b3JpdGVFbnRpdGllcy9hZGRJZCcsICd1c2VyL2Zhdm9yaXRlRW50aXRpZXMvZGVsZXRlSWQnLCAndXNlci9mYXZvcml0ZUVudGl0aWVzL2FkZElkQmFja2VuZCcsICd1c2VyL2Zhdm9yaXRlRW50aXRpZXMvZGVsZXRlSWRCYWNrZW5kJ10KfSk7ClZ1ZS51c2UoVnVleCk7CnZhciBzdG9yZSA9IG5ldyBWdWV4LlN0b3JlKHsKICBtb2R1bGVzOiB7CiAgICBhcHBTdGF0ZTogYXBwU3RhdGVTdG9yZSwKICAgIGFwcFRlbmFudDogYXBwVGVuYW50U3RvcmUsCiAgICBhdHRyYWN0aW9uczogYXR0cmFjdGlvbnNTdG9yZSwKICAgIGNhcnQ6IGNhcnRTdG9yZSwKICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXNTdG9yZSwKICAgIGNpdGllczogY2l0aWVzU3RvcmUsCiAgICBldmVudHM6IGV2ZW50c1N0b3JlLAogICAgbm90aWZpY2F0aW9uOiBub3RpZmljYXRpb25TdG9yZSwKICAgIHNlYXJjaFN0YXRlOiBzZWFyY2hTdGF0ZVN0b3JlLAogICAgdG9wRXZlbnRzOiB0b3BFdmVudHNTdG9yZSwKICAgIHZlbnVlczogdmVudWVzU3RvcmUsCiAgICB1c2VyOiB1c2VyU3RvcmUsCiAgICBhZGRQcm9kdWN0OiBhZGRQcm9kdWN0U3RvcmUKICB9LAogIHBsdWdpbnM6IFt2dWV4TG9jYWxTdG9yYWdlLnBsdWdpbiwgdnVleFNlc3Npb25TdG9yYWdlLnBsdWdpbiwgdnVleFNoYXJlTXV0YXRpb25dLAogIHN0cmljdDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJwp9KTsgLy9UT0RPICggaW9udXR0IDIwMjAtMDQtMjkgKSB0aGlzIHNob3VsZCBiZSBtb3ZlZCBhd2F5IGZyb20gdGhlIHN0b3JlLAovL3RoaXMgZGVwZW5jeSBzaG91bGQgYmUgYXQgYW5vdGhlciBsZXZlbC4KCmkxOG5leHQub24oJ2luaXRpYWxpemVkJywgZnVuY3Rpb24gKCkgewogIHZhciBsYW5ndWFnZSA9IHN0b3JlLnN0YXRlLmFwcFN0YXRlLmxhbmd1YWdlOwogIHZhciBsYW5ndWFnZXMgPSBpMThuZXh0Lmxhbmd1YWdlczsKICB2YXIgaW5pdExhbmd1YWdlID0gbGFuZ3VhZ2VzLmluZGV4T2YobGFuZ3VhZ2UpID09PSAtMSA/IGkxOG5leHQubGFuZ3VhZ2VzWzBdIDogbGFuZ3VhZ2U7CiAgc3RvcmUuZGlzcGF0Y2goJ2FwcFN0YXRlL3NldExhbmd1YWdlJywgaW5pdExhbmd1YWdlKTsKICBpMThuZXh0LmNoYW5nZUxhbmd1YWdlKGluaXRMYW5ndWFnZSk7CiAgZG9jdW1lbnRVdGlsc1NldExhbmcoaW5pdExhbmd1YWdlKTsKICBzdG9yZS53YXRjaChmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5hcHBTdGF0ZS5sYW5ndWFnZTsKICB9LCBmdW5jdGlvbiAodmFsKSB7CiAgICBpMThuZXh0LmNoYW5nZUxhbmd1YWdlKHZhbCk7CiAgICBkb2N1bWVudFV0aWxzU2V0TGFuZyh2YWwpOwogIH0pOwp9KTsKZXhwb3J0IGRlZmF1bHQgc3RvcmU7"},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/core/store/store.js"],"names":["Vue","Vuex","VuexPersist","createMutationsSharer","i18next","appConstants","storeConstants","setLang","documentUtilsSetLang","LogService","appStateStore","appTenantStore","attractionsStore","cartStore","categoriesStore","citiesStore","eventsStore","notificationStore","searchStateStore","topEventsStore","venuesStore","addProductStore","userStore","vuexLocalStorage","key","KEYS","STORE","storage","localStorage","reducer","state","version","VERSION","store","appState","_persistent","getDataToSave","searchState","cart","user","restoreState","JSON","parse","getDataToLoad","e","error","message","vuexSessionStorage","sessionStorage","_sessionPersist","vuexShareMutation","predicate","use","Store","modules","appTenant","attractions","categories","cities","events","notification","topEvents","venues","addProduct","plugins","plugin","strict","process","env","NODE_ENV","on","language","languages","initLanguage","indexOf","dispatch","changeLanguage","watch","val"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport VuexPersist from 'vuex-persist';\nimport createMutationsSharer from 'vuex-shared-mutations';\nimport i18next from 'i18next';\nimport appConstants from '@core/utils/constants/app';\nimport storeConstants from '@core/utils/constants/storage';\nimport {\n    setLang as documentUtilsSetLang\n} from '@core/utils/documentUtils';\nimport LogService from '@services/LogService';\n\nimport appStateStore           from './modules/appState';\nimport appTenantStore          from './modules/appTenant';\nimport  attractionsStore       from './modules/attractions/attractions';\nimport  cartStore              from './modules/cart';\nimport  categoriesStore        from './modules/categories';\nimport  citiesStore            from './modules/cities';\nimport  eventsStore            from './modules/events';\nimport  notificationStore      from './modules/notification/index';\nimport  searchStateStore       from './modules/searchState';\nimport  topEventsStore         from './modules/topEvents';\nimport  venuesStore            from './modules/venues';\nimport addProductStore         from './modules/addProduct';\nimport userStore from './modules/user/user';\n\n\nconst vuexLocalStorage = new VuexPersist( {\n    key: storeConstants.KEYS.STORE, // The key to store the state on in the storage provider.\n    storage: localStorage,\n    reducer: ( state ) => ( {\n        version: appConstants.VERSION,\n        store: {\n            appState:           appStateStore._persistent.getDataToSave ( state ),\n            searchState:        searchStateStore._persistent.getDataToSave ( state ),\n            cart:               cartStore._persistent.getDataToSave( state ),\n            user:               userStore._persistent.getDataToSave( state )\n        },\n    } ),\n    restoreState: ( key, storage ) => {\n        try {\n            if ( !storage || !storage[ key ] ) {\n                return null;\n            }\n            const state = JSON.parse( storage[ key ] );\n            const store = state.store;\n\n            return {\n                appState:           appStateStore._persistent.getDataToLoad ( store.appState ),\n                searchState:        searchStateStore._persistent.getDataToLoad ( store.searchState ),\n                cart:               cartStore._persistent.getDataToLoad( store.cart ),\n                user:               userStore._persistent.getDataToLoad( store.user )\n            };\n        } catch ( e ) {\n            LogService.error( `Vuex state cannot be loaded (${e.message} )` );\n            return null;\n        }\n    }\n} );\n\nconst vuexSessionStorage = new VuexPersist( {\n    key: storeConstants.KEYS.STORE, // The key to store the state on in the storage provider.\n    storage: sessionStorage,\n    reducer: ( state ) => ( {\n        version: appConstants.VERSION,\n        store: {\n            cart:               cartStore._sessionPersist.getDataToSave( state )\n        }\n    } ),\n    restoreState: ( key, storage ) => {\n        try {\n            if ( !storage || !storage[ key ] ) {\n                return null;\n            }\n            const state = JSON.parse( storage[ key ] );\n            const store = state.store;\n\n            return {\n                cart:               cartStore._sessionPersist.getDataToLoad( store.cart )\n            };\n        } catch ( e ) {\n            LogService.error( `Vuex session state cannot be loaded (${e.message} )` );\n            return null;\n        }\n    }\n} );\n\nconst vuexShareMutation = createMutationsSharer( {\n    predicate: [\n        'cart/addToList',\n        'cart/removeFromList',\n        'user/favoriteEntities/addId',\n        'user/favoriteEntities/deleteId',\n        'user/favoriteEntities/addIdBackend',\n        'user/favoriteEntities/deleteIdBackend',\n    ]\n} );\n\nVue.use( Vuex );\n\nconst store = new Vuex.Store( {\n    modules: {\n        appState:           appStateStore,\n        appTenant:          appTenantStore,\n        attractions:        attractionsStore,\n        cart:               cartStore,\n        categories:         categoriesStore,\n        cities:             citiesStore,\n        events:             eventsStore,\n        notification:       notificationStore,\n        searchState:        searchStateStore,\n        topEvents:          topEventsStore,\n        venues:             venuesStore,\n        user: userStore,\n        addProduct: addProductStore\n    },\n    plugins: [ vuexLocalStorage.plugin, vuexSessionStorage.plugin, vuexShareMutation ],\n    strict: process.env.NODE_ENV !== 'production'\n} );\n\n\n//TODO ( ionutt 2020-04-29 ) this should be moved away from the store,\n//this depency should be at another level.\ni18next.on( 'initialized', () => {\n    const language = store.state.appState.language;\n    const languages = i18next.languages;\n    const initLanguage = languages.indexOf( language ) === -1 ? i18next.languages[ 0 ] : language;\n\n    store.dispatch( 'appState/setLanguage', initLanguage );\n    i18next.changeLanguage ( initLanguage );\n    documentUtilsSetLang( initLanguage );\n\n    store.watch( ( state ) => state.appState.language, ( val ) => {\n        i18next.changeLanguage( val );\n        documentUtilsSetLang( val );\n    } );\n} );\n\nexport default store;\n"]}]}