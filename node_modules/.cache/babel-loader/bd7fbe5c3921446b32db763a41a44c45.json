{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/_utils.js","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/_utils.js","mtime":1645805363988},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NyaXN0aWFuZGFuL0Rlc2t0b3AvcHJvaWVjdC1saWNlbnRhLWZyb250L25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgc2VhcmNoQ29uc3RhbnRzIGZyb20gJ0Bjb3JlL3V0aWxzL2NvbnN0YW50cy9zZWFyY2gnOwppbXBvcnQgeyBoYXNDdXN0b21DaXR5TG9jYXRpb24gYXMgc2VhcmNoT2JqZWN0VXRpbHNIYXNDdXN0b21DaXR5TG9jYXRpb24sIHVwZGF0ZVNlYXJjaFdpdGhDaXR5TG9jYXRpb25SYW5nZSBhcyBzZWFyY2hPYmplY3RVdGlsc1VwZGF0ZVNlYXJjaFdpdGhDaXR5TG9jYXRpb25SYW5nZSB9IGZyb20gJ0Bjb3JlL3V0aWxzL3NlYXJjaE9iamVjdFV0aWxzJzsKdmFyIHNlbGYgPSB7CiAgZ2V0SXRlbXNXaXRoQ2l0eUxvY2F0aW9uRmFsbGJhY2s6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfZ2V0SXRlbXNXaXRoQ2l0eUxvY2F0aW9uRmFsbGJhY2sgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZm4sIF9yZWYsIGZpbHRlciwgb3B0aW9ucykgewogICAgICB2YXIgc3RhdGUsIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGUsIGNvbW1pdCA9IF9yZWYuY29tbWl0OwoKICAgICAgICAgICAgICBpZiAoIXNlYXJjaE9iamVjdFV0aWxzSGFzQ3VzdG9tQ2l0eUxvY2F0aW9uKGZpbHRlcikpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGZpbHRlci5vZmZzZXQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29tbWl0KCdzZXRGaWx0ZXJMb2NhdGlvblJhbmdlJywgc2VhcmNoQ29uc3RhbnRzLkRFRkFVTFQuTE9DQVRJT04uUkFOR0UuREVGQVVMVCk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgcmV0dXJuIGZuKHNlYXJjaE9iamVjdFV0aWxzVXBkYXRlU2VhcmNoV2l0aENpdHlMb2NhdGlvblJhbmdlKGZpbHRlciwgc3RhdGUuZmlsdGVyTG9jYXRpb25SYW5nZSksIG9wdGlvbnMpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhLmxpc3QubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjb21taXQoJ3NldEZpbHRlckxvY2F0aW9uUmFuZ2UnLCBzZWFyY2hDb25zdGFudHMuREVGQVVMVC5MT0NBVElPTi5SQU5HRS5GQUxMQkFDSyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZm4oc2VhcmNoT2JqZWN0VXRpbHNVcGRhdGVTZWFyY2hXaXRoQ2l0eUxvY2F0aW9uUmFuZ2UoZmlsdGVyLCBzdGF0ZS5maWx0ZXJMb2NhdGlvblJhbmdlKSwgb3B0aW9ucykpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmbihzZWFyY2hPYmplY3RVdGlsc1VwZGF0ZVNlYXJjaFdpdGhDaXR5TG9jYXRpb25SYW5nZShmaWx0ZXIsIHN0YXRlLmZpbHRlckxvY2F0aW9uUmFuZ2UpLCBvcHRpb25zKSk7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZuKGZpbHRlciwgb3B0aW9ucykpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gZ2V0SXRlbXNXaXRoQ2l0eUxvY2F0aW9uRmFsbGJhY2soX3gsIF94MiwgX3gzLCBfeDQpIHsKICAgICAgcmV0dXJuIF9nZXRJdGVtc1dpdGhDaXR5TG9jYXRpb25GYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBnZXRJdGVtc1dpdGhDaXR5TG9jYXRpb25GYWxsYmFjazsKICB9KCkKfTsKZXhwb3J0IGRlZmF1bHQgc2VsZjs="},{"version":3,"sources":["/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/_utils.js"],"names":["searchConstants","hasCustomCityLocation","searchObjectUtilsHasCustomCityLocation","updateSearchWithCityLocationRange","searchObjectUtilsUpdateSearchWithCityLocationRange","self","getItemsWithCityLocationFallback","fn","filter","options","state","commit","offset","DEFAULT","LOCATION","RANGE","filterLocationRange","response","success","data","list","length","FALLBACK"],"mappings":";;AAAA,OAAOA,eAAP,MAA4B,8BAA5B;AACA,SACIC,qBAAqB,IAAIC,sCAD7B,EAEIC,iCAAiC,IAAIC,kDAFzC,QAGO,+BAHP;AAKA,IAAMC,IAAI,GAAG;AACTC,EAAAA,gCAAgC;AAAA,oGAAE,iBAAQC,EAAR,QAA+BC,MAA/B,EAAuCC,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAcC,cAAAA,KAAd,QAAcA,KAAd,EAAqBC,MAArB,QAAqBA,MAArB;;AAAA,mBACzBT,sCAAsC,CAAEM,MAAF,CADb;AAAA;AAAA;AAAA;;AAAA,kBAEpBA,MAAM,CAACI,MAFa;AAAA;AAAA;AAAA;;AAGtBD,cAAAA,MAAM,CAAE,wBAAF,EAA4BX,eAAe,CAACa,OAAhB,CAAwBC,QAAxB,CAAiCC,KAAjC,CAAuCF,OAAnE,CAAN;AAHsB;AAAA,qBAICN,EAAE,CAAEH,kDAAkD,CAAEI,MAAF,EAAUE,KAAK,CAACM,mBAAhB,CAApD,EAA2FP,OAA3F,CAJH;;AAAA;AAIhBQ,cAAAA,QAJgB;;AAAA,oBAKjBA,QAAQ,CAACC,OAAT,IAAoBD,QAAQ,CAACE,IAAT,CAAcC,IAAd,CAAmBC,MALtB;AAAA;AAAA;AAAA;;AAAA,+CAMXJ,QANW;;AAAA;AAQtBN,cAAAA,MAAM,CAAE,wBAAF,EAA4BX,eAAe,CAACa,OAAhB,CAAwBC,QAAxB,CAAiCC,KAAjC,CAAuCO,QAAnE,CAAN;AARsB,+CASff,EAAE,CAAEH,kDAAkD,CAAEI,MAAF,EAAUE,KAAK,CAACM,mBAAhB,CAApD,EAA2FP,OAA3F,CATa;;AAAA;AAAA,+CAYnBF,EAAE,CAAEH,kDAAkD,CAAEI,MAAF,EAAUE,KAAK,CAACM,mBAAhB,CAApD,EAA2FP,OAA3F,CAZiB;;AAAA;AAAA,+CAevBF,EAAE,CAAEC,MAAF,EAAUC,OAAV,CAfqB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADvB,CAAb;AAoBA,eAAeJ,IAAf","sourcesContent":["import searchConstants from '@core/utils/constants/search';\nimport {\n    hasCustomCityLocation as searchObjectUtilsHasCustomCityLocation,\n    updateSearchWithCityLocationRange as searchObjectUtilsUpdateSearchWithCityLocationRange\n} from '@core/utils/searchObjectUtils';\n\nconst self = { \n    getItemsWithCityLocationFallback: async ( fn, { state, commit }, filter, options ) => {\n        if ( searchObjectUtilsHasCustomCityLocation( filter ) ) {\n            if ( !filter.offset ) {\n                commit( 'setFilterLocationRange', searchConstants.DEFAULT.LOCATION.RANGE.DEFAULT );\n                const response = await fn( searchObjectUtilsUpdateSearchWithCityLocationRange( filter, state.filterLocationRange ), options );\n                if ( response.success && response.data.list.length ) {\n                    return response;\n                }\n                commit( 'setFilterLocationRange', searchConstants.DEFAULT.LOCATION.RANGE.FALLBACK );\n                return fn( searchObjectUtilsUpdateSearchWithCityLocationRange( filter, state.filterLocationRange ), options );\n            }\n            \n            return fn( searchObjectUtilsUpdateSearchWithCityLocationRange( filter, state.filterLocationRange ), options );\n        }\n\n        return fn( filter, options );\n    }\n};\n\nexport default self;\n"]}]}