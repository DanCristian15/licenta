{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/core/plugins/modal/modalPlugin.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/plugins/modal/modalPlugin.js","mtime":1645805363904},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL2xpZmVzdHlsZS11aS9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IExvZ1NlcnZpY2UgZnJvbSAnQHNlcnZpY2VzL0xvZ1NlcnZpY2UnOwppbXBvcnQgTW9kYWxXcmFwcGVyIGZyb20gJy4vTW9kYWxXcmFwcGVyLnZ1ZSc7CmltcG9ydCBNb2RhbEJvdHRvbVdyYXBwZXIgZnJvbSAnLi9Nb2RhbEJvdHRvbVdyYXBwZXIudnVlJzsKaW1wb3J0IE1vZGFsc0NvbnRhaW5lciBmcm9tICcuL01vZGFsc0NvbnRhaW5lci52dWUnOwp2YXIgUGx1Z2luID0gewogIGluc3RhbGw6IGZ1bmN0aW9uIGluc3RhbGwoVnVlKSB7CiAgICB2YXIgY2ZnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgIGlmICh0aGlzLmluc3RhbGxlZCkgcmV0dXJuOwogICAgdGhpcy5pbnN0YWxsZWQgPSB0cnVlOwogICAgdGhpcy5yb290SW5zdGFuY2UgPSBudWxsOwogICAgdmFyIGF0dGFjaENvbnRhaW5lcklkID0gJ21vZGFsc19jb250YWluZXInOwogICAgVnVlLmNvbXBvbmVudCgnTW9kYWxzQ29udGFpbmVyJywgTW9kYWxzQ29udGFpbmVyKTsKICAgIFZ1ZS5taXhpbih7CiAgICAgIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgICAgICBpZiAoUGx1Z2luLnJvb3RJbnN0YW5jZSA9PT0gbnVsbCkgewogICAgICAgICAgUGx1Z2luLnJvb3RJbnN0YW5jZSA9IHRoaXMuJHJvb3Q7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKCiAgICB2YXIgZ2V0TW9kYWxzQ29udGFpbmVyID0gZnVuY3Rpb24gZ2V0TW9kYWxzQ29udGFpbmVyKFZ1ZSwgb3B0aW9ucywgcm9vdCkgewogICAgICBpZiAoIXJvb3QuX2R5bmFtaWNDb250YWluZXIpIHsKICAgICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXR0YWNoQ29udGFpbmVySWQpOwoKICAgICAgICBpZiAoIWNvbnRhaW5lcikgewogICAgICAgICAgTG9nU2VydmljZS53YXJuKCdDYW5ub3QgZmluZCBjb250YWluZXIgZGl2IHdpdGggaWQ9bW9kYWxzX2NvbnRhaW5lcicpOwogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQoKICAgICAgICBuZXcgVnVlKHsKICAgICAgICAgIHBhcmVudDogcm9vdCwKICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgICAgICAgICAgcmV0dXJuIGgoTW9kYWxzQ29udGFpbmVyKTsKICAgICAgICAgIH0KICAgICAgICB9KS4kbW91bnQoY29udGFpbmVyKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJvb3QuX2R5bmFtaWNDb250YWluZXI7CiAgICB9OwoKICAgIFZ1ZS5wcm90b3R5cGUuJG1vZGFsID0gewogICAgICBzaG93OiBmdW5jdGlvbiBzaG93KGNvbXBvbmVudCwgY29tcG9uZW50UHJvcHMsIG1vZGFsUHJvcHMpIHsKICAgICAgICB2YXIgZXZlbnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTsKICAgICAgICB2YXIgY29udGFpbmVyID0gZ2V0TW9kYWxzQ29udGFpbmVyKFZ1ZSwge30sIFBsdWdpbi5yb290SW5zdGFuY2UpOwoKICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgUHJvbWlzZSkgewogICAgICAgICAgY29tcG9uZW50LnRoZW4oZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgY29udGFpbmVyLmFkZChNb2RhbFdyYXBwZXIsIHsKICAgICAgICAgICAgICBjb21wb25lbnQ6IHJlc29sdmUuZGVmYXVsdCwKICAgICAgICAgICAgICBjb21wb25lbnRBdHRyczogY29tcG9uZW50UHJvcHMsCiAgICAgICAgICAgICAgbW9kYWxBdHRyczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjZmcubW9kYWxQcm9wcyksIG1vZGFsUHJvcHMpLAogICAgICAgICAgICAgIGV2ZW50czogZXZlbnRzCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGNvbnRhaW5lci5hZGQoTW9kYWxXcmFwcGVyLCB7CiAgICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudCwKICAgICAgICAgIGNvbXBvbmVudEF0dHJzOiBjb21wb25lbnRQcm9wcywKICAgICAgICAgIG1vZGFsQXR0cnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY2ZnLm1vZGFsUHJvcHMpLCBtb2RhbFByb3BzKSwKICAgICAgICAgIGV2ZW50czogZXZlbnRzCiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHNob3dCb3R0b206IGZ1bmN0aW9uIHNob3dCb3R0b20oY29tcG9uZW50LCBjb21wb25lbnRQcm9wcywgbW9kYWxQcm9wcykgewogICAgICAgIHZhciBldmVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9OwogICAgICAgIHZhciBjb250YWluZXIgPSBnZXRNb2RhbHNDb250YWluZXIoVnVlLCB7fSwgUGx1Z2luLnJvb3RJbnN0YW5jZSk7CgogICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBQcm9taXNlKSB7CiAgICAgICAgICBjb21wb25lbnQudGhlbihmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjb250YWluZXIuYWRkKE1vZGFsQm90dG9tV3JhcHBlciwgewogICAgICAgICAgICAgIGNvbXBvbmVudDogcmVzb2x2ZS5kZWZhdWx0LAogICAgICAgICAgICAgIGNvbXBvbmVudEF0dHJzOiBjb21wb25lbnRQcm9wcywKICAgICAgICAgICAgICBtb2RhbEF0dHJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNmZy5tb2RhbEJvdHRvbVByb3BzKSwgbW9kYWxQcm9wcyksCiAgICAgICAgICAgICAgZXZlbnRzOiBldmVudHMKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgY29udGFpbmVyLmFkZChNb2RhbEJvdHRvbVdyYXBwZXIsIHsKICAgICAgICAgIGNvbXBvbmVudDogY29tcG9uZW50LAogICAgICAgICAgY29tcG9uZW50QXR0cnM6IGNvbXBvbmVudFByb3BzLAogICAgICAgICAgbW9kYWxBdHRyczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjZmcubW9kYWxCb3R0b21Qcm9wcyksIG1vZGFsUHJvcHMpLAogICAgICAgICAgZXZlbnRzOiBldmVudHMKICAgICAgICB9KTsKICAgICAgfQogICAgfTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IFBsdWdpbjs="},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/core/plugins/modal/modalPlugin.js"],"names":["LogService","ModalWrapper","ModalBottomWrapper","ModalsContainer","Plugin","install","Vue","cfg","installed","rootInstance","attachContainerId","component","mixin","beforeMount","$root","getModalsContainer","options","root","_dynamicContainer","container","document","getElementById","warn","parent","render","h","$mount","prototype","$modal","show","componentProps","modalProps","events","Promise","then","resolve","add","default","componentAttrs","modalAttrs","showBottom","modalBottomProps"],"mappings":"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","sourcesContent":["import LogService from '@services/LogService';\nimport ModalWrapper from './ModalWrapper.vue';\nimport ModalBottomWrapper from './ModalBottomWrapper.vue';\nimport ModalsContainer from './ModalsContainer.vue';\n\nconst Plugin = {\n    install( Vue, cfg = { } ) {\n        if ( this.installed ) return;\n\n        this.installed = true;\n        this.rootInstance = null;\n        const attachContainerId = 'modals_container';\n\n        Vue.component( 'ModalsContainer', ModalsContainer );\n        Vue.mixin( {\n            beforeMount( ) {\n                if ( Plugin.rootInstance === null ) {\n                    Plugin.rootInstance = this.$root;\n                }\n            }\n        } );\n\n        const getModalsContainer = ( Vue, options, root ) => {\n            if ( !root._dynamicContainer ) {\n                const container = document.getElementById( attachContainerId );\n\n                if ( !container ) {\n                    LogService.warn( 'Cannot find container div with id=modals_container' );\n                    return null;\n                }\n\n                new Vue( {\n                    parent: root,\n                    render: h => h( ModalsContainer )\n                } ).$mount( container );\n            }\n\n            return root._dynamicContainer;\n        };\n\n        Vue.prototype.$modal = {\n            show( component, componentProps, modalProps, events = { } ) {\n                const container = getModalsContainer( Vue, {}, Plugin.rootInstance );\n                if ( component instanceof Promise ) {\n                    component.then ( resolve => {\n                        container.add( ModalWrapper, { component: resolve.default, componentAttrs: componentProps, modalAttrs: { ...cfg.modalProps, ...modalProps }, events } );\n                    } );\n                } else \n                    container.add( ModalWrapper, { component, componentAttrs: componentProps, modalAttrs: { ...cfg.modalProps, ...modalProps }, events } );\n            },\n            showBottom( component, componentProps, modalProps, events = { } ) {\n                const container = getModalsContainer( Vue, {}, Plugin.rootInstance );\n\n                if ( component instanceof Promise ) {\n                    component.then ( resolve => {\n                        container.add( ModalBottomWrapper, { component:resolve.default, componentAttrs: componentProps, modalAttrs:{ ...cfg.modalBottomProps, ...modalProps }, events } );\n                    } );\n                } else\n                    container.add( ModalBottomWrapper, { component, componentAttrs: componentProps, modalAttrs: { ...cfg.modalBottomProps, ...modalProps }, events } );\n            }\n        };\n\n    }\n};\n\nexport default Plugin;\n"]}]}