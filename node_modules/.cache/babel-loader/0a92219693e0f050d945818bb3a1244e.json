{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/tickets.js","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/tickets.js","mtime":1645805363992},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NyaXN0aWFuZGFuL0Rlc2t0b3AvcHJvaWVjdC1saWNlbnRhLWZyb250L25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvY3Jpc3RpYW5kYW4vRGVza3RvcC9wcm9pZWN0LWxpY2VudGEtZnJvbnQvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBhcGlTZXJ2aWNlVGlja2V0cyBmcm9tICdAY29yZS9hcGkvYXBpU2VydmljZVRpY2tldHMnOwppbXBvcnQgeyBub3JtYWxpemVUaWNrZXRzTGlzdCB9IGZyb20gJ0Bjb3JlL2RhdGEvcmVzcG9uc2Uvbm9ybWFsaXplVGlja2V0TGlzdCc7CmltcG9ydCBMb2dTZXJ2aWNlIGZyb20gJ0BzZXJ2aWNlcy9Mb2dTZXJ2aWNlJzsKaW1wb3J0IEFwaUNhbmNlbFNlcnZpY2UgZnJvbSAnQHNlcnZpY2VzL0FwaUNhbmNlbFNlcnZpY2UnOwp2YXIgU1RPUkVfTkFNRSA9ICd0aWNrZXRzJzsKdmFyIElURU1TX1BFUl9QQUdFID0gMjA7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiBTVE9SRV9OQU1FLAogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIGxvYWRpbmc6IGZhbHNlLAogICAgbGlzdDogW10sCiAgICB0b3RhbDogMAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRMb2FkaW5nOiBmdW5jdGlvbiBzZXRMb2FkaW5nKHN0YXRlLCBsb2FkaW5nKSB7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBsb2FkaW5nOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKF9yZWYpIHsKICAgICAgICB2YXIgY29tbWl0LAogICAgICAgICAgICBzdGF0ZSwKICAgICAgICAgICAgX3JlZjIsCiAgICAgICAgICAgIGV2ZW50SWQsCiAgICAgICAgICAgIHNlYXJjaCwKICAgICAgICAgICAgX3JlZjIkdXNlckFuYWx5dGljcywKICAgICAgICAgICAgdXNlckFuYWx5dGljcywKICAgICAgICAgICAgYXBpLAogICAgICAgICAgICBjYW5jZWxUb2tlbiwKICAgICAgICAgICAgcmVzcG9uc2UsCiAgICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwgc3RhdGUgPSBfcmVmLnN0YXRlOwogICAgICAgICAgICAgICAgX3JlZjIgPSBfYXJncy5sZW5ndGggPiAxICYmIF9hcmdzWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnc1sxXSA6IHt9LCBldmVudElkID0gX3JlZjIuZXZlbnRJZCwgc2VhcmNoID0gX3JlZjIuc2VhcmNoLCBfcmVmMiR1c2VyQW5hbHl0aWNzID0gX3JlZjIudXNlckFuYWx5dGljcywgdXNlckFuYWx5dGljcyA9IF9yZWYyJHVzZXJBbmFseXRpY3MgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIkdXNlckFuYWx5dGljczsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0TG9hZGluZycsIHRydWUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpU2VydmljZVRpY2tldHMoJycpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBhcGkgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgQXBpQ2FuY2VsU2VydmljZS5jbGVhcigndGlja2V0cy5nZXQnKTsKICAgICAgICAgICAgICAgIGNhbmNlbFRva2VuID0gQXBpQ2FuY2VsU2VydmljZS5nZXRUb2tlbigndGlja2V0cy5nZXQnKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkudGlja2V0cy5nZXQoZXZlbnRJZCwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICAgIG9mZnNldDogc3RhdGUubGlzdC5sZW5ndGgsCiAgICAgICAgICAgICAgICAgIGxpbWl0OiBJVEVNU19QRVJfUEFHRQogICAgICAgICAgICAgICAgfSwgc2VhcmNoKSwgewogICAgICAgICAgICAgICAgICB1c2VyQW5hbHl0aWNzOiB1c2VyQW5hbHl0aWNzCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIGNhbmNlbFRva2VuOiBjYW5jZWxUb2tlbgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoJ3NldExvYWRpbmcnLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLAogICAgICAgICAgICAgICAgICBkYXRhOiBub3JtYWxpemVUaWNrZXRzTGlzdChyZXNwb25zZS5kYXRhKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBMb2dTZXJ2aWNlLmRlYnVnKCdwcm9ibGVtIGxvYWRpbmcgdGlja2V0cycpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldChfeCkgewogICAgICAgIHJldHVybiBfZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXQ7CiAgICB9KCksCiAgICBhdmFpbGFiaWxpdHk6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9hdmFpbGFiaWxpdHkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKGNvbnRleHQsIF9yZWYzKSB7CiAgICAgICAgdmFyIGV2ZW50SWQsIGFwaSwgY2FuY2VsVG9rZW4sIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBldmVudElkID0gX3JlZjMuZXZlbnRJZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGlTZXJ2aWNlVGlja2V0cygnJyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGFwaSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgY2FuY2VsVG9rZW4gPSBBcGlDYW5jZWxTZXJ2aWNlLmdldFRva2VuKCd0aWNrZXRzLmF2YWlsYWJpbGl0eScpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS50aWNrZXRzLmF2YWlsYWJpbGl0eShldmVudElkLCB7CiAgICAgICAgICAgICAgICAgIGNhbmNlbFRva2VuOiBjYW5jZWxUb2tlbgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsCiAgICAgICAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgTG9nU2VydmljZS5kZWJ1ZygncHJvYmxlbSBsb2FkaW5nIHRpY2tldHMgYXZhaWxhYmlsaXR5Jyk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYXZhaWxhYmlsaXR5KF94MiwgX3gzKSB7CiAgICAgICAgcmV0dXJuIF9hdmFpbGFiaWxpdHkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGF2YWlsYWJpbGl0eTsKICAgIH0oKQogIH0KfTs="},{"version":3,"sources":["/Users/cristiandan/Desktop/proiect-licenta-front/src/core/store/modules/tickets.js"],"names":["apiServiceTickets","normalizeTicketsList","LogService","ApiCancelService","STORE_NAME","ITEMS_PER_PAGE","name","namespaced","state","loading","list","total","mutations","setLoading","actions","get","commit","eventId","search","userAnalytics","api","clear","cancelToken","getToken","tickets","offset","length","limit","response","success","data","debug","availability","context"],"mappings":"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","sourcesContent":["\nimport apiServiceTickets from '@core/api/apiServiceTickets';\nimport { normalizeTicketsList } from '@core/data/response/normalizeTicketList';\nimport LogService from '@services/LogService';\nimport ApiCancelService from '@services/ApiCancelService';\n\nconst STORE_NAME = 'tickets';\nconst ITEMS_PER_PAGE = 20;\n\nexport default {\n    name: STORE_NAME,\n    namespaced: true,\n    state: {\n        loading:            false,\n        list:               [ ],\n        total:              0\n    },\n    mutations: {\n        setLoading( state, loading ) {\n            state.loading = loading;\n        }\n    },\n\n    actions: {\n        get: async ( { commit, state }, { eventId, search, userAnalytics = false } = {} ) => {\n            commit( 'setLoading', true );\n            const api = await apiServiceTickets( '' );\n\n            ApiCancelService.clear( 'tickets.get' );\n            const cancelToken = ApiCancelService.getToken( 'tickets.get' );\n\n            const response = await api.tickets.get(\n                eventId,\n                {\n                    offset: state.list.length,\n                    limit:  ITEMS_PER_PAGE,\n                    ...search\n                },\n                {\n                    userAnalytics\n                },\n                {\n                    cancelToken\n                }\n            );\n\n            commit( 'setLoading', false );\n\n            if ( response.success ) {\n                return { success: true, data: normalizeTicketsList ( response.data ) };\n            } else {\n                LogService.debug( 'problem loading tickets' );\n                return response;\n            }\n        },\n        availability: async ( context, { eventId } ) => {\n            const api = await apiServiceTickets( '' );\n            const cancelToken = ApiCancelService.getToken( 'tickets.availability' );\n            const response = await api.tickets.availability(\n                eventId,\n                {\n                    cancelToken\n                }\n            );\n\n            if ( response.success ) {\n                return { success: true, data: response.data };\n            } else {\n                LogService.debug( 'problem loading tickets availability' );\n\n                return response;\n            }\n        }\n    }\n};\n"]}]}