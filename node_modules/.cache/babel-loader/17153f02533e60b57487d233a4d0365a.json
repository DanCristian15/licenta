{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/core/utils/feeUtils.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/utils/feeUtils.js","mtime":1645805364007},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL2xpZmVzdHlsZS11aS9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9jcmlzdGlhbmRhbi9EZXNrdG9wL2xpZmVzdHlsZS11aS9ub2RlX21vZHVsZXMvQHZ1ZS9iYWJlbC1wcmVzZXQtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IGkxOG5leHQgZnJvbSAnaTE4bmV4dCc7CmltcG9ydCBmZWVDb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMvZmVlJzsKZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZVR5cGUodHlwZSkgewogIHN3aXRjaCAodHlwZSkgewogICAgY2FzZSBmZWVDb25zdGFudHMuVFlQRVMuQkFTRToKICAgICAgcmV0dXJuIGkxOG5leHQudCgnX2NvbW1vbjplbnRpdGllcy5mZWUudHlwZS5iYXNlJyk7CgogICAgY2FzZSBmZWVDb25zdGFudHMuVFlQRVMuQkFTRV9UQVg6CiAgICAgIHJldHVybiBpMThuZXh0LnQoJ19jb21tb246ZW50aXRpZXMuZmVlLnR5cGUuYmFzZV90YXgnKTsKCiAgICBjYXNlIGZlZUNvbnN0YW50cy5UWVBFUy5TRVJWSUNFOgogICAgICByZXR1cm4gaTE4bmV4dC50KCdfY29tbW9uOmVudGl0aWVzLmZlZS50eXBlLnNlcnZpY2UnKTsKCiAgICBjYXNlIGZlZUNvbnN0YW50cy5UWVBFUy5ESVNUQU5DRToKICAgICAgcmV0dXJuIGkxOG5leHQudCgnX2NvbW1vbjplbnRpdGllcy5mZWUudHlwZS5kaXN0YW5jZScpOwoKICAgIGNhc2UgZmVlQ29uc3RhbnRzLlRZUEVTLkZBQ0lMSVRZOgogICAgICByZXR1cm4gaTE4bmV4dC50KCdfY29tbW9uOmVudGl0aWVzLmZlZS50eXBlLmZhY2lsaXR5Jyk7CgogICAgY2FzZSBmZWVDb25zdGFudHMuVFlQRVMuT1JERVI6CiAgICAgIHJldHVybiBpMThuZXh0LnQoJ19jb21tb246ZW50aXRpZXMuZmVlLnR5cGUub3JkZXInKTsKCiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gdHlwZS5zcGxpdCgnXycpLmpvaW4oJyAnKTsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIGNsZWFuQW5kVHJhbnNsYXRlKGl0ZW1zLCBvZmZlck5hbWUpIHsKICB2YXIgbWFwV2l0aFRyYW5zbGF0aW9uID0gZnVuY3Rpb24gbWFwV2l0aFRyYW5zbGF0aW9uKGl0ZW0sIG9mZmVyTmFtZSkgewogICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgIGxhYmVsOiBnZXRMYWJlbEJ5VHlwZShpdGVtLCBvZmZlck5hbWUpLAogICAgICBpc0Jhc2U6IGl0ZW0udHlwZSA9PT0gZmVlQ29uc3RhbnRzLlRZUEVTLkJBU0UsCiAgICAgIG9yZGVyOiAiIi5jb25jYXQoaXRlbS50eXBlICE9PSBmZWVDb25zdGFudHMuVFlQRVMuQkFTRSAmJiBpdGVtLnR5cGUgPT09IGZlZUNvbnN0YW50cy5UWVBFUy5CQVNFX1RBWCA/IDEgOiAwLCAiICIpLmNvbmNhdChpdGVtLnR5cGUpCiAgICB9KTsKICB9OwoKICB2YXIgZ2V0TGFiZWxCeVR5cGUgPSBmdW5jdGlvbiBnZXRMYWJlbEJ5VHlwZShpdGVtLCBvZmZlck5hbWUpIHsKICAgIHZhciBsYWJlbEZvckVudGl0eVNjb3BlID0gb2ZmZXJOYW1lID8gaTE4bmV4dC50KCdfY29tbW9uOmVudGl0aWVzLmZlZS5sYWJlbEZvckVudGl0eVNjb3BlJywgewogICAgICB0eXBlOiB0cmFuc2xhdGVUeXBlKGl0ZW0udHlwZSksCiAgICAgIHNjb3BlOiBvZmZlck5hbWUsCiAgICAgIGludGVycG9sYXRpb246IHsKICAgICAgICBlc2NhcGVWYWx1ZTogZmFsc2UKICAgICAgfQogICAgfSkgOiAnJzsKICAgIHZhciBsYWJlbEZvckVudGl0eVRheFNjb3BlID0gaTE4bmV4dC50KCdfY29tbW9uOmVudGl0aWVzLmZlZS5sYWJlbEZvckVudGl0eVRheFNjb3BlJywgewogICAgICB0eXBlOiB0cmFuc2xhdGVUeXBlKGl0ZW0udHlwZSksCiAgICAgIGludGVycG9sYXRpb246IHsKICAgICAgICBlc2NhcGVWYWx1ZTogZmFsc2UKICAgICAgfQogICAgfSk7CiAgICB2YXIgbGFiZWxGb3JPcmRlclNjb3BlID0gaTE4bmV4dC50KCdfY29tbW9uOmVudGl0aWVzLmZlZS5sYWJlbEZvck9yZGVyU2NvcGUnLCB7CiAgICAgIHR5cGU6IHRyYW5zbGF0ZVR5cGUoaXRlbS50eXBlKQogICAgfSk7CiAgICB2YXIgbGFiZWxGb3JPcmRlclNjb3BlV2l0aFByZXBlbmQgPSAiIi5jb25jYXQoaTE4bmV4dC50KCdfY29tbW9uOmVudGl0aWVzLmZlZS50eXBlLm9yZGVyJyksICIgIikuY29uY2F0KGxhYmVsRm9yT3JkZXJTY29wZSk7CgogICAgc3dpdGNoIChpdGVtLnR5cGUpIHsKICAgICAgY2FzZSBmZWVDb25zdGFudHMuVFlQRVMuQkFTRToKICAgICAgICByZXR1cm4gbGFiZWxGb3JFbnRpdHlTY29wZTsKCiAgICAgIGNhc2UgZmVlQ29uc3RhbnRzLlRZUEVTLkJBU0VfVEFYOgogICAgICAgIHJldHVybiBsYWJlbEZvckVudGl0eVRheFNjb3BlOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gIWl0ZW0ucHJlcGVuZExhYmVsID8gbGFiZWxGb3JPcmRlclNjb3BlIDogbGFiZWxGb3JPcmRlclNjb3BlV2l0aFByZXBlbmQ7CiAgICB9CiAgfTsKCiAgdmFyIHNwbGl0QmFzZVR5cGVJdGVtSW50b1ByaWNlQW5kVGF4ID0gZnVuY3Rpb24gc3BsaXRCYXNlVHlwZUl0ZW1JbnRvUHJpY2VBbmRUYXgoYWNjLCBpdGVtKSB7CiAgICB2YXIgcHJpY2UgPSBpdGVtLnByaWNlLAogICAgICAgIHRheCA9IGl0ZW0udGF4LAogICAgICAgIHR5cGUgPSBpdGVtLnR5cGU7CgogICAgaWYgKGl0ZW0udHlwZSA9PT0gZmVlQ29uc3RhbnRzLlRZUEVTLkJBU0UpIHsKICAgICAgdmFyIGl0ZW1XaXRoUHJpY2UgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgIHByaWNlOiBwcmljZSwKICAgICAgICB0YXg6IDAKICAgICAgfSk7CgogICAgICBhY2MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFjYyksIFtpdGVtV2l0aFByaWNlXSk7CgogICAgICBpZiAoaXRlbS50YXgpIHsKICAgICAgICB2YXIgaXRlbVdpdGhUYXggPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgewogICAgICAgICAgcHJpY2U6IHRheCwKICAgICAgICAgIHRheDogMCwKICAgICAgICAgIHR5cGU6ICIiLmNvbmNhdCh0eXBlLCAiX3RheCIpCiAgICAgICAgfSk7CgogICAgICAgIGFjYyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYWNjKSwgW2l0ZW1XaXRoVGF4XSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBhY2M7CiAgICB9CgogICAgYWNjID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShhY2MpLCBbaXRlbV0pOwogICAgcmV0dXJuIGFjYzsKICB9OwoKICB2YXIgcmV0ID0gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXR1cm4gaXRlbS5wcmljZTsKICB9KS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgaXRlbSkgewogICAgcmV0dXJuIHNwbGl0QmFzZVR5cGVJdGVtSW50b1ByaWNlQW5kVGF4KGFjYywgaXRlbSk7CiAgfSwgW10pLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgcmV0dXJuIG1hcFdpdGhUcmFuc2xhdGlvbihpdGVtLCBvZmZlck5hbWUpOwogIH0pOwogIHJldHVybiByZXQ7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnlMYWJlbEFuZFByaWNlKGl0ZW1zKSB7CiAgcmV0dXJuIGl0ZW1zLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBpdGVtKSB7CiAgICB2YXIgZmVlSW5kZXggPSBhY2MuZmluZEluZGV4KGZ1bmN0aW9uIChmZWUpIHsKICAgICAgcmV0dXJuIGZlZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IGl0ZW0ubmFtZS50b0xvd2VyQ2FzZSgpICYmIGZlZS5wcmljZSA9PT0gaXRlbS5wcmljZTsKICAgIH0pOwoKICAgIGlmIChmZWVJbmRleCAhPT0gLTEpIHsKICAgICAgYWNjW2ZlZUluZGV4XSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYWNjW2ZlZUluZGV4XSksIHt9LCB7CiAgICAgICAgYW1vdW50OiBhY2NbZmVlSW5kZXhdLmFtb3VudCArIGl0ZW0uYW1vdW50LAogICAgICAgIHF1YW50aXR5OiBhY2NbZmVlSW5kZXhdLnF1YW50aXR5ICsgaXRlbS5xdWFudGl0eQogICAgICB9KTsKICAgICAgcmV0dXJuIGFjYzsKICAgIH0KCiAgICBhY2MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFjYyksIFtpdGVtXSk7CiAgICByZXR1cm4gYWNjOwogIH0sIFtdKTsKfQ=="},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/core/utils/feeUtils.js"],"names":["i18next","feeConstants","translateType","type","TYPES","BASE","t","BASE_TAX","SERVICE","DISTANCE","FACILITY","ORDER","split","join","cleanAndTranslate","items","offerName","mapWithTranslation","item","label","getLabelByType","isBase","order","labelForEntityScope","scope","interpolation","escapeValue","labelForEntityTaxScope","labelForOrderScope","labelForOrderScopeWithPrepend","prependLabel","splitBaseTypeItemIntoPriceAndTax","acc","price","tax","itemWithPrice","itemWithTax","ret","filter","reduce","map","groupByLabelAndPrice","feeIndex","findIndex","fee","name","toLowerCase","amount","quantity"],"mappings":"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","sourcesContent":["import i18next from 'i18next';\nimport feeConstants from './constants/fee';\n\nexport function translateType( type ) {\n    switch ( type ) {\n    case feeConstants.TYPES.BASE:\n        return i18next.t( '_common:entities.fee.type.base' );\n    case feeConstants.TYPES.BASE_TAX:\n        return i18next.t( '_common:entities.fee.type.base_tax' );\n    case feeConstants.TYPES.SERVICE:\n        return i18next.t( '_common:entities.fee.type.service' );\n    case feeConstants.TYPES.DISTANCE:\n        return i18next.t( '_common:entities.fee.type.distance' );\n    case feeConstants.TYPES.FACILITY:\n        return i18next.t( '_common:entities.fee.type.facility' );\n    case feeConstants.TYPES.ORDER:\n        return i18next.t( '_common:entities.fee.type.order' );\n    default:\n        return type.split( '_' ).join( ' ' );\n    }\n}\n\nexport function cleanAndTranslate( items, offerName ) {\n    const mapWithTranslation = ( item, offerName ) => {\n        return {\n            ...item,\n            label: getLabelByType( item, offerName ),\n            isBase: item.type === feeConstants.TYPES.BASE,\n            order: `${item.type !== feeConstants.TYPES.BASE && item.type === feeConstants.TYPES.BASE_TAX ? 1 : 0} ${item.type}`\n        };\n    };\n\n    const getLabelByType = ( item, offerName ) => {\n        const labelForEntityScope = offerName ? i18next.t(\n            '_common:entities.fee.labelForEntityScope',\n            {\n                type: translateType( item.type ),\n                scope: offerName,\n                interpolation: { escapeValue: false }\n            }\n        ) : '';\n\n        const labelForEntityTaxScope = i18next.t(\n            '_common:entities.fee.labelForEntityTaxScope',\n            {\n                type: translateType( item.type ),\n                interpolation: { escapeValue: false }\n            }\n        );\n\n        const labelForOrderScope = i18next.t(\n            '_common:entities.fee.labelForOrderScope',\n            {\n                type: translateType( item.type ),\n            }\n        );\n\n        const labelForOrderScopeWithPrepend = `${i18next.t( '_common:entities.fee.type.order' )} ${labelForOrderScope}`;\n\n        switch ( item.type ) {\n        case feeConstants.TYPES.BASE:\n            return labelForEntityScope;\n        case feeConstants.TYPES.BASE_TAX:\n            return labelForEntityTaxScope;\n        default:\n            return !item.prependLabel ? labelForOrderScope : labelForOrderScopeWithPrepend;\n        }\n    };\n\n    const splitBaseTypeItemIntoPriceAndTax = ( acc, item ) => {\n        const { price, tax, type } = item;\n\n        if ( item.type === feeConstants.TYPES.BASE ) {\n            const itemWithPrice = {\n                ...item,\n                price: price,\n                tax: 0\n            };\n\n            acc = [ ...acc, itemWithPrice ];\n\n            if ( item.tax ) {\n                const itemWithTax = {\n                    ...item,\n                    price: tax,\n                    tax: 0,\n                    type: `${type}_tax`,\n                };\n\n                acc = [ ...acc, itemWithTax ];\n            }\n\n            return acc;\n        }\n\n        acc = [ ...acc, item ];\n\n        return acc;\n    };\n\n    const ret = items\n        .filter( item => item.price )\n        .reduce( ( acc, item ) => splitBaseTypeItemIntoPriceAndTax( acc, item ), [] )\n        .map( ( item ) => mapWithTranslation( item, offerName ) );\n\n    return ret;\n}\n\nexport function groupByLabelAndPrice( items ) {\n    return items.reduce( ( acc, item ) => {\n        const feeIndex = acc.findIndex( fee => fee.name.toLowerCase() === item.name.toLowerCase() && fee.price === item.price );\n        if ( feeIndex !== -1 ) {\n            acc[ feeIndex ] = {\n                ...acc[ feeIndex ],\n                amount: acc[ feeIndex ].amount + item.amount,\n                quantity: acc[ feeIndex ].quantity + item.quantity,\n            };\n            return acc;\n        }\n\n        acc = [\n            ...acc,\n            item\n        ];\n\n        return acc;\n    }, [] );\n}"]}]}