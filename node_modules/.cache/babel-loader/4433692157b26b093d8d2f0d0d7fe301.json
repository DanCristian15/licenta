{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/api/apiMapLocation.js","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/api/apiMapLocation.js","mtime":1645805363868},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvY3Jpc3RpYW5kYW4vRGVza3RvcC9wcm9pZWN0LWxpY2VudGEtZnJvbnQvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IGkxOG5leHQgZnJvbSAnaTE4bmV4dCc7CmltcG9ydCBhcGlNYXBMb2NhdGlvbkNvbnN0YW50cyBmcm9tICdAY29yZS91dGlscy9jb25zdGFudHMvYXBpTWFwTG9jYXRpb24nOwppbXBvcnQgTG9nU2VydmljZSBmcm9tICdAc2VydmljZXMvTG9nU2VydmljZSc7CnZhciBzZXJ2aWNlUHJvdmlkZXIgPSB7CiAgbG9hZFNjcmlwdHM6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfbG9hZFNjcmlwdHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBsb2FkQnVuZGxlLCByZXNwQnVuZGxlOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgbG9hZEJ1bmRsZSA9IGZ1bmN0aW9uIGxvYWRCdW5kbGUoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgVnVlLmxvYWRTY3JpcHQoYXBpTWFwTG9jYXRpb25Db25zdGFudHMuQ09ORklHLkhFUkUuc2NyaXB0QnVuZGxlVXJsLCAnbW9kdWxlJywgewogICAgICAgICAgICAgICAgICAgIGFzeW5jOiBmYWxzZQogICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBsb2FkQnVuZGxlKCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzcEJ1bmRsZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghcmVzcEJ1bmRsZSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSk7CgogICAgZnVuY3Rpb24gbG9hZFNjcmlwdHMoKSB7CiAgICAgIHJldHVybiBfbG9hZFNjcmlwdHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gbG9hZFNjcmlwdHM7CiAgfSgpLAogIGdldFNlcnZpY2U6IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfZ2V0U2VydmljZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBhcGk7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlUHJvdmlkZXIubG9hZFNjcmlwdHMoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBpZiAoIV9jb250ZXh0Mi5zZW50KSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGFwaSA9IHdpbmRvdy5IOwoKICAgICAgICAgICAgICBpZiAoIWFwaSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgbmV3IGFwaS5zZXJ2aWNlLlBsYXRmb3JtKHsKICAgICAgICAgICAgICAgICdhcGlrZXknOiBhcGlNYXBMb2NhdGlvbkNvbnN0YW50cy5DT05GSUcuSEVSRS5hcGlLZXkKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKTsKCiAgICBmdW5jdGlvbiBnZXRTZXJ2aWNlKCkgewogICAgICByZXR1cm4gX2dldFNlcnZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICByZXR1cm4gZ2V0U2VydmljZTsKICB9KCkKfTsKZXhwb3J0IGRlZmF1bHQgewogIGNpdHk6IHsKICAgIGdldEJ5UG9zaXRpb246IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRCeVBvc2l0aW9uID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7CiAgICAgICAgdmFyIHNlcnZpY2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlUHJvdmlkZXIuZ2V0U2VydmljZSgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBzZXJ2aWNlID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFzZXJ2aWNlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgIHNlcnZpY2UuZ2V0R2VvY29kaW5nU2VydmljZSgpLnJldmVyc2VHZW9jb2RlKHsKICAgICAgICAgICAgICAgICAgICBtb2RlOiAncmV0cmlldmVBZGRyZXNzZXMnLAogICAgICAgICAgICAgICAgICAgICdtYXhyZXN1bHRzJzogMSwKICAgICAgICAgICAgICAgICAgICBwcm94OiAiIi5jb25jYXQobGF0aXR1ZGUsICIsIikuY29uY2F0KGxvbmdpdHVkZSksCiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbGRhdGE6ICdDb3VudHJ5Mix0cnVlJwogICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlJlc3BvbnNlLlZpZXcubGVuZ3RoICYmIHJlc3BvbnNlLlJlc3BvbnNlLlZpZXdbMF0uUmVzdWx0Lmxlbmd0aCA9PT0gMSAmJiByZXNwb25zZS5SZXNwb25zZS5WaWV3WzBdLlJlc3VsdFswXS5Mb2NhdGlvbi5BZGRyZXNzLkNpdHkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZHJlc3MgPSByZXNwb25zZS5SZXNwb25zZS5WaWV3WzBdLlJlc3VsdFswXS5Mb2NhdGlvbi5BZGRyZXNzOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBhZGRyZXNzLkNpdHksCiAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeUNvZGU6IGFkZHJlc3MuQWRkaXRpb25hbERhdGEuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ua2V5ID09PSAnQ291bnRyeTInOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICFhZGRyZXNzLlN0YXRlIHx8IChkYXRhLnN0YXRlQ29kZSA9IGFkZHJlc3MuU3RhdGUpOwogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBpMThuZXh0LnQoJ19jb21tb246bWVzc2FnZXMuYXBpTWFwTG9jYXRpb25FcnJvcicpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgICAgICAgTG9nU2VydmljZS5kZWJ1ZygncHJvYmxlbXMgcmV0cml2aW5nIGNpdHkgZnJvbSBhcGlMb2NhdGlvbiAnICsgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBpMThuZXh0LnQoJ19jb21tb246bWVzc2FnZXMuYXBpTWFwTG9jYXRpb25FcnJvcicpCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICAgICAgTG9nU2VydmljZS5kZWJ1ZygncHJvYmxlbXMgcmV0cml2aW5nIGNpdHkgZnJvbSBhcGlMb2NhdGlvbiAnICsgZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBpMThuZXh0LnQoJ19jb21tb246bWVzc2FnZXMuYXBpTWFwTG9jYXRpb25Db250YWN0aW5nRXJyb3InKQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGkxOG5leHQudCgnX2NvbW1vbjptZXNzYWdlcy5hcGlNYXBMb2NhdGlvbkNvbnRhY3RpbmdFcnJvcicpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0QnlQb3NpdGlvbihfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF9nZXRCeVBvc2l0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRCeVBvc2l0aW9uOwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"sources":["/Users/cristiandan/Desktop/proiect-licenta-front/src/core/api/apiMapLocation.js"],"names":["Vue","i18next","apiMapLocationConstants","LogService","serviceProvider","loadScripts","loadBundle","Promise","resolve","loadScript","CONFIG","HERE","scriptBundleUrl","async","then","catch","respBundle","getService","api","window","H","service","Platform","apiKey","city","getByPosition","latitude","longitude","getGeocodingService","reverseGeocode","mode","prox","additionaldata","response","Response","View","length","Result","Location","Address","City","address","data","name","countryCode","AdditionalData","find","item","key","value","State","stateCode","success","message","t","error","debug"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport i18next from 'i18next';\nimport apiMapLocationConstants from '@core/utils/constants/apiMapLocation';\nimport LogService from '@services/LogService';\n\nconst serviceProvider = {\n    loadScripts: async ( ) => {\n        const loadBundle = ( ) => {\n            return new Promise( ( resolve ) => {\n                Vue.loadScript( apiMapLocationConstants.CONFIG.HERE.scriptBundleUrl, 'module', { async: false } )\n                    .then( ( ) => {\n                        resolve( true );\n                    } )\n                    .catch( ( ) => resolve( false ) );\n            } );\n        };\n\n        const respBundle = await loadBundle( );\n        if ( respBundle ) {\n            return true;\n        }\n\n        return false;\n    },\n    getService: async ( ) => {\n        if ( await serviceProvider.loadScripts() ) {\n            const api = window.H;\n\n            if ( api ) {\n                return new api.service.Platform( {\n                    'apikey': apiMapLocationConstants.CONFIG.HERE.apiKey\n                } );\n            }\n        }\n\n        return false;\n\n    }\n};\n\n\nexport default {\n    city: {\n        getByPosition: async ( latitude, longitude ) => {\n            let service = await serviceProvider.getService( );\n\n            if ( service ) {\n                return new Promise( ( resolve ) => {\n                    service.getGeocodingService( ).reverseGeocode(\n                        {\n                            mode: 'retrieveAddresses',\n                            'maxresults': 1,\n                            prox: `${latitude},${longitude}`,\n                            additionaldata:'Country2,true',\n\n                        }, ( response ) => {\n                            try {\n                                if ( response.Response.View.length\n                                    && response.Response.View[0].Result.length === 1\n                                    && response.Response.View[0].Result[0].Location.Address.City ) {\n                                    const address = response.Response.View[0].Result[0].Location.Address;\n                                    const data = {\n                                        name: address.City,\n                                        countryCode: address.AdditionalData.find( item => item.key === 'Country2' ).value\n                                    };\n\n                                    !address.State || ( data.stateCode = address.State );\n\n                                    resolve( {\n                                        success: true,\n                                        data\n                                    } );\n                                } else {\n                                    resolve( {\n                                        success: false,\n                                        message: i18next.t( '_common:messages.apiMapLocationError' )\n                                    } );\n                                }\n                            } catch ( error ) {\n                                // eslint-disable-next-line no-console\n                                LogService.debug( 'problems retriving city from apiLocation ' + error );\n                                resolve( {\n                                    success: false,\n                                    message: i18next.t( '_common:messages.apiMapLocationError' )\n                                } );\n                            }\n                        }, error => {\n                            // eslint-disable-next-line no-console\n                            LogService.debug( 'problems retriving city from apiLocation ' + error );\n                            resolve( {\n                                success: false,\n                                message: i18next.t( '_common:messages.apiMapLocationContactingError' )\n                            } );\n                        }\n                    );\n                } );\n\n            }\n\n            return {\n                success: false,\n                message: i18next.t( '_common:messages.apiMapLocationContactingError' )\n            };\n        }\n    }\n};\n"]}]}