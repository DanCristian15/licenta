{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/search/TheSearch/SearchResultTabsAttractions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/search/TheSearch/SearchResultTabsAttractions.vue","mtime":1645805364036},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NyaXN0aWFuZGFuL0Rlc2t0b3AvbGlmZXN0eWxlLXVpL25vZGVfbW9kdWxlcy9AdnVlL2JhYmVsLXByZXNldC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvY3Jpc3RpYW5kYW4vRGVza3RvcC9saWZlc3R5bGUtdWkvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsJzsKaW1wb3J0IGVudGl0eUNvbnN0YW50cyBmcm9tICdAY29yZS91dGlscy9jb25zdGFudHMvZW50aXR5JzsKaW1wb3J0IFNlZU1vcmVCdXR0b24gZnJvbSAnQGNvcmUvc2hhcmVkL2NvbXBvbmVudHMvYnV0dG9ucy9TZWVNb3JlQnV0dG9uLnZ1ZSc7CmltcG9ydCBEYXRhTG9hZGluZyBmcm9tICdAY29yZS9zaGFyZWQvY29tcG9uZW50cy9sb2FkaW5nL0RhdGFMb2FkaW5nLnZ1ZSc7CmltcG9ydCBTZWFyY2hSZXN1bHRNaXhpbiBmcm9tICcuL1NlYXJjaFJlc3VsdE1peGluJzsKaW1wb3J0IFNlYXJjaFJlc3VsdFRhYnNOb0RhdGEgZnJvbSAnLi9TZWFyY2hSZXN1bHRUYWJzTm9EYXRhLnZ1ZSc7CmltcG9ydCB7IFNlYXJjaFJlc3VsdFRhYnNBdHRyYWN0aW9uc0xpc3QgfSBmcm9tICcuL1NlYXJjaFJlc3VsdFRhYnNBdHRyYWN0aW9ucy9pbmRleCc7CnZhciBTVE9SRV9BVFRSQUNUSU9OUyA9ICdhdHRyYWN0aW9ucyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU2VhcmNoUmVzdWx0VGFic0F0dHJhY3Rpb25zJywKICBjb21wb25lbnRzOiB7CiAgICBTZWFyY2hSZXN1bHRUYWJzTm9EYXRhOiBTZWFyY2hSZXN1bHRUYWJzTm9EYXRhLAogICAgU2VlTW9yZUJ1dHRvbjogU2VlTW9yZUJ1dHRvbiwKICAgIFNlYXJjaFJlc3VsdFRhYnNBdHRyYWN0aW9uc0xpc3Q6IFNlYXJjaFJlc3VsdFRhYnNBdHRyYWN0aW9uc0xpc3QsCiAgICBEYXRhTG9hZGluZzogRGF0YUxvYWRpbmcKICB9LAogIG1peGluczogW1NlYXJjaFJlc3VsdE1peGluXSwKICBpMThuT3B0aW9uczogewogICAgbmFtZXNwYWNlczogJ21haW4nLAogICAga2V5UHJlZml4OiAndmlld3Muc2VhcmNoLnRoZVNlYXJjaC5fY29tcG9uZW50cy5zZWFyY2hSZXN1bHRUYWJzLmF0dHJhY3Rpb25zJwogIH0sCiAgdGVzdElkT3B0aW9uczogewogICAga2V5UHJlZml4OiAnc2VhcmNoLmF0cmFjdGlvbnNUYWInCiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlW1NUT1JFX0FUVFJBQ1RJT05TXS5sb2FkaW5nOwogICAgfSwKICAgIGF0dHJhY3Rpb25zOiBmdW5jdGlvbiBhdHRyYWN0aW9ucyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGVbU1RPUkVfQVRUUkFDVElPTlNdLmxpc3Q7CiAgICB9LAogICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlW1NUT1JFX0FUVFJBQ1RJT05TXS5maWx0ZXI7CiAgICB9CiAgfSkpLCBtYXBHZXR0ZXJzKHsKICAgIGlzQWxsSXRlbXNMb2FkZWQ6ICIiLmNvbmNhdChTVE9SRV9BVFRSQUNUSU9OUywgIi9pc0FsbEl0ZW1zTG9hZGVkIikKICB9KSksIHt9LCB7CiAgICBub0RhdGE6IGZ1bmN0aW9uIG5vRGF0YSgpIHsKICAgICAgcmV0dXJuICF0aGlzLnRvdGFsICYmICF0aGlzLmF0dHJhY3Rpb25zLmxlbmd0aCAmJiAhdGhpcy5sb2FkaW5nOwogICAgfSwKICAgIGVudGl0eVR5cGU6IGZ1bmN0aW9uIGVudGl0eVR5cGUoKSB7CiAgICAgIHJldHVybiBlbnRpdHlDb25zdGFudHMuVFlQRVMuQVRUUkFDVElPTjsKICAgIH0sCiAgICBzaG93TG9hZGluZzogZnVuY3Rpb24gc2hvd0xvYWRpbmcoKSB7CiAgICAgIHJldHVybiAhdGhpcy5hdHRyYWN0aW9ucy5sZW5ndGggJiYgdGhpcy5sb2FkaW5nOwogICAgfSwKICAgIGhhc0l0ZW1zOiBmdW5jdGlvbiBoYXNJdGVtcygpIHsKICAgICAgcmV0dXJuICEhdGhpcy5hdHRyYWN0aW9ucy5sZW5ndGg7CiAgICB9CiAgfSksCiAgd2F0Y2g6IHsKICAgICdmaWx0ZXInOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgaXNFcXVhbChuZXdWYWx1ZSwgb2xkVmFsdWUpIHx8IHRoaXMubG9hZERhdGEoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIGdldDogIiIuY29uY2F0KFNUT1JFX0FUVFJBQ1RJT05TLCAiL2dldCIpCiAgfSkpLCB7fSwgewogICAgbG9hZE5leHRQYWdlOiBmdW5jdGlvbiBsb2FkTmV4dFBhZ2UoKSB7CiAgICAgIHRoaXMuZ2V0KHsKICAgICAgICByZWZyZXNoOiBmYWxzZSwKICAgICAgICBsb2FkTmV4dFBhZ2U6IHRydWUsCiAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaFBhcmFtcywKICAgICAgICB1c2VyQW5hbHl0aWNzOiB0cnVlCiAgICAgIH0pOwogICAgfSwKICAgIGxvYWREYXRhOiBmdW5jdGlvbiBsb2FkRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHBhcmFtczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBfb2JqZWN0U3ByZWFkKHsKICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAwLAogICAgICAgICAgICAgICAgICBjb3VudDogdHJ1ZQogICAgICAgICAgICAgICAgfSwgX3RoaXMuc2VhcmNoUGFyYW1zKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldCh7CiAgICAgICAgICAgICAgICAgIHJlZnJlc2g6IHRydWUsCiAgICAgICAgICAgICAgICAgIHNlYXJjaDogcGFyYW1zLAogICAgICAgICAgICAgICAgICBmaXJzdExvYWQ6IGZhbHNlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0pLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnVwZGF0ZUZpbHRlcih7CiAgICAgIGZpbHRlcjogdGhpcy5maWx0ZXJTZWFyY2hQYXJhbXMsCiAgICAgIGVudGl0eVR5cGU6IHRoaXMuZW50aXR5VHlwZQogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["SearchResultTabsAttractions.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"gst-tabs__attractions gst-tabs-content-narrow\">\n        <div v-if=\"!noData\">\n            <DataLoading v-if=\"showLoading\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n            <template v-else-if=\"hasItems\">\n                <SearchResultTabsAttractionsList :items=\"attractions\" />\n                <SeeMoreButton\n                    v-if=\"!isAllItemsLoaded\"\n                    :data-test-id=\"$testId('buttons.seeMore')\"\n                    class=\"mx-auto d-flex mt-4\"\n                    :loading=\"loading\"\n                    @click=\"loadNextPage()\" />\n            </template>\n        </div>\n        <SearchResultTabsNoData\n            v-else\n            class=\"mt-6\"\n            :title=\"$t('messages.noData.title')\"\n            :content=\"$t('messages.noData.content')\"\n            :type=\"entityType\" />\n    </div>\n</template>\n<script>\n    import { mapActions, mapState, mapGetters } from 'vuex';\n    import isEqual from 'lodash/isEqual';\n    import entityConstants from '@core/utils/constants/entity';\n    import SeeMoreButton from '@core/shared/components/buttons/SeeMoreButton.vue';\n    import DataLoading from '@core/shared/components/loading/DataLoading.vue';\n    import SearchResultMixin from './SearchResultMixin';\n    import SearchResultTabsNoData from './SearchResultTabsNoData.vue';\n    import { SearchResultTabsAttractionsList } from './SearchResultTabsAttractions/index';\n\n    const STORE_ATTRACTIONS = 'attractions';\n\n    export default {\n        name: 'SearchResultTabsAttractions',\n        components: {\n            SearchResultTabsNoData,\n            SeeMoreButton,\n            SearchResultTabsAttractionsList,\n            DataLoading\n        },\n        mixins: [ SearchResultMixin ],\n        i18nOptions: {\n            namespaces: 'main',\n            keyPrefix: 'views.search.theSearch._components.searchResultTabs.attractions'\n        },\n        testIdOptions: {\n            keyPrefix: 'search.atractionsTab'\n        },\n        computed: {\n            ...mapState( {\n                loading:                state => state[STORE_ATTRACTIONS].loading,\n                attractions:            state => state[STORE_ATTRACTIONS].list,\n                filter:                 state => state[STORE_ATTRACTIONS].filter\n            } ),\n            ...mapGetters( {\n                isAllItemsLoaded:  `${ STORE_ATTRACTIONS }/isAllItemsLoaded`\n            } ),\n            noData( ) {\n                return !this.total && !this.attractions.length && !this.loading;\n            },\n            entityType( ) {\n                return entityConstants.TYPES.ATTRACTION;\n            },\n            showLoading( ) {\n                return !this.attractions.length && this.loading;\n            },\n            hasItems( ) {\n                return !!this.attractions.length;\n            }\n        },\n        watch: {\n            'filter': {\n                handler: function ( newValue, oldValue ) {\n                    isEqual( newValue, oldValue ) || this.loadData( );\n                },\n                deep: true\n            },\n        },\n        methods: {\n            ...mapActions( {\n                get:            `${ STORE_ATTRACTIONS }/get`,\n            } ),\n            loadNextPage ( ) {\n                this.get( { refresh: false, loadNextPage: true, search: this.searchParams, userAnalytics: true } );\n            },\n            async loadData( ) {\n                const params = {\n                    offset: 0,\n                    count: true,\n                    ...this.searchParams\n                };\n\n                await this.get( { refresh: true, search : params, firstLoad: false } );\n            }\n        },\n        mounted( ) {\n            this.updateFilter( { filter: this.filterSearchParams, entityType: this.entityType } );\n        }\n    };\n</script>\n"],"sourceRoot":"src/core/views/search/TheSearch"}]}