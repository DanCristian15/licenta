{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js!/Users/cristiandan/Desktop/lifestyle-ui/src/core/data/request/transformCartAddItem.js","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/data/request/transformCartAddItem.js","mtime":1645805363880},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICIvVXNlcnMvY3Jpc3RpYW5kYW4vRGVza3RvcC9saWZlc3R5bGUtdWkvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvY3Jpc3RpYW5kYW4vRGVza3RvcC9saWZlc3R5bGUtdWkvbm9kZV9tb2R1bGVzL0B2dWUvYmFiZWwtcHJlc2V0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IGZvcm1hdFF1ZXJ5UGFyYW0gYXMgZGF0ZVV0aWxzRm9ybWF0UXVlcnlQYXJhbSB9IGZyb20gJ0Bjb3JlL3V0aWxzL2RhdGVVdGlscyc7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICh0aWNrZXQsIGhvdGVsUmVzZXJ2YXRpb24sIGJ1bmRsZSkgewogIHZhciByZXQgPSB7fTsKCiAgaWYgKHRpY2tldCkgewogICAgdmFyIGV2ZW50SWQgPSB0aWNrZXQuZXZlbnRJZCwKICAgICAgICBvZmZlcnMgPSB0aWNrZXQub2ZmZXJzLAogICAgICAgIHNlYXRzID0gdGlja2V0LnNlYXRzLAogICAgICAgIHJvdyA9IHRpY2tldC5yb3csCiAgICAgICAgc2VjdGlvbiA9IHRpY2tldC5zZWN0aW9uLAogICAgICAgIGFjY2Vzc2liaWxpdHkgPSB0aWNrZXQuYWNjZXNzaWJpbGl0eSwKICAgICAgICBzZWxlY3Rpb24gPSB0aWNrZXQuc2VsZWN0aW9uOwogICAgcmV0ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXQpLCB7fSwgewogICAgICB0aWNrZXQ6IHsKICAgICAgICBpdGVtczogW3sKICAgICAgICAgIHByb2R1Y3RJZDogZXZlbnRJZCwKICAgICAgICAgIG9mZmVyczogb2ZmZXJzLAogICAgICAgICAgc2VjdGlvbjogc2VjdGlvbiwKICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgc2VhdHM6IHNlYXRzLAogICAgICAgICAgYWNjZXNzaWJpbGl0eTogYWNjZXNzaWJpbGl0eSwKICAgICAgICAgIHNlbGVjdGlvbjogc2VsZWN0aW9uCiAgICAgICAgfV0KICAgICAgfQogICAgfSk7CiAgfQoKICBpZiAoaG90ZWxSZXNlcnZhdGlvbikgewogICAgdmFyIGhvdGVsID0gaG90ZWxSZXNlcnZhdGlvbi5ob3RlbCwKICAgICAgICBhY2NvbW1vZGF0aW9uID0gaG90ZWxSZXNlcnZhdGlvbi5hY2NvbW1vZGF0aW9uLAogICAgICAgIHJvb20gPSBob3RlbFJlc2VydmF0aW9uLnJvb207CiAgICB2YXIgcmF0ZSA9IHJvb20ucmF0ZTsKICAgIHJldCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmV0KSwge30sIHsKICAgICAgaG90ZWxSb29tOiB7CiAgICAgICAgaG90ZWxJZDogaG90ZWwuaWQsCiAgICAgICAgc3RheVJhbmdlOiB7CiAgICAgICAgICBjaGVja2luOiBkYXRlVXRpbHNGb3JtYXRRdWVyeVBhcmFtKGFjY29tbW9kYXRpb24uc3RhcnREYXRlVGltZSksCiAgICAgICAgICBjaGVja291dDogZGF0ZVV0aWxzRm9ybWF0UXVlcnlQYXJhbShhY2NvbW1vZGF0aW9uLmVuZERhdGVUaW1lKQogICAgICAgIH0sCiAgICAgICAgcm9vbUNyaXRlcmlhOiB7CiAgICAgICAgICByb29tQ291bnQ6IGFjY29tbW9kYXRpb24ucm9vbXNDb3VudCwKICAgICAgICAgIGFkdWx0Q291bnQ6IGFjY29tbW9kYXRpb24uZ3Vlc3RzLmFkdWx0c0NvdW50LAogICAgICAgICAgY2hpbGRDb3VudDogYWNjb21tb2RhdGlvbi5ndWVzdHMuY2hpbGRyZW5Db3VudCwKICAgICAgICAgIGNoaWxkQWdlczogYWNjb21tb2RhdGlvbi5ndWVzdHMuY2hpbGRBZ2VzIHx8IFtdCiAgICAgICAgfSwKICAgICAgICByb29tSWQ6IHJvb20uaWQsCiAgICAgICAgcm9vbVJhdGU6IHsKICAgICAgICAgIHJhdGVJZDogcmF0ZS5pZCwKICAgICAgICAgIGN1cnJlbmN5OiByYXRlLmN1cnJlbmN5LAogICAgICAgICAgaW52ZW50b3J5OiByYXRlLmludmVudG9yeSwKICAgICAgICAgIGFtb3VudEJlZm9yZVRheDogcmF0ZS5hbW91bnRCZWZvcmVUYXgsCiAgICAgICAgICBhbW91bnRBZnRlclRheDogcmF0ZS5hbW91bnRBZnRlclRheCwKICAgICAgICAgIG1lYWxQbGFuOiByYXRlLm1lYWxQbGFuLAogICAgICAgICAgZmVlczogcmF0ZS5mZWVzLm1hcCh0cmFuc2Zvcm1Sb29tUmF0ZUZlZSksCiAgICAgICAgICByYXRlVHlwZTogcmF0ZS50eXBlLAogICAgICAgICAgcGF5bWVudFR5cGU6IHJhdGUucGF5bWVudFR5cGUsCiAgICAgICAgICBjYW5jZWxsYXRpb25Qb2xpY2llczogcmF0ZS5jYW5jZWxsYXRpb25Qb2xpY2llcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBmcm9tOiBpdGVtLl9vcmlnaW5hbEZyb21BdCwKICAgICAgICAgICAgICBhbW91bnQ6IGl0ZW0uYW1vdW50LAogICAgICAgICAgICAgIHBlcmNlbnQ6IGl0ZW0ucGVyY2VudCwKICAgICAgICAgICAgICBudW1iZXJPZk5pZ2h0czogaXRlbS5udW1iZXJPZk5pZ2h0cwogICAgICAgICAgICB9OwogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KCiAgaWYgKGJ1bmRsZSkgewogICAgcmV0ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXQpLCB7fSwgewogICAgICBwYWNrYWdlSW5mbzogewogICAgICAgIGlkOiBidW5kbGUuaWQKICAgICAgfQogICAgfSk7CiAgfQoKICByZXR1cm4gcmV0Owp9Cgp2YXIgdHJhbnNmb3JtUm9vbVJhdGVGZWUgPSBmdW5jdGlvbiB0cmFuc2Zvcm1Sb29tUmF0ZUZlZShfcmVmKSB7CiAgdmFyIGRhdGVSYW5nZSA9IF9yZWYuZGF0ZVJhbmdlLAogICAgICBmZWUgPSBfcmVmLmZlZTsKCiAgdmFyIHR5cGVJbmNsdWRlZCA9IGZlZS50eXBlSW5jbHVkZWQsCiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZmVlLCBbInR5cGVJbmNsdWRlZCJdKTsKCiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGF0ZVJhbmdlKSwge30sIHsKICAgIGZlZTogX29iamVjdFNwcmVhZCh7CiAgICAgIGluY2x1ZGVkOiB0eXBlSW5jbHVkZWQKICAgIH0sIHJlc3QpCiAgfSk7Cn07"},{"version":3,"sources":["/Users/cristiandan/Desktop/lifestyle-ui/src/core/data/request/transformCartAddItem.js"],"names":["formatQueryParam","dateUtilsFormatQueryParam","ticket","hotelReservation","bundle","ret","eventId","offers","seats","row","section","accessibility","selection","items","productId","hotel","accommodation","room","rate","hotelRoom","hotelId","id","stayRange","checkin","startDateTime","checkout","endDateTime","roomCriteria","roomCount","roomsCount","adultCount","guests","adultsCount","childCount","childrenCount","childAges","roomId","roomRate","rateId","currency","inventory","amountBeforeTax","amountAfterTax","mealPlan","fees","map","transformRoomRateFee","rateType","type","paymentType","cancellationPolicies","item","from","_originalFromAt","amount","percent","numberOfNights","packageInfo","dateRange","fee","typeIncluded","rest","included"],"mappings":"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","sourcesContent":["import { formatQueryParam as dateUtilsFormatQueryParam } from '@core/utils/dateUtils';\n\nexport default function ( ticket, hotelReservation, bundle ) {\n    let ret = { };\n\n    if ( ticket ) {\n        const { eventId, offers, seats, row, section, accessibility, selection  } = ticket;\n        ret = {\n            ...ret,\n            ticket: {\n                items: [ {\n                    productId: eventId,\n                    offers,\n                    section,\n                    row,\n                    seats,\n                    accessibility,\n                    selection\n                } ]\n            }\n        };\n    }\n\n    if ( hotelReservation ) {\n        const { hotel, accommodation, room  } = hotelReservation;\n        const { rate } = room;\n\n        ret = {\n            ...ret,\n            hotelRoom: {\n                hotelId: hotel.id,\n                stayRange: {\n                    checkin: dateUtilsFormatQueryParam( accommodation.startDateTime ),\n                    checkout: dateUtilsFormatQueryParam( accommodation.endDateTime ),\n                },\n                roomCriteria: {\n                    roomCount: accommodation.roomsCount,\n                    adultCount: accommodation.guests.adultsCount,\n                    childCount: accommodation.guests.childrenCount,\n                    childAges: accommodation.guests.childAges || [ ]\n                },\n                roomId: room.id,\n                roomRate: {\n                    rateId: rate.id,\n                    currency: rate.currency,\n                    inventory: rate.inventory,\n                    amountBeforeTax: rate.amountBeforeTax,\n                    amountAfterTax: rate.amountAfterTax,\n                    mealPlan: rate.mealPlan,\n                    fees: rate.fees.map( transformRoomRateFee ),\n                    rateType: rate.type,\n                    paymentType: rate.paymentType,\n                    cancellationPolicies: rate.cancellationPolicies.map( item => {\n                        return {\n                            from: item._originalFromAt,\n                            amount: item.amount,\n                            percent: item.percent,\n                            numberOfNights: item.numberOfNights\n                        };\n                    } )\n                }\n            }\n        };\n    }\n\n    if ( bundle ) {\n        ret = {\n            ...ret,\n            packageInfo: {\n                id: bundle.id\n            }\n        };\n    }\n\n    return ret;\n}\n\n\nconst transformRoomRateFee = ( { dateRange, fee } ) => {\n    const { typeIncluded, ...rest } = fee;\n\n    return {\n        ...dateRange,\n        fee: {\n            included: typeIncluded,\n            ...rest\n        }\n    };\n};\n"]}]}