{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/modules/hotel/components/modal/HotelDetailsModal/HotelDetailsModalBody/HotelDetailsModalRoomsTab.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/modules/hotel/components/modal/HotelDetailsModal/HotelDetailsModalBody/HotelDetailsModalRoomsTab.vue","mtime":1645805365958},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgRGF0YUxvYWRpbmcgZnJvbSAnQGNvcmUvc2hhcmVkL2NvbXBvbmVudHMvbG9hZGluZy9EYXRhTG9hZGluZyc7CmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsJzsKaW1wb3J0IG9taXQgZnJvbSAnbG9kYXNoL29taXQnOwppbXBvcnQgSG90ZWxzTm9EYXRhIGZyb20gJ0B0ZW5hbnQvYXBwL21vZHVsZXMvaG90ZWwvY29tcG9uZW50cy9pbnB1dHMvY29tbW9uL0hvdGVsc05vRGF0YSc7CmltcG9ydCBIb3RlbFJvb20gZnJvbSAnQC90ZW5hbnRzL3RpY2tldG1hc3Rlci9hcHAvbW9kZWxzL0hvdGVsUmVzZXJ2YXRpb25Sb29tTW9kZWwnOwppbXBvcnQgQnVuZGxlUHJvZHVjdHNIb3RlbFJlc2VydmF0aW9uTW9kZWwgZnJvbSAnQC90ZW5hbnRzL3RpY2tldG1hc3Rlci9hcHAvbW9kZWxzL0J1bmRsZVByb2R1Y3RzSG90ZWxSZXNlcnZhdGlvbk1vZGVsJzsKaW1wb3J0IFJvb21DYXJkVmFyaWFudDIgZnJvbSAnLi4vLi4vLi4vY2FyZHMvUm9vbUNhcmRWYXJpYW50Mic7CmltcG9ydCBIb3RlbERldGFpbHNSb29tRmlsdGVycyBmcm9tICcuL0hvdGVsRGV0YWlsc1Jvb21GaWx0ZXJzJzsKCmNvbnN0IFNUT1JFX05BTUUgPSAnYWRkSG90ZWxSZXNlcnZhdGlvblN0YXRlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdIb3RlbERldGFpbHNNb2RhbFJvb21zVGFiJywKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBIb3RlbHNOb0RhdGEsCiAgICAgICAgSG90ZWxEZXRhaWxzUm9vbUZpbHRlcnMsCiAgICAgICAgUm9vbUNhcmRWYXJpYW50MiwKICAgICAgICBEYXRhTG9hZGluZwogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgaXRlbTogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uICggKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEhvdGVsUm9vbSggKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICBkZWZhdWx0OiBmdW5jdGlvbiAoICkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBIb3RlbFJvb20oICk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGxvYWRpbmc6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9LAogICAgICAgIGJ1bmRsZVByb2R1Y3RzOiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgZGVmYXVsdDogbnVsbAogICAgICAgIH0sCiAgICAgICAgYnVzRXZlbnRzUGFyZW50OiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgZGVmYXVsdDogbnVsbAogICAgICAgIH0sCiAgICAgICAgaGFzVmFsdWU6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzZWxlY3RlZFJvb206IHRoaXMuaXRlbS5zZWxlY3RlZFJvb20sCiAgICAgICAgICAgIHNlbGVjdGluZzogZmFsc2UsCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKCB7CiAgICAgICAgICAgIGZpbHRlcnM6IHN0YXRlID0+IHN0YXRlW1NUT1JFX05BTUVdLmZpbHRlcnMsCiAgICAgICAgICAgIG1vZGFsRmlsdGVyczogc3RhdGUgPT4gc3RhdGVbU1RPUkVfTkFNRV0ubW9kYWxGaWx0ZXJzLAogICAgICAgIH0gKSwKICAgICAgICBzaG93Tm9EYXRhKCApIHsKICAgICAgICAgICAgcmV0dXJuICF0aGlzLmxvYWRpbmcgJiYgICF0aGlzLml0ZW0ucm9vbXMubGVuZ3RoOwogICAgICAgIH0sCiAgICAgICAgYnVuZGxlUHJvZHVjdHNGaW5hbCggKSB7CiAgICAgICAgICAgIGNvbnN0IHJldCA9IHRoaXMuYnVuZGxlUHJvZHVjdHMuX2Nsb25lKCApOwoKICAgICAgICAgICAgcmV0LnNldEhvdGVsUmVzZXJ2YXRpb24oCiAgICAgICAgICAgICAgICBuZXcgQnVuZGxlUHJvZHVjdHNIb3RlbFJlc2VydmF0aW9uTW9kZWwgKAogICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoIHsKICAgICAgICAgICAgJ3Jlc2V0RmlsdGVycyc6IGAke1NUT1JFX05BTUV9L3Jlc2V0RmlsdGVyc2AKICAgICAgICB9ICksCiAgICAgICAgc2VsZWN0KCByb29tICkgewogICAgICAgICAgICBpZiAoIHRoaXMuc2VsZWN0aW5nICkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW5nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvb20gPSByb29tOwoKICAgICAgICAgICAgdGhpcy5idXNFdmVudHNQYXJlbnQuJGVtaXQoICdhZGQtaXRlbScsIHsKICAgICAgICAgICAgICAgIC4uLnRoaXMuaXRlbSwKICAgICAgICAgICAgICAgIHNlbGVjdGVkUm9vbTogcm9vbQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBzdGFydERhdGVUaW1lOiB0aGlzLmZpbHRlcnMuc3RhcnREYXRlVGltZSwKICAgICAgICAgICAgICAgIGVuZERhdGVUaW1lOiB0aGlzLmZpbHRlcnMuZW5kRGF0ZVRpbWUsCiAgICAgICAgICAgICAgICBndWVzdHM6IHRoaXMubW9kYWxGaWx0ZXJzLmd1ZXN0cywKICAgICAgICAgICAgICAgIHJvb21zQ291bnQ6IHRoaXMubW9kYWxGaWx0ZXJzLnJvb21zQ291bnQKICAgICAgICAgICAgfSApOwoKICAgICAgICAgICAgc2V0VGltZW91dCggKCkgPT4gdGhpcy4kZW1pdCggJ2Nsb3NlJyApLCA1MDAgKTsKICAgICAgICB9LAogICAgICAgIGlzU2VsZWN0ZWQoIHJvb20gKSB7CiAgICAgICAgICAgIHJldHVybiBpc0VxdWFsKCBvbWl0KCByb29tLCBbICdyYXRlJywgJ2lkJyBdICksIG9taXQoIHRoaXMuc2VsZWN0ZWRSb29tLCBbICdyYXRlJywgJ2lkJyBdICkgICk7CiAgICAgICAgfQogICAgfQp9Owo="},{"version":3,"sources":["HotelDetailsModalRoomsTab.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HotelDetailsModalRoomsTab.vue","sourceRoot":"src/tenants/ticketmaster/app/modules/hotel/components/modal/HotelDetailsModal/HotelDetailsModalBody","sourcesContent":["<template>\n    <div class=\"hotel-details-rooms-tab\">\n        <div class=\"hotel-details-rooms-tab__filters\">\n            <HotelDetailsRoomFilters :item=\"item\" />\n        </div>\n        <DataLoading v-if=\"loading\" />\n        <HotelsNoData v-else-if=\"showNoData\" @reset-filters=\"resetFilters\" />\n        <div v-else>\n            <RoomCardVariant2\n                v-for=\"room in item.rooms\"\n                :key=\"room.id\"\n                :item=\"room\"\n                :bundle-products=\"bundleProductsFinal\"\n                :selected=\"isSelected(room , selectedRoom)\"\n                :class=\"{\n                    'gst-hotel-details-modal-rooms__card--selected': isSelected(room, selectedRoom)\n                }\"\n                class=\"gst-room-dropdown__modal-card mb-2\"\n                @click=\"select( room )\" />\n        </div>\n    </div>\n</template>\n\n<script>\n\n    import { mapActions, mapState } from 'vuex';\n    import DataLoading from '@core/shared/components/loading/DataLoading';\n    import isEqual from 'lodash/isEqual';\n    import omit from 'lodash/omit';\n    import HotelsNoData from '@tenant/app/modules/hotel/components/inputs/common/HotelsNoData';\n    import HotelRoom from '@/tenants/ticketmaster/app/models/HotelReservationRoomModel';\n    import BundleProductsHotelReservationModel from '@/tenants/ticketmaster/app/models/BundleProductsHotelReservationModel';\n    import RoomCardVariant2 from '../../../cards/RoomCardVariant2';\n    import HotelDetailsRoomFilters from './HotelDetailsRoomFilters';\n\n    const STORE_NAME = 'addHotelReservationState';\n\n    export default {\n        name: 'HotelDetailsModalRoomsTab',\n        components: {\n            HotelsNoData,\n            HotelDetailsRoomFilters,\n            RoomCardVariant2,\n            DataLoading\n        },\n        props: {\n            item: {\n                type: Object,\n                default: function ( ) {\n                    return new HotelRoom( );\n                }\n            },\n            value: {\n                type: Object,\n                default: function ( ) {\n                    return new HotelRoom( );\n                }\n            },\n            loading: {\n                type: Boolean,\n                default: false\n            },\n            bundleProducts: {\n                type: Object,\n                default: null\n            },\n            busEventsParent: {\n                type: Object,\n                default: null\n            },\n            hasValue: {\n                type: Boolean,\n                default: false\n            }\n        },\n        data() {\n            return {\n                selectedRoom: this.item.selectedRoom,\n                selecting: false,\n            };\n        },\n        computed: {\n            ...mapState( {\n                filters: state => state[STORE_NAME].filters,\n                modalFilters: state => state[STORE_NAME].modalFilters,\n            } ),\n            showNoData( ) {\n                return !this.loading &&  !this.item.rooms.length;\n            },\n            bundleProductsFinal( ) {\n                const ret = this.bundleProducts._clone( );\n\n                ret.setHotelReservation(\n                    new BundleProductsHotelReservationModel (\n                        this.item\n                    )\n                );\n\n                return ret;\n            }\n        },\n        methods: {\n            ...mapActions( {\n                'resetFilters': `${STORE_NAME}/resetFilters`\n            } ),\n            select( room ) {\n                if ( this.selecting ) {\n                    return;\n                }\n                this.selecting = true;\n                this.selectedRoom = room;\n\n                this.busEventsParent.$emit( 'add-item', {\n                    ...this.item,\n                    selectedRoom: room\n                }, {\n                    startDateTime: this.filters.startDateTime,\n                    endDateTime: this.filters.endDateTime,\n                    guests: this.modalFilters.guests,\n                    roomsCount: this.modalFilters.roomsCount\n                } );\n\n                setTimeout( () => this.$emit( 'close' ), 500 );\n            },\n            isSelected( room ) {\n                return isEqual( omit( room, [ 'rate', 'id' ] ), omit( this.selectedRoom, [ 'rate', 'id' ] )  );\n            }\n        }\n    };\n</script>\n"]}]}