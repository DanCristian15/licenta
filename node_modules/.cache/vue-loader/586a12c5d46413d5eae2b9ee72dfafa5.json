{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/modules/hotel/components/inputs/AddHotelReservation/HotelsList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/modules/hotel/components/inputs/AddHotelReservation/HotelsList.vue","mtime":1645805365954},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnOwppbXBvcnQgaXNFcXVhbCBmcm9tICdsb2Rhc2gvaXNFcXVhbCc7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBCdW5kbGVQcm9kdWN0c01vZGVsIGZyb20gJ0B0ZW5hbnQvYXBwL21vZGVscy9CdW5kbGVQcm9kdWN0c01vZGVsJzsKaW1wb3J0IEJ1bmRsZVByb2R1Y3RzSG90ZWxSZXNlcnZhdGlvbk1vZGVsIGZyb20gJ0B0ZW5hbnQvYXBwL21vZGVscy9CdW5kbGVQcm9kdWN0c0hvdGVsUmVzZXJ2YXRpb25Nb2RlbCc7CmltcG9ydCBEYXRhTG9hZGluZyBmcm9tICdAc2hhcmVkL2NvbXBvbmVudHMvbG9hZGluZy9EYXRhTG9hZGluZyc7CmltcG9ydCBJbmZpbml0ZUNhcmRMaXN0IGZyb20gJ0BzaGFyZWQvY29tcG9uZW50cy9saXN0cy9JbmZpbml0ZUNhcmRMaXN0JzsKaW1wb3J0IGxpc3RDb25zdGFudHMgZnJvbSAnQGNvcmUvdXRpbHMvY29uc3RhbnRzL2xpc3QnOwppbXBvcnQgQmFzZUJ1dHRvbiBmcm9tICdAc2hhcmVkL2NvbXBvbmVudHMvYnV0dG9ucy9CYXNlQnV0dG9uLnZ1ZSc7CmltcG9ydCBEeW5hbWljU3RvcmVNb2R1bGUgZnJvbSAnQGNvcmUvbWl4aW5zL0R5bmFtaWNTdG9yZU1vZHVsZSc7CmltcG9ydCBIb3RlbHNMaXN0Q2FyZCBmcm9tICcuLi9jb21tb24vSG90ZWxzTGlzdENhcmQudnVlJzsKaW1wb3J0IEhvdGVsc05vRGF0YSBmcm9tICcuLi9jb21tb24vSG90ZWxzTm9EYXRhJzsKCmNvbnN0IFNUT1JFX05BTUUgPSAnYWRkSG90ZWxSZXNlcnZhdGlvblN0YXRlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdIb3RlbHNMaXN0JywKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBJbmZpbml0ZUNhcmRMaXN0LAogICAgICAgIERhdGFMb2FkaW5nLAogICAgICAgIEJhc2VCdXR0b24sCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZ1ZS9uby11bnVzZWQtY29tcG9uZW50cwogICAgICAgIEhvdGVsc0xpc3RDYXJkLAogICAgICAgIEhvdGVsc05vRGF0YQogICAgfSwKICAgIG1peGluczogWwogICAgICAgIER5bmFtaWNTdG9yZU1vZHVsZQogICAgXSwKICAgIHByb3BzOiB7CiAgICAgICAgYnVuZGxlUHJvZHVjdHM6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgZGVmYXVsdDogZnVuY3Rpb24oICkgewogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCdW5kbGVQcm9kdWN0c01vZGVsKCApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkaXN0YW5jZVVuaXRPZk1lYXN1cmU6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAna20nCiAgICAgICAgfSwKICAgICAgICBpbkxvY2F0aW9uOiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGJ1c0V2ZW50c1BhcmVudDogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwU3RhdGUoIHsKICAgICAgICAgICAgbGlzdDogc3RhdGUgPT4gc3RhdGVbIFNUT1JFX05BTUUgXS5ob3RlbHMubGlzdCwKICAgICAgICAgICAgbG9hZGluZzogc3RhdGUgPT4gc3RhdGVbIFNUT1JFX05BTUUgXS5ob3RlbHMubG9hZGluZywKICAgICAgICAgICAgYWxsRGF0YUxvYWRlZDogc3RhdGUgPT4gc3RhdGVbIFNUT1JFX05BTUUgXS5ob3RlbHMuYWxsSXRlbXNMb2FkZWQsCiAgICAgICAgICAgIGxpc3RGaWx0ZXJzOiBzdGF0ZSA9PiBzdGF0ZVsgU1RPUkVfTkFNRV0uaG90ZWxzLmZpbHRlcnMsCiAgICAgICAgICAgIGZpbHRlcnM6IHN0YXRlID0+IHN0YXRlWyBTVE9SRV9OQU1FXS5maWx0ZXJzCiAgICAgICAgfSApLAogICAgICAgIGl0ZW1zKCApIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubGlzdDsKICAgICAgICB9LAogICAgICAgIGhvdGVsQ2FyZENvbmZpZyggKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBjYXJkOiBIb3RlbHNMaXN0Q2FyZCwKICAgICAgICAgICAgICAgIGNhcmRDbGFzc2VzOiAndS13aWR0aC0xMDAgdS1iYWNrZ3JvdW5kLXRyYW5zcGFyZW50JywKICAgICAgICAgICAgICAgIHByb3BzVG9CaW5kOiAoIGl0ZW0gKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VVbml0T2ZNZWFzdXJlOiB0aGlzLmRpc3RhbmNlVW5pdE9mTWVhc3VyZSwKICAgICAgICAgICAgICAgICAgICAgICAgaW5Mb2NhdGlvbjogdGhpcy5pbkxvY2F0aW9uLAogICAgICAgICAgICAgICAgICAgICAgICBidW5kbGVQcm9kdWN0czogdGhpcy5nZXRGaW5hbEJ1bmRsZVByb2R1dHNGb3JIb3RlbFJvb20oIGl0ZW0gKSwKICAgICAgICAgICAgICAgICAgICAgICAgd2l0aFRvOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy4kdnVldGlmeS5icmVha3BvaW50Lm1kQW5kVXAgPyAnMTQ2cHgnIDogJzEzOHB4JywKICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLiR2dWV0aWZ5LmJyZWFrcG9pbnQubWRBbmRVcCA/ICc4MXB4JyA6ICcxMzhweCcsCiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEJ1dHRvbkxhYmVsOiB0aGlzLiR0KCAnX2NvbW1vbjpidXR0b25zLmFkZCcgKQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICdmaWx0ZXJzLnN0YXJ0RGF0ZVRpbWUnOiBmdW5jdGlvbiAoICkgewogICAgICAgICAgICB0aGlzLmxvYWROZXh0UGFnZSggKTsKICAgICAgICB9LAogICAgICAgICdmaWx0ZXJzLmVuZERhdGVUaW1lJzogZnVuY3Rpb24gKCApIHsKICAgICAgICAgICAgdGhpcy5sb2FkTmV4dFBhZ2UoICk7CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKCB7CiAgICAgICAgICAgIGxvYWRQYWdlOiBgJHtTVE9SRV9OQU1FfS9ob3RlbHMvbG9hZFBhZ2VgLAogICAgICAgICAgICBzZWxlY3RSb29tOiBgJHtTVE9SRV9OQU1FfS9ob3RlbHMvc2VsZWN0Um9vbWAsCiAgICAgICAgICAgIHJlc2V0RmlsdGVyczogYCR7U1RPUkVfTkFNRX0vcmVzZXRGaWx0ZXJzYAogICAgICAgIH0gKSwKICAgICAgICBsb2FkTmV4dFBhZ2U6IGRlYm91bmNlKCBmdW5jdGlvbiggKSB7CiAgICAgICAgICAgIHRoaXMubG9hZFBhZ2UoIHsKICAgICAgICAgICAgICAgIGZpbHRlcnM6IHRoaXMuZmlsdGVycywKICAgICAgICAgICAgfSApOwogICAgICAgIH0sIGxpc3RDb25zdGFudHMuREVCT1VOQ0VfREVMQVkgKSwKCiAgICAgICAgZ2V0RmluYWxCdW5kbGVQcm9kdXRzRm9ySG90ZWxSb29tKCBpdGVtICkgewogICAgICAgICAgICBjb25zdCByZXQgPSB0aGlzLmJ1bmRsZVByb2R1Y3RzLl9jbG9uZSggKTsKCiAgICAgICAgICAgIHJldC5zZXRIb3RlbFJlc2VydmF0aW9uKAogICAgICAgICAgICAgICAgbmV3IEJ1bmRsZVByb2R1Y3RzSG90ZWxSZXNlcnZhdGlvbk1vZGVsICgKICAgICAgICAgICAgICAgICAgICBpdGVtCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICk7CgogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgIH0sCiAgICAgICAgb25DaGFuZ2VIb3RlbFJvb21EbyggeyBpZCwgdmFsdWUgfSApIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RSb29tKCB7IGlkLCB2YWx1ZSB9ICk7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoICkgewogICAgICAgIGlmICggIXRoaXMubGlzdC5sZW5ndGggfHwgIWlzRXF1YWwoIHRoaXMuZmlsdGVycywgdGhpcy5saXN0RmlsdGVycyApICkgewogICAgICAgICAgICB0aGlzLmxvYWRQYWdlKCB7CiAgICAgICAgICAgICAgICByZWZyZXNoOiB0cnVlLAogICAgICAgICAgICAgICAgZmlsdGVyczogdGhpcy5maWx0ZXJzLAogICAgICAgICAgICB9ICk7CiAgICAgICAgfQogICAgICAgIHRoaXMuYnVzRXZlbnRzUGFyZW50LiRvbiggJ2NoYW5nZS1yb29tJywgdGhpcy5vbkNoYW5nZUhvdGVsUm9vbURvICk7CiAgICB9LAogICAgZGVzdHJveWVkKCApIHsKICAgICAgICB0aGlzLmJ1c0V2ZW50c1BhcmVudC4kb2ZmKCAnY2hhbmdlLXJvb20nLCB0aGlzLm9uQ2hhbmdlSG90ZWxSb29tRG8gKTsKICAgIH0KfTsK"},{"version":3,"sources":["HotelsList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HotelsList.vue","sourceRoot":"src/tenants/ticketmaster/app/modules/hotel/components/inputs/AddHotelReservation","sourcesContent":["<template>\n    <InfiniteCardList\n        :data=\"items\"\n        :config=\"hotelCardConfig\"\n        :loading=\"loading\"\n        :all-data-loaded=\"allDataLoaded\"\n        :has-load-button=\"true\"\n        :prefill=\"true\"\n        :bus-events-parent=\"busEventsParent\"\n        item-classes=\"gst-add-hotel-reservation-hotel-list px-0\"\n        class=\"gst-add-hotel-reservation-hotel-list u-height-100 u-width-100\"\n        @load-more=\"loadNextPage\">\n        <template slot=\"loading\">\n            <DataLoading class=\"mt-5 mb-5 pt-5 pb-5\" />\n        </template>\n        <template slot=\"empty-list\">\n            <HotelsNoData @reset-filters=\"resetFilters\" />\n        </template>\n        <template slot=\"see-more-button\">\n            <BaseButton\n                :placeholder=\"$t('_common:buttons.loadMore')\"\n                outlined\n                color=\"primary\"\n                class=\"gst-add-hotel-reservation-hotel-list__load-more-btn mx-auto d-flex mt-4\"\n                :loading=\"loading\"\n                @click=\"loadNextPage\" />\n        </template>\n    </InfiniteCardList>\n</template>\n\n<script>\n    import debounce from 'lodash/debounce';\n    import isEqual from 'lodash/isEqual';\n    import { mapActions, mapState } from 'vuex';\n    import BundleProductsModel from '@tenant/app/models/BundleProductsModel';\n    import BundleProductsHotelReservationModel from '@tenant/app/models/BundleProductsHotelReservationModel';\n    import DataLoading from '@shared/components/loading/DataLoading';\n    import InfiniteCardList from '@shared/components/lists/InfiniteCardList';\n    import listConstants from '@core/utils/constants/list';\n    import BaseButton from '@shared/components/buttons/BaseButton.vue';\n    import DynamicStoreModule from '@core/mixins/DynamicStoreModule';\n    import HotelsListCard from '../common/HotelsListCard.vue';\n    import HotelsNoData from '../common/HotelsNoData';\n\n    const STORE_NAME = 'addHotelReservationState';\n\n    export default {\n        name: 'HotelsList',\n        components: {\n            InfiniteCardList,\n            DataLoading,\n            BaseButton,\n            // eslint-disable-next-line vue/no-unused-components\n            HotelsListCard,\n            HotelsNoData\n        },\n        mixins: [\n            DynamicStoreModule\n        ],\n        props: {\n            bundleProducts: {\n                type: Object,\n                required: true,\n                default: function( ) {\n                    return new BundleProductsModel( );\n                }\n            },\n            distanceUnitOfMeasure: {\n                type: String,\n                default: 'km'\n            },\n            inLocation: {\n                type: Object,\n                required: true\n            },\n            busEventsParent: {\n                type: Object,\n                required: true\n            }\n        },\n        computed: {\n            ...mapState( {\n                list: state => state[ STORE_NAME ].hotels.list,\n                loading: state => state[ STORE_NAME ].hotels.loading,\n                allDataLoaded: state => state[ STORE_NAME ].hotels.allItemsLoaded,\n                listFilters: state => state[ STORE_NAME].hotels.filters,\n                filters: state => state[ STORE_NAME].filters\n            } ),\n            items( ) {\n                return this.list;\n            },\n            hotelCardConfig( ) {\n                return {\n                    card: HotelsListCard,\n                    cardClasses: 'u-width-100 u-background-transparent',\n                    propsToBind: ( item ) => {\n                        return {\n                            item: item,\n                            distanceUnitOfMeasure: this.distanceUnitOfMeasure,\n                            inLocation: this.inLocation,\n                            bundleProducts: this.getFinalBundleProdutsForHotelRoom( item ),\n                            withTo: true,\n                            width: this.$vuetify.breakpoint.mdAndUp ? '146px' : '138px',\n                            height: this.$vuetify.breakpoint.mdAndUp ? '81px' : '138px',\n                            addButtonLabel: this.$t( '_common:buttons.add' )\n                        };\n                    }\n                };\n            },\n        },\n        watch: {\n            'filters.startDateTime': function ( ) {\n                this.loadNextPage( );\n            },\n            'filters.endDateTime': function ( ) {\n                this.loadNextPage( );\n            }\n        },\n        methods: {\n            ...mapActions( {\n                loadPage: `${STORE_NAME}/hotels/loadPage`,\n                selectRoom: `${STORE_NAME}/hotels/selectRoom`,\n                resetFilters: `${STORE_NAME}/resetFilters`\n            } ),\n            loadNextPage: debounce( function( ) {\n                this.loadPage( {\n                    filters: this.filters,\n                } );\n            }, listConstants.DEBOUNCE_DELAY ),\n\n            getFinalBundleProdutsForHotelRoom( item ) {\n                const ret = this.bundleProducts._clone( );\n\n                ret.setHotelReservation(\n                    new BundleProductsHotelReservationModel (\n                        item\n                    )\n                );\n\n                return ret;\n            },\n            onChangeHotelRoomDo( { id, value } ) {\n                this.selectRoom( { id, value } );\n            }\n        },\n        mounted( ) {\n            if ( !this.list.length || !isEqual( this.filters, this.listFilters ) ) {\n                this.loadPage( {\n                    refresh: true,\n                    filters: this.filters,\n                } );\n            }\n            this.busEventsParent.$on( 'change-room', this.onChangeHotelRoomDo );\n        },\n        destroyed( ) {\n            this.busEventsParent.$off( 'change-room', this.onChangeHotelRoomDo );\n        }\n    };\n</script>\n\n\n<style lang=\"scss\">\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-add-hotel-reservation-hotel-list {\n        .v-list {\n            padding-top: 0 !important;\n\n            .v-list-item:hover {\n                background-color: theme-color( 'primary-lighten-1' );\n            }\n        }\n\n        .gst-add-hotel-reservation-hotel-list__load-more-btn {\n            text-transform: capitalize;\n        }\n    }\n</style>\n"]}]}