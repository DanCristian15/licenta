{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/event/EventInfoModal/EventInfoModalBody.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/event/EventInfoModal/EventInfoModalBody.vue","mtime":1645805364020},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBEYXRhTG9hZGluZyBmcm9tICdAY29yZS9zaGFyZWQvY29tcG9uZW50cy9sb2FkaW5nL0RhdGFMb2FkaW5nJzsKaW1wb3J0IEV4cGFuc2lvblBhbmVsIGZyb20gJ0Bjb3JlL3NoYXJlZC9jb21wb25lbnRzL21pc2MvRXhwYW5zaW9uUGFuZWwnOwppbXBvcnQgYXN5bmNQYXJhbGxlbCBmcm9tICdAY29yZS91dGlscy9hc3luY1BhcmFsbGVsJzsKaW1wb3J0IEV2ZW50SGVhbHRoQ2hlY2tXYXJuaW5nQ2FyZFZhcmlhbnQxIGZyb20gJ0Bjb3JlL3NoYXJlZC9jb21wb25lbnRzL25vdGlmaWNhdGlvbnMvRXZlbnRIZWFsdGhDaGVja1dhcm5pbmdDYXJkVmFyaWFudDEudnVlJzsKaW1wb3J0IEV2ZW50SW5mb01vZGFsQXR0cmFjdGlvbkxpc3QgZnJvbSAnLi9FdmVudEluZm9Nb2RhbEF0dHJhY3Rpb25MaXN0LnZ1ZSc7CmltcG9ydCBFdmVudEluZm9Nb2RhbE5vRGF0YSBmcm9tICcuL0V2ZW50SW5mb01vZGFsTm9EYXRhLnZ1ZSc7CgoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0V2ZW50SW5mb01vZGFsQm9keScsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgRXhwYW5zaW9uUGFuZWwsCiAgICAgICAgRXZlbnRJbmZvTW9kYWxBdHRyYWN0aW9uTGlzdCwKICAgICAgICBFdmVudEluZm9Nb2RhbE5vRGF0YSwKICAgICAgICBFdmVudEhlYWx0aENoZWNrV2FybmluZ0NhcmRWYXJpYW50MSwKICAgICAgICBEYXRhTG9hZGluZywKICAgIH0sCiAgICBwcm9wczogewogICAgICAgIGV2ZW50OiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9LAogICAgfSwKICAgIGkxOG5PcHRpb25zOiB7CiAgICAgICAgbmFtZXNwYWNlczogJ21haW4nLAogICAgICAgIGtleVByZWZpeDogJ3ZpZXdzLmV2ZW50LmV2ZW50SW5mb01vZGFsLmRldGFpbHMnCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgYXR0cmFjdGlvbnM6IFsgXQogICAgICAgIH07CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBTdGF0ZSggewogICAgICAgICAgICBkZXRhaWxzOiBzdGF0ZSA9PiBzdGF0ZS5ldmVudHMuaW5mb3JtYXRpb25EZXRhaWxzCiAgICAgICAgfSApLAogICAgICAgIGRldGFpbEdyb3VwcyggKSB7CiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyggdGhpcy5kZXRhaWxzICk7CiAgICAgICAgfSwKICAgICAgICBkZXRhaWxHcm91cHNGaWx0ZXJlZCggKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmRldGFpbEdyb3Vwcy5maWx0ZXIoIHZhbHVlID0+IHZhbHVlICE9PSAnaW5mbycgKTsKICAgICAgICB9LAogICAgICAgIGhhc0RldGFpbHMoICkgewogICAgICAgICAgICByZXR1cm4gISF0aGlzLmRldGFpbEdyb3Vwc0ZpbHRlcmVkLmxlbmd0aDsKICAgICAgICB9LAogICAgICAgIHNob3dOb0RhdGEoICkgewogICAgICAgICAgICByZXR1cm4gIXRoaXMuaGFzRGV0YWlscyAmJiAhdGhpcy5hdHRyYWN0aW9ucy5sZW5ndGg7CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKCB7CiAgICAgICAgICAgIGxvYWRJbmZvcm1hdGlvbkRldGFpbHM6ICdldmVudHMvaW5mb3JtYXRpb25EZXRhaWxzJywKICAgICAgICAgICAgbG9hZEF0dHJhY3Rpb25zOiAnYXR0cmFjdGlvbnMvc2VhcmNoQnlFdmVudCcKICAgICAgICB9ICksCiAgICAgICAgZGV0YWlsR3JvdXBIYXNNb3JlRGV0YWlscyggaXRlbSApIHsKICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy5kZXRhaWxHcm91cHMuZmlsdGVyKCB2YWx1ZSA9PiB0eXBlb2YgdGhpcy5kZXRhaWxzW3ZhbHVlXSA9PT0gJ29iamVjdCcgKTsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlcyA/IHZhbHVlcy5pbmNsdWRlcyggaXRlbSApIDogZmFsc2U7CiAgICAgICAgfSwKICAgICAgICBnZXREZXRhaWxHcm91cE1vcmVEZXRhaWxzKCBpdGVtICkgewogICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoIHRoaXMuZGV0YWlsc1tpdGVtXSApOwogICAgICAgIH0KICAgIH0sCiAgICBhc3luYyBtb3VudGVkKCkgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgYXdhaXQgYXN5bmNQYXJhbGxlbCggWwogICAgICAgICAgICBhc3luYyAoICkgPT4geyBhd2FpdCB0aGlzLmxvYWRJbmZvcm1hdGlvbkRldGFpbHMoIHRoaXMuZXZlbnQuaWQgKTsgfSwKICAgICAgICAgICAgYXN5bmMgKCApID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5sb2FkQXR0cmFjdGlvbnMoIHsgZXZlbnRJZDogdGhpcy5ldmVudC5pZCB9ICk7CgogICAgICAgICAgICAgICAgaWYgKCByZXNwb25zZS5zdWNjZXNzICkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cmFjdGlvbnMgPSBbIC4uLnJlc3BvbnNlLmRhdGEubGlzdCBdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgIF0sIDIgKTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0KfTsK"},{"version":3,"sources":["EventInfoModalBody.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EventInfoModalBody.vue","sourceRoot":"src/core/views/event/EventInfoModal","sourcesContent":["<template>\n    <v-card-text class=\"gst-event-info-modal__body flex-grow-1 content-max-width px-4 pb-2 pt-0\" :style=\"{ color:'inherit'}\">\n        <div\n            v-if=\"!!event.healthCheck\"\n            class=\"mx-n4 mt-4 mb-1\">\n            <EventHealthCheckWarningCardVariant1\n                :health-check=\"event.healthCheck\"\n                class=\"gst-event-info-modal__body-health-check-warning-card pl-4\" />\n        </div>\n        <DataLoading v-if=\"loading\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n        <template v-else>\n            <v-expansion-panels v-if=\"!showNoData\" class=\"u-width-100\" accordion>\n                <v-flex v-if=\"details && details.info\">\n                    <ExpansionPanel>\n                        <template slot=\"header\">\n                            {{ $t('labels.info') }}\n                        </template>\n                        <template slot=\"content\">\n                            <p class=\"mb-0\">\n                                {{ details.info }}\n                            </p>\n                        </template>\n                    </ExpansionPanel>\n                    <v-divider />\n                </v-flex>\n                <EventInfoModalAttractionList :items=\"attractions\" />\n                <ExpansionPanel\n                    v-for=\"(detailGroup, i) in detailGroupsFiltered\"\n                    :key=\"i\">\n                    <template slot=\"header\">\n                        {{ $t(`labels.${detailGroup}`) }}\n                    </template>\n                    <template slot=\"content\">\n                        <div v-if=\"detailGroupHasMoreDetails(detailGroup)\">\n                            <div\n                                v-for=\"(detailGroupChild, j) in getDetailGroupMoreDetails(detailGroup)\"\n                                :key=\"j\"\n                                :class=\"{ 'mt-4': j > 0 }\">\n                                <h6>{{ $t(`labels.${detailGroupChild}`) }}</h6>\n                                <p class=\"mb-0\">\n                                    {{ details[detailGroup][detailGroupChild] }}\n                                </p>\n                            </div>\n                        </div>\n                        <p v-else class=\"mb-0\">\n                            {{ details[detailGroup] }}\n                        </p>\n                    </template>\n                </ExpansionPanel>\n            </v-expansion-panels>\n            <EventInfoModalNoData v-else class=\"u-height-100\" :icon=\"'$vuetify.icons.infoBordered'\" :content=\"$t( 'messages.noData' )\" />\n        </template>\n    </v-card-text>\n</template>\n\n<script>\n    import { mapActions, mapState } from 'vuex';\n    import DataLoading from '@core/shared/components/loading/DataLoading';\n    import ExpansionPanel from '@core/shared/components/misc/ExpansionPanel';\n    import asyncParallel from '@core/utils/asyncParallel';\n    import EventHealthCheckWarningCardVariant1 from '@core/shared/components/notifications/EventHealthCheckWarningCardVariant1.vue';\n    import EventInfoModalAttractionList from './EventInfoModalAttractionList.vue';\n    import EventInfoModalNoData from './EventInfoModalNoData.vue';\n\n\n    export default {\n        name: 'EventInfoModalBody',\n        components: {\n            ExpansionPanel,\n            EventInfoModalAttractionList,\n            EventInfoModalNoData,\n            EventHealthCheckWarningCardVariant1,\n            DataLoading,\n        },\n        props: {\n            event: {\n                type: Object,\n                required: true\n            },\n        },\n        i18nOptions: {\n            namespaces: 'main',\n            keyPrefix: 'views.event.eventInfoModal.details'\n        },\n        data() {\n            return {\n                loading: false,\n                attractions: [ ]\n            };\n        },\n        computed: {\n            ...mapState( {\n                details: state => state.events.informationDetails\n            } ),\n            detailGroups( ) {\n                return Object.keys( this.details );\n            },\n            detailGroupsFiltered( ) {\n                return this.detailGroups.filter( value => value !== 'info' );\n            },\n            hasDetails( ) {\n                return !!this.detailGroupsFiltered.length;\n            },\n            showNoData( ) {\n                return !this.hasDetails && !this.attractions.length;\n            }\n        },\n        methods: {\n            ...mapActions( {\n                loadInformationDetails: 'events/informationDetails',\n                loadAttractions: 'attractions/searchByEvent'\n            } ),\n            detailGroupHasMoreDetails( item ) {\n                const values = this.detailGroups.filter( value => typeof this.details[value] === 'object' );\n                return values ? values.includes( item ) : false;\n            },\n            getDetailGroupMoreDetails( item ) {\n                return Object.keys( this.details[item] );\n            }\n        },\n        async mounted() {\n            this.loading = true;\n            await asyncParallel( [\n                async ( ) => { await this.loadInformationDetails( this.event.id ); },\n                async ( ) => {\n                    const response = await this.loadAttractions( { eventId: this.event.id } );\n\n                    if ( response.success ) {\n                        this.attractions = [ ...response.data.list ];\n                    }\n                },\n            ], 2 );\n            this.loading = false;\n        }\n    };\n</script>\n\n<style lang=\"scss\">\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-event-info-modal__body .v-divider {\n        border-color: rgba( theme-color-hex( 'tertiary' ), 0.2 );\n    }\n\n    .gst-event-info-modal__body {\n        .gst-event-info-modal__body-health-check-warning-card {\n            background-color: rgba( theme-color-hex( 'event-health-check' ), 0.1 );\n            box-shadow: none !important;\n            border-radius: border-radius( 'none' ) !important;\n            border-left: none !important;\n        }\n    }\n</style>"]}]}