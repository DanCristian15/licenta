{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/views/event/TheEvent/EventSimilarAttractions.vue?vue&type=style&index=0&id=5864e05c&lang=scss&scoped=true&","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/views/event/TheEvent/EventSimilarAttractions.vue","mtime":1645805364023},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/css-loader/dist/cjs.js","mtime":1637061260154},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1637061260528},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/postcss-loader/src/index.js","mtime":1637061260465},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/sass-loader/dist/cjs.js","mtime":1637061279772},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIkBzY3NzVmFyaWFibGVzIjsKQGltcG9ydCAiQHNjc3NNaXhpbnMiOwoKLmdzdC1ldmVudC1zaW1pbGFyLWF0dHJhY3Rpb25zIHsKICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCByZ2JhKCB0aGVtZS1jb2xvci1oZXgoICd0ZXJ0aWFyeScgKSwgMC4yICk7Cn0KCi5nc3QtZXZlbnQtc2ltaWxhci1hdHRyYWN0aW9uc19fdGl0bGUgewogICAgbGluZS1oZWlnaHQ6IGxpbmUtaGVpZ2h0KCAneHh4eGwnICk7CiAgICBmb250LXNpemU6IGZvbnQtc2l6ZSggJ3h4eGwnICk7CiAgICBmb250LXdlaWdodDogZm9udC13ZWlnaHQoICdtZWRpdW0nICk7Cn0KCi5nc3QtZXZlbnQtc2ltaWxhci1hdHRyYWN0aW9uc19fbmF2aWdhdGlvbiB7CiAgICAudi1idG4gewogICAgICAgIGhlaWdodDogZm9udC1zaXplKCAneHh4eGwnICk7CiAgICAgICAgd2lkdGg6IGZvbnQtc2l6ZSggJ3h4eHhsJyApOwogICAgfQp9CgouZ3N0LWV2ZW50LXNpbWlsYXItYXR0cmFjdGlvbnNfX3N3aXBlciB7CiAgICBzY3JvbGwtYmVoYXZpb3I6IHNtb290aDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0K"},{"version":3,"sources":["EventSimilarAttractions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"EventSimilarAttractions.vue","sourceRoot":"src/core/views/event/TheEvent","sourcesContent":["<template>\n    <div v-if=\"show\" class=\"gst-event-similar-attractions py-4 pl-4 pr-0\">\n        <DataLoading v-if=\"loading\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n        <div\n            v-else-if=\"items.length\"\n            class=\"mr-n4 mr-md-0\">\n            <v-flex d-flex flex-row class=\"mx-0 pb-4 pr-4 pr-4\">\n                <h5 class=\"gst-event-similar-attractions__title flex-grow-1\">\n                    {{ $t('title') }}\n                </h5>\n                <v-flex v-if=\"showNavigationButtons\" d-flex flex-row shrink class=\"gst-event-similar-attractions__navigation mx-0\">\n                    <v-btn ref=\"previousButton\" :disabled=\"isSwiperReachStart\" icon class=\"mr-6\" @click=\"goToPreviousSlides\">\n                        <IconBackArrow />\n                    </v-btn>\n                    <v-btn ref=\"nextButton\" :disabled=\"isSwiperReachEnd\" icon @click=\"goToNextSlides\">\n                        <IconBackArrow class=\"u-rotate-180\" />\n                    </v-btn>\n                </v-flex>\n            </v-flex>\n            <v-flex\n                ref=\"swiper\"\n                d-flex\n                flex-row\n                class=\"gst-event-similar-attractions__swiper pr-4 pr-md-0\"\n                @scroll=\"setSwiperNavigationDebounced\"\n                @resize=\"setSwiperNavigationDebounced\">\n                <div\n                    v-for=\"item in items\"\n                    :key=\"item.id\"\n                    class=\"gst-event-similar-attractions__slide pr-4\">\n                    <AttractionCardVariant4\n                        :item=\"item\"\n                        height=\"98px\"\n                        :width=\"cardWidth+'px'\" />\n                </div>\n            </v-flex>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { mapActions, mapState } from 'vuex';\n    import debounce from 'lodash/debounce';\n    import AttractionCardVariant4 from '@shared/components/attraction/AttractionCardVariant4';\n    import DataLoading from '@core/shared/components/loading/DataLoading';\n    import IconBackArrow from '@core/shared/assets/icons/back_arrow.svg';\n\n    export default {\n        name: 'EventSimilarAttractions',\n        components: {\n            AttractionCardVariant4,\n            DataLoading,\n            IconBackArrow\n        },\n        i18nOptions: {\n            namespaces: 'shared',\n            keyPrefix: 'components.similarAttractions'\n        },\n        data() {\n            return {\n                isSwiperReachStart: true,\n                isSwiperReachEnd: false,\n            };\n        },\n        computed: {\n            ...mapState( {\n                userFirstAccessApp: state => state.user.firstAccess,\n                similarAttractions: state => state.user.analytics.similarAttractions,\n                loading:            state => state.user.analytics.loading,\n                hasSimilarAttractions: state => state.user.analytics.hasSimilarAttractions\n            } ),\n            items( ) {\n                return this.similarAttractions;\n            },\n            show( ) {\n                return this.hasSimilarAttractions && this.$vuetify.breakpoint.xlOnly;\n            },\n            cardWidth( ) {\n                return 123;\n            },\n            cardWidthForScroll( ) {\n                return this.cardWidth + 16;\n            },\n            showNavigationButtons( ) {\n                return !( this.isSwiperReachStart && this.isSwiperReachEnd );\n            }\n        },\n        methods: {\n            ...mapActions( {\n                getAnalytics: 'user/analytics/get'\n            } ),\n            goToPreviousSlides( ) {\n                const cardWidthForScroll = this.cardWidthForScroll;\n                const swiperEl = this.$refs.swiper;\n                const scrollLeft = swiperEl.scrollLeft;\n                const previousScrollPosition = ( swiperEl.scrollLeft - cardWidthForScroll ) > 0 ? swiperEl.scrollLeft - cardWidthForScroll : 0;\n                const previousCard = Math.floor( previousScrollPosition / cardWidthForScroll );\n\n                swiperEl.scrollBy( -( scrollLeft - previousCard * cardWidthForScroll ), 0 );\n            },\n            goToNextSlides( ) {\n                const swiperEl = this.$refs.swiper;\n\n                swiperEl.scrollBy( this.cardWidthForScroll, 0 );\n            },\n            setSwiperNavigationDebounced: debounce( function ( ) {\n                const swiperEl = this.$refs.swiper;\n\n                if ( swiperEl ) {\n                    this.isSwiperReachStart = !swiperEl.scrollLeft;\n                    this.isSwiperReachEnd = !( swiperEl.scrollWidth - swiperEl.scrollLeft - swiperEl.offsetWidth );\n                }\n            }, 50 )\n        },\n        mounted( ) {\n            const addEventsAndData = ( ) => {\n                this.getAnalytics( );\n                this.setSwiperNavigationDebounced( );\n                window.addEventListener( 'resize', this.setSwiperNavigationDebounced );\n            };\n\n            if ( this.show ) {\n                addEventsAndData( );\n            } else {\n                this._unwatchShow = this.$watch( 'show', function ( newValue ) {\n                    if ( newValue ) {\n                        addEventsAndData( );\n                        this._unwatchShow( );\n                    }\n                } );\n            }\n        },\n        destroyed( ) {\n            window.removeEventListener( 'resize', this.setSwiperNavigationDebounced );\n        }\n    };\n</script>\n\n<style lang=\"scss\" scoped>\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-event-similar-attractions {\n        border-top: 1px solid rgba( theme-color-hex( 'tertiary' ), 0.2 );\n    }\n\n    .gst-event-similar-attractions__title {\n        line-height: line-height( 'xxxxl' );\n        font-size: font-size( 'xxxl' );\n        font-weight: font-weight( 'medium' );\n    }\n\n    .gst-event-similar-attractions__navigation {\n        .v-btn {\n            height: font-size( 'xxxxl' );\n            width: font-size( 'xxxxl' );\n        }\n    }\n\n    .gst-event-similar-attractions__swiper {\n        scroll-behavior: smooth;\n        overflow: hidden;\n    }\n</style>"]}]}