{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/modules/hotel/components/inputs/common/HeaderDate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/modules/hotel/components/inputs/common/HeaderDate.vue","mtime":1645805365955},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBIZWFkZXJWYXJpYW50MSBmcm9tICdAdGVuYW50L2FwcC9jb21wb25lbnRzL21vZGFscy9IZWFkZXJWYXJpYW50MSc7CmltcG9ydCBCYXNlQnV0dG9uIGZyb20gJ0BzaGFyZWQvY29tcG9uZW50cy9idXR0b25zL0Jhc2VCdXR0b24nOwppbXBvcnQgQmFzZUJvdHRvbU1vZGFsIGZyb20gJ0BzaGFyZWQvY29tcG9uZW50cy9tb2RhbHMvQmFzZUJvdHRvbU1vZGFsJzsKaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnOwppbXBvcnQgZGF0ZUNvbnN0YW50cyBmcm9tICdAY29yZS91dGlscy9jb25zdGFudHMvZGF0ZSc7CmltcG9ydCB7IGRpZmZlcmVuY2VJbkRheXMsIGFkZERheXMsIHBhcnNlRGF0ZVN0cmluZyB9IGZyb20gJ0Bjb3JlL3V0aWxzL2RhdGVVdGlscyc7CmltcG9ydCBCYXNlRGF0ZVBpY2tlciBmcm9tICdAc2hhcmVkL2NvbXBvbmVudHMvZGF0ZS9CYXNlRGF0ZVBpY2tlci52dWUnOwoKY29uc3QgU1RPUkVfTkFNRSA9ICdhZGRIb3RlbFJlc2VydmF0aW9uU3RhdGUnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0FkZEhvdGVsUmVzZXJ2YXRpb25IZWFkZXJEYXRlJywKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBCYXNlRGF0ZVBpY2tlciwKICAgICAgICBCYXNlQm90dG9tTW9kYWwsCiAgICAgICAgQmFzZUJ1dHRvbiwKICAgICAgICBIZWFkZXJWYXJpYW50MQogICAgfSwKICAgIGRhdGEoICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNob3dNb2RhbDogZmFsc2UsCiAgICAgICAgICAgIHN0YXJ0RGF0ZTogbnVsbCwKICAgICAgICAgICAgZW5kRGF0ZTogbnVsbCwKICAgICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwU3RhdGUoIHsKICAgICAgICAgICAgZmlsdGVyczogc3RhdGUgPT4gc3RhdGVbU1RPUkVfTkFNRV0uZmlsdGVycwogICAgICAgIH0gKSwKICAgICAgICBpc0Rlc2t0b3AoICkgewogICAgICAgICAgICByZXR1cm4gIHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC5tZEFuZFVwOwogICAgICAgIH0sCiAgICAgICAgbm93KCkgewogICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKTsKICAgICAgICB9LAogICAgICAgIGRhdGVzU3RyaW5nOiB7CiAgICAgICAgICAgIGdldCggKSB7CiAgICAgICAgICAgICAgICBjb25zdCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9ID0gdGhpczsKCiAgICAgICAgICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZSA/IHRoaXMuJG9wdGlvbnMuZmlsdGVycy5kYXRlKCBzdGFydERhdGUsIGRhdGVDb25zdGFudHMuRk9STUFULkFQSV9EQVRFICkgOiAnJywKICAgICAgICAgICAgICAgICAgICBlbmREYXRlID8gdGhpcy4kb3B0aW9ucy5maWx0ZXJzLmRhdGUoIGVuZERhdGUsIGRhdGVDb25zdGFudHMuRk9STUFULkFQSV9EQVRFICkgOiAnJwogICAgICAgICAgICAgICAgXS5maWx0ZXIoIGl0ZW0gPT4gaXRlbSApOwogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXQoIHZhbHVlICkgewogICAgICAgICAgICAgICAgY29uc3QgZGF0ZXMgPSBbIC4uLm5ldyBTZXQoIHZhbHVlICkgXQogICAgICAgICAgICAgICAgICAgIC5tYXAoICggaXRlbSApID0+IGl0ZW0gPyBwYXJzZURhdGVTdHJpbmcgKCBpdGVtICkgOiBudWxsICApCiAgICAgICAgICAgICAgICAgICAgLnNvcnQoICggYSwgYiApPT4gYS5nZXRUaW1lKCApIC0gYi5nZXRUaW1lKCApICk7CgogICAgICAgICAgICAgICAgdGhpcy5zdGFydERhdGUgPSBkYXRlc1sgMCBdOwogICAgICAgICAgICAgICAgdGhpcy5lbmREYXRlID0gZGF0ZXNbIDEgXTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc3RhcnREYXRlU2VsZWN0aW9uICggKSB7CiAgICAgICAgICAgIGNvbnN0IHsgc3RhcnREYXRlIH0gPSB0aGlzOwogICAgICAgICAgICByZXR1cm4gIXN0YXJ0RGF0ZSA/CiAgICAgICAgICAgICAgICBgJHt0aGlzLiR0KCAnX2NvbW1vbjp0ZXJtcy5zZWxlY3REYXRlJyApfWAgOgogICAgICAgICAgICAgICAgYCR7dGhpcy4kb3B0aW9ucy5maWx0ZXJzLmRhdGUoIHN0YXJ0RGF0ZSwgJ2VlZSwgTU1NIGQsIHl5eXknICl9YDsKICAgICAgICB9LAogICAgICAgIGVuZERhdGVTZWxlY3Rpb24gKCApIHsKICAgICAgICAgICAgY29uc3QgeyBlbmREYXRlIH0gPSB0aGlzOwogICAgICAgICAgICByZXR1cm4gIWVuZERhdGUgPwogICAgICAgICAgICAgICAgYCR7dGhpcy4kdCggJ19jb21tb246dGVybXMuc2VsZWN0RGF0ZScgKX1gIDoKICAgICAgICAgICAgICAgIGAke3RoaXMuJG9wdGlvbnMuZmlsdGVycy5kYXRlKCBlbmREYXRlLCAnZWVlLCBNTU0gZCwgeXl5eScgKX1gOwogICAgICAgIH0sCiAgICAgICAgZGF5c1N0YXkgKCApIHsKICAgICAgICAgICAgY29uc3QgeyBzdGFydERhdGUsIGVuZERhdGUgfSA9IHRoaXM7CiAgICAgICAgICAgIGlmICggc3RhcnREYXRlICYmIGVuZERhdGUgKSB7CiAgICAgICAgICAgICAgICBjb25zdCBkaWZmID0gZGlmZmVyZW5jZUluRGF5cyggZW5kRGF0ZSwgc3RhcnREYXRlICk7CiAgICAgICAgICAgICAgICByZXR1cm4gYCAoJHt0aGlzLiR0KCAnX2NvbW1vbjp0ZXJtcy5uaWdodFN0YXlXaXRoQ291bnQnLCB7IGNvdW50OiBkaWZmIH0gKX0pYDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJ3Nob3dNb2RhbCc6IGZ1bmN0aW9uICggdmFsdWUgKSB7CiAgICAgICAgICAgIGlmICggIXZhbHVlICYmICF0aGlzLmlzRGVza3RvcCApIHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoICdjbG9zZScgKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgJ2lzRGVza3RvcCc6IGZ1bmN0aW9uICggdmFsdWUgKSB7CiAgICAgICAgICAgIHRoaXMuc2hvd01vZGFsID0gIXZhbHVlOwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLi4ubWFwQWN0aW9ucyggewogICAgICAgICAgICAndXBkYXRlRmlsdGVycyc6IGAke1NUT1JFX05BTUV9L2ZpbHRlcnMvdXBkYXRlYAogICAgICAgIH0gKSwKICAgICAgICBzYXZlKCApIHsKICAgICAgICAgICAgY29uc3QgeyBzdGFydERhdGUsIGVuZERhdGUgfSA9IHRoaXM7CgogICAgICAgICAgICB0aGlzLnVwZGF0ZUZpbHRlcnMoIHsKICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZVRpbWU6IHN0YXJ0RGF0ZSwKICAgICAgICAgICAgICAgIGVuZERhdGVUaW1lOiBlbmREYXRlID8gZW5kRGF0ZSA6IGFkZERheXMgKCBzdGFydERhdGUsIDEgKQogICAgICAgICAgICB9ICk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoICdjbG9zZScgKTsKICAgICAgICB9LAogICAgICAgIGZvcm1hdENhbGVuZGFyRGF5ICggZGF0ZSApIHsKICAgICAgICAgICAgcmV0dXJuIGZvcm1hdCggbmV3IERhdGUoIGRhdGUgKSwgJ0VFRUVFRScgKTsKICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCggKSB7CiAgICAgICAgdGhpcy5zdGFydERhdGUgPSB0aGlzLmZpbHRlcnMuc3RhcnREYXRlVGltZTsKICAgICAgICB0aGlzLmVuZERhdGUgPSB0aGlzLmZpbHRlcnMuZW5kRGF0ZVRpbWU7CiAgICAgICAgdGhpcy5zaG93TW9kYWwgPSAhdGhpcy5pc0Rlc2t0b3A7CiAgICB9Cn07Cg=="},{"version":3,"sources":["HeaderDate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HeaderDate.vue","sourceRoot":"src/tenants/ticketmaster/app/modules/hotel/components/inputs/common","sourcesContent":["<template>\n    <div\n        v-if=\"$vuetify.breakpoint.mdAndUp\"\n        class=\"gst-add-hotel-reservation-header-date u-width-100\">\n        <BaseDatePicker\n            v-model=\"datesString\"\n            :weekday-format=\"formatCalendarDay\"\n            full-width\n            flat\n            range\n            color=\"primary\"\n            :min=\"now | date('yyyy-MM-dd')\"\n            :show-current=\"datesString[0]\"\n            class=\"gst-add-hotel-reservation-header-date__picker\"\n            no-title />\n        <div class=\"gst-add-hotel-reservation-header-date__footer d-flex flex-column\">\n            <div class=\"gst-add-hotel-reservation-header-date__buttons d-flex flex-row pb-3\">\n                <div class=\"flex-grow-1\"></div>\n                <BaseButton\n                    text\n                    color=\"tertiary\"\n                    class=\"px-0 text-capitalize\"\n                    width=\"auto\"\n                    @click=\"$emit('close')\">\n                    {{ $t('_common:buttons.close') }}\n                </BaseButton>\n                <BaseButton\n                    text\n                    color=\"primary\"\n                    class=\"px-0 text-capitalize mr-4\"\n                    width=\"auto\"\n                    :disabled=\"!startDate\"\n                    @click=\"save\">\n                    {{ $t('_common:buttons.confirm') }}\n                </BaseButton>\n            </div>\n            <div class=\"selected-dates d-block\">\n                <span :class=\"{'no-selection': !startDate}\">\n                    {{ startDateSelection }}\n                </span>\n                -\n                <span :class=\"{'no-selection': !endDate}\">\n                    {{ endDateSelection }}\n                </span>\n                {{ daysStay }}\n            </div>\n        </div>\n    </div>\n    <BaseBottomModal\n        v-else\n        v-model=\"showModal\"\n        overlay-opacity=\"0.8\"\n        content-class=\"gst-add-hotel-reservation-header-date\">\n        <HeaderVariant1\n            class=\"flex-grow-0\"\n            :title=\"$t( '_common:terms.changeDate' )\"\n            @close=\"$emit('close')\" />\n        <div class=\"u-width-100\">\n            <BaseDatePicker\n                v-model=\"datesString\"\n                full-width\n                flat\n                range\n                :weekday-format=\"formatCalendarDay\"\n                color=\"primary\"\n                :min=\"now | date('yyyy-MM-dd')\"\n                :show-current=\"datesString[0]\"\n                class=\"gst-add-hotel-reservation-header-date__picker\"\n                no-title />\n            <div class=\"gst-add-hotel-reservation-header-date__footer px-4 pt-3 pb-8\">\n                <p>\n                    <span :class=\"{'no-selection': !startDate}\">\n                        {{ startDateSelection }}\n                    </span>\n                    -\n                    <span :class=\"{'no-selection': !endDate}\">\n                        {{ endDateSelection }}\n                    </span>\n                    {{ daysStay }}\n                </p>\n                <div class=\"gst-add-hotel-reservation-header-date__buttons\">\n                    <BaseButton\n                        color=\"primary\"\n                        :disabled=\"!startDate\"\n                        class=\"text-capitalize\"\n                        width=\"90%\"\n                        @click=\"save\">\n                        {{ $t('_common:buttons.confirm') }}\n                    </BaseButton>\n                </div>\n            </div>\n        </div>\n    </BaseBottomModal>\n</template>\n\n<script>\n    import { mapActions, mapState } from 'vuex';\n    import HeaderVariant1 from '@tenant/app/components/modals/HeaderVariant1';\n    import BaseButton from '@shared/components/buttons/BaseButton';\n    import BaseBottomModal from '@shared/components/modals/BaseBottomModal';\n    import { format } from 'date-fns';\n    import dateConstants from '@core/utils/constants/date';\n    import { differenceInDays, addDays, parseDateString } from '@core/utils/dateUtils';\n    import BaseDatePicker from '@shared/components/date/BaseDatePicker.vue';\n\n    const STORE_NAME = 'addHotelReservationState';\n\n    export default {\n        name: 'AddHotelReservationHeaderDate',\n        components: {\n            BaseDatePicker,\n            BaseBottomModal,\n            BaseButton,\n            HeaderVariant1\n        },\n        data( ) {\n            return {\n                showModal: false,\n                startDate: null,\n                endDate: null,\n            };\n        },\n        computed: {\n            ...mapState( {\n                filters: state => state[STORE_NAME].filters\n            } ),\n            isDesktop( ) {\n                return  this.$vuetify.breakpoint.mdAndUp;\n            },\n            now() {\n                return new Date();\n            },\n            datesString: {\n                get( ) {\n                    const { startDate, endDate } = this;\n\n                    return [\n                        startDate ? this.$options.filters.date( startDate, dateConstants.FORMAT.API_DATE ) : '',\n                        endDate ? this.$options.filters.date( endDate, dateConstants.FORMAT.API_DATE ) : ''\n                    ].filter( item => item );\n                },\n                set( value ) {\n                    const dates = [ ...new Set( value ) ]\n                        .map( ( item ) => item ? parseDateString ( item ) : null  )\n                        .sort( ( a, b )=> a.getTime( ) - b.getTime( ) );\n\n                    this.startDate = dates[ 0 ];\n                    this.endDate = dates[ 1 ];\n                }\n            },\n            startDateSelection ( ) {\n                const { startDate } = this;\n                return !startDate ?\n                    `${this.$t( '_common:terms.selectDate' )}` :\n                    `${this.$options.filters.date( startDate, 'eee, MMM d, yyyy' )}`;\n            },\n            endDateSelection ( ) {\n                const { endDate } = this;\n                return !endDate ?\n                    `${this.$t( '_common:terms.selectDate' )}` :\n                    `${this.$options.filters.date( endDate, 'eee, MMM d, yyyy' )}`;\n            },\n            daysStay ( ) {\n                const { startDate, endDate } = this;\n                if ( startDate && endDate ) {\n                    const diff = differenceInDays( endDate, startDate );\n                    return ` (${this.$t( '_common:terms.nightStayWithCount', { count: diff } )})`;\n                }\n                return '';\n            }\n        },\n        watch: {\n            'showModal': function ( value ) {\n                if ( !value && !this.isDesktop ) {\n                    this.$emit( 'close' );\n                }\n            },\n            'isDesktop': function ( value ) {\n                this.showModal = !value;\n            }\n        },\n        methods: {\n            ...mapActions( {\n                'updateFilters': `${STORE_NAME}/filters/update`\n            } ),\n            save( ) {\n                const { startDate, endDate } = this;\n\n                this.updateFilters( {\n                    startDateTime: startDate,\n                    endDateTime: endDate ? endDate : addDays ( startDate, 1 )\n                } );\n                this.$emit( 'close' );\n            },\n            formatCalendarDay ( date ) {\n                return format( new Date( date ), 'EEEEEE' );\n            }\n        },\n        mounted( ) {\n            this.startDate = this.filters.startDateTime;\n            this.endDate = this.filters.endDateTime;\n            this.showModal = !this.isDesktop;\n        }\n    };\n</script>\n\n<style lang=\"scss\">\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-add-hotel-reservation-header-date {\n        @include font-size( 's' );\n        @include font-weight( 'regular' );\n\n        background-color: theme-color( 'white' );\n\n        .gst-add-hotel-reservation-header-date__picker {\n            .v-date-picker-header {\n                justify-content: space-evenly;\n\n                .v-date-picker-header__value {\n                    flex: unset;\n                }\n            }\n\n            .gst-add-hotel-reservation-header-date {\n                height: auto;\n            }\n\n            .v-date-picker-table {\n                height: 195px;\n            }\n\n            .v-date-picker-table--date .v-btn {\n                @include font-size( 's' );\n                @include font-weight( 'large' );\n\n                height: 20px;\n                width: 26px;\n                border-radius: 2px;\n            }\n\n            .v-date-picker-table--month td {\n                @include font-size( 's' );\n                @include font-weight( 'large' );\n\n                height: 44px;\n            }\n        }\n\n        .gst-add-hotel-reservation-header-date__footer {\n            background-color: theme-color( 'quinary' );\n            text-align: center;\n\n            .selected-dates {\n                margin: theme-spacing( 3 ) theme-spacing( 2 );\n                font-size: font-size( 'm' );\n            }\n\n            .gst-add-hotel-reservation-header-date__buttons {\n                background-color: theme-color( 'white' );\n\n                .v-btn {\n                    font-weight: font-weight( 'large' );\n                }\n            }\n        }\n\n        @include mobile-only {\n            .gst-add-hotel-reservation-header-date__picker {\n                .v-date-picker-header__value {\n                    font-size: font-size( 'm' );\n                }\n            }\n\n            .gst-add-hotel-reservation-header-date__footer {\n                p {\n                    font-size: font-size( 's' );\n\n                    .no-selection {\n                        color: theme-color( 'tertiary' );\n                    }\n                }\n\n                .gst-add-hotel-reservation-header-date__buttons {\n                    background-color: theme-color( 'quinary' );\n\n                    .v-btn {\n                        letter-spacing: normal;\n                    }\n                }\n            }\n        }\n    }\n</style>\n"]}]}