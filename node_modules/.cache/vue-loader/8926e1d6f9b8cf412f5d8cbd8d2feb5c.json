{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/home/TheHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/home/TheHome.vue","mtime":1645805364031},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gvdGhyb3R0bGUnOwppbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJzsKaW1wb3J0IHsgaXNWaXNpYmxlT25WaWV3cG9ydCBhcyB2aWV3cG9ydFV0aWxzSXNWaXNpYmxlT25WaWV3cG9ydCB9IGZyb20gJ0Bjb3JlL3V0aWxzL3ZpZXdwb3J0VXRpbHMnOwppbXBvcnQgQmFzZUJhbm5lciBmcm9tICdAY29yZS9zaGFyZWQvY29tcG9uZW50cy9taXNjL0Jhc2VCYW5uZXIudnVlJzsKaW1wb3J0IFNlYXJjaEZpZWxkQmFubmVyIGZyb20gJy4vVGhlSG9tZS9TZWFyY2hGaWVsZEJhbm5lcic7CmltcG9ydCBUb3BFdmVudHNDYXJkTGlzdCBmcm9tICcuL1RoZUhvbWUvVG9wRXZlbnRzQ2FyZExpc3QudnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdIb21lJywKICAgIG1ldGFJbmZvOiB7CiAgICAgICAgdGl0bGU6ICdIb21lJwogICAgfSwKICAgIGkxOG5PcHRpb25zOiB7CiAgICAgICAgbmFtZXNwYWNlczogJ21haW4nLAogICAgICAgIGtleVByZWZpeDogJ3ZpZXdzLmhvbWUudGhlSG9tZScKICAgIH0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQmFzZUJhbm5lciwKICAgICAgICBTZWFyY2hGaWVsZEJhbm5lciwKICAgICAgICBUb3BFdmVudHNDYXJkTGlzdAogICAgfSwKICAgIGRhdGEoICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNob3dPdmVybGF5OiBmYWxzZSwKICAgICAgICAgICAgc2VhcmNoQmFubmVyVmlzaWJsZTogZmFsc2UKICAgICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwR2V0dGVycyggewogICAgICAgICAgICBpc0xveWFsdHlDdXJyZW5jeVR5cGVNb25leTogJ2FwcFRlbmFudC9pc0xveWFsdHlDdXJyZW5jeVR5cGVNb25leScsCiAgICAgICAgICAgIHJlY2VudGx5Vmlld2VkSXRlbXM6ICAndXNlci9icm93c2luZ0hpc3RvcnkvZW50aXRpZXNFdmVudHNBbmRBdHRyYWN0aW9uJwogICAgICAgIH0gKSwKICAgICAgICAuLi5tYXBTdGF0ZSggewogICAgICAgICAgICBob21lUGFnZVN0YXRlOiBzdGF0ZSA9PiBzdGF0ZS5hcHBTdGF0ZS5wYWdlLmhvbWUsCiAgICAgICAgICAgIHVzZXJGaXJzdEFjY2Vzc0FwcDogICAgIHN0YXRlID0+IHN0YXRlLnVzZXIuZmlyc3RBY2Nlc3MKICAgICAgICB9ICksCiAgICAgICAgSnVzdEZvclVzZXJFbnRpdGllcygpIHsKICAgICAgICAgICAgcmV0dXJuICgpID0+IGltcG9ydCggJy4vVGhlSG9tZS9KdXN0Rm9yVXNlckVudGl0aWVzLnZ1ZScgKTsKICAgICAgICB9LAogICAgICAgIFJlY2VudGx5Vmlld2VkRW50aXRpZXMoKSB7CiAgICAgICAgICAgIHJldHVybiAoKSA9PiBpbXBvcnQoICcuL1RoZUhvbWUvUmVjZW50bHlWaWV3ZWRFbnRpdGllcy52dWUnICk7CiAgICAgICAgfSwKICAgICAgICBTaW1pbGFyQXR0cmFjdGlvbnMoKSB7CiAgICAgICAgICAgIHJldHVybiAoKSA9PiBpbXBvcnQoICdAY29yZS9zaGFyZWQvY29tcG9uZW50cy9hdHRyYWN0aW9uL1NpbWlsYXJBdHRyYWN0aW9ucycgKTsKICAgICAgICB9LAogICAgICAgIGhhc1JlY2VudGx5Vmlld2VkKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5yZWNlbnRseVZpZXdlZEl0ZW1zLmxlbmd0aDsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoIHsKICAgICAgICAgICAgc2V0UGFnZVByb3BBcHBTdGF0ZTogJ2FwcFN0YXRlL3NldFBhZ2VQcm9wJwogICAgICAgIH0gKSwKICAgICAgICBzZXRQYWdlU3RhdGVTaG93SGVhZGVyKCB2YWx1ZSApIHsKICAgICAgICAgICAgdGhpcy5zZXRQYWdlUHJvcEFwcFN0YXRlKCB7CiAgICAgICAgICAgICAgICBwYWdlOiAnaG9tZScsCiAgICAgICAgICAgICAgICBwcm9wOiAnc2hvd0hlYWRlcicsCiAgICAgICAgICAgICAgICB2YWx1ZQogICAgICAgICAgICB9ICk7CiAgICAgICAgfSwKICAgICAgICBjaGVja1NlYXJjaEJhbm5lclZpc2libGUoICkgewogICAgICAgICAgICBjb25zdCBzZWFyY2hCYW5uZXIgPSB0aGlzLiRyZWZzLnNlYXJjaEJhbm5lcjsKCgogICAgICAgICAgICBpZiAoIHNlYXJjaEJhbm5lciApIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoQmFubmVyVmlzaWJsZSA9IHZpZXdwb3J0VXRpbHNJc1Zpc2libGVPblZpZXdwb3J0KCBzZWFyY2hCYW5uZXIuJGVsLCA2MCApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hCYW5uZXJWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCB0aGlzLmhvbWVQYWdlU3RhdGUuc2hvd0hlYWRlciAhPT0gIXRoaXMuc2VhcmNoQmFubmVyVmlzaWJsZSApIHsKICAgICAgICAgICAgICAgIHRoaXMuc2V0UGFnZVN0YXRlU2hvd0hlYWRlciggIXRoaXMuc2VhcmNoQmFubmVyVmlzaWJsZSApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjaGVja1NlYXJjaEJhbm5lclZpc2libGVEZWJvdW5jZTogZGVib3VuY2UoIGZ1bmN0aW9uICggKSB7CiAgICAgICAgICAgIHRoaXMuY2hlY2tTZWFyY2hCYW5uZXJWaXNpYmxlKCApOwogICAgICAgIH0sIDUwICksCiAgICB9LAogICAgbW91bnRlZCggKSB7CiAgICAgICAgdGhpcy50aHJvdHRsZU1lbnVDbG9zZSA9IHRocm90dGxlKCAoICkgPT4gewogICAgICAgICAgICAhdGhpcy4kdnVldGlmeS5icmVha3BvaW50Lm1kQW5kVXAgfHwgKCB0aGlzLnNob3dPdmVybGF5ID0gZmFsc2UgKTsKICAgICAgICB9LCAyMCApOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcy50aHJvdHRsZU1lbnVDbG9zZSApOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgdGhpcy5jaGVja1NlYXJjaEJhbm5lclZpc2libGVEZWJvdW5jZSApOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcy5jaGVja1NlYXJjaEJhbm5lclZpc2libGVEZWJvdW5jZSApOwogICAgICAgIHNldFRpbWVvdXQoIHRoaXMuY2hlY2tTZWFyY2hCYW5uZXJWaXNpYmxlLCAxMCApOwogICAgfSwKICAgIGRlc3Ryb3llZCggKSB7CiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCB0aGlzLnRocm90dGxlTWVudUNsb3NlICk7CiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCB0aGlzLmNoZWNrU2VhcmNoQmFubmVyVmlzaWJsZURlYm91bmNlICk7CiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCB0aGlzLmNoZWNrU2VhcmNoQmFubmVyVmlzaWJsZURlYm91bmNlICk7CiAgICB9Cn07Cg=="},{"version":3,"sources":["TheHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TheHome.vue","sourceRoot":"src/core/views/home","sourcesContent":["<template>\n    <div class=\"view-container gst-home\">\n        <transition name=\"fade\">\n            <div v-if=\"showOverlay && $vuetify.breakpoint.mdAndUp\" class=\"overlay u-alpha-background\" @click=\"showOverlay = false\"></div>\n        </transition>\n        <BaseBanner\n            ref=\"searchBanner\"\n            class=\"gst-banner--home\">\n            <template v-slot:gst-banner-content>\n                <!-- eslint-disable-next-line vue/no-v-html -->\n                <h1 class=\"gst-home__title\" v-html=\"$t('title', { 'interpolation': {'escapeValue': false} } )\">\n                </h1>\n                <!-- eslint-disable-next-line vue/no-v-html -->\n                <h3 class=\"gst-home__subtitle\" v-html=\"$t('subtitle', { 'interpolation': {'escapeValue': false} } )\">\n                </h3>\n                <div class=\"content-max-width mt-7 mt-md-12\">\n                    <SearchFieldBanner :show-overlay=\"showOverlay\" @click.native=\"showOverlay = true\" />\n                </div>\n            </template>\n        </BaseBanner>\n        <div class=\"content-max-width\">\n            <TenantBonusPointsHomeBanner class=\"mt-8\" :is-loyalty-currency-type-money=\"isLoyaltyCurrencyTypeMoney\" />\n            <component :is=\"RecentlyViewedEntities\" v-if=\"hasRecentlyViewed\" class=\"mt-10\" />\n        </div>\n        <component :is=\"JustForUserEntities\" v-if=\"!userFirstAccessApp\" class=\"mt-10\" />\n        <div class=\"content-max-width\">\n            <TopEventsCardList class=\"mt-6\" />\n            <component :is=\"SimilarAttractions\" v-if=\"!userFirstAccessApp\" class=\"mt-6 mt-lg-10 mb-10\" />\n        </div>\n    </div>\n</template>\n\n<script>\n    import { mapActions, mapGetters, mapState } from 'vuex';\n    import throttle from 'lodash/throttle';\n    import debounce from 'lodash/debounce';\n    import { isVisibleOnViewport as viewportUtilsIsVisibleOnViewport } from '@core/utils/viewportUtils';\n    import BaseBanner from '@core/shared/components/misc/BaseBanner.vue';\n    import SearchFieldBanner from './TheHome/SearchFieldBanner';\n    import TopEventsCardList from './TheHome/TopEventsCardList.vue';\n\n    export default {\n        name: 'Home',\n        metaInfo: {\n            title: 'Home'\n        },\n        i18nOptions: {\n            namespaces: 'main',\n            keyPrefix: 'views.home.theHome'\n        },\n        components: {\n            BaseBanner,\n            SearchFieldBanner,\n            TopEventsCardList\n        },\n        data( ) {\n            return {\n                showOverlay: false,\n                searchBannerVisible: false\n            };\n        },\n        computed: {\n            ...mapGetters( {\n                isLoyaltyCurrencyTypeMoney: 'appTenant/isLoyaltyCurrencyTypeMoney',\n                recentlyViewedItems:  'user/browsingHistory/entitiesEventsAndAttraction'\n            } ),\n            ...mapState( {\n                homePageState: state => state.appState.page.home,\n                userFirstAccessApp:     state => state.user.firstAccess\n            } ),\n            JustForUserEntities() {\n                return () => import( './TheHome/JustForUserEntities.vue' );\n            },\n            RecentlyViewedEntities() {\n                return () => import( './TheHome/RecentlyViewedEntities.vue' );\n            },\n            SimilarAttractions() {\n                return () => import( '@core/shared/components/attraction/SimilarAttractions' );\n            },\n            hasRecentlyViewed() {\n                return this.recentlyViewedItems.length;\n            }\n        },\n        methods: {\n            ...mapActions( {\n                setPagePropAppState: 'appState/setPageProp'\n            } ),\n            setPageStateShowHeader( value ) {\n                this.setPagePropAppState( {\n                    page: 'home',\n                    prop: 'showHeader',\n                    value\n                } );\n            },\n            checkSearchBannerVisible( ) {\n                const searchBanner = this.$refs.searchBanner;\n\n\n                if ( searchBanner ) {\n                    this.searchBannerVisible = viewportUtilsIsVisibleOnViewport( searchBanner.$el, 60 );\n                } else {\n                    this.searchBannerVisible = false;\n                }\n                if ( this.homePageState.showHeader !== !this.searchBannerVisible ) {\n                    this.setPageStateShowHeader( !this.searchBannerVisible );\n                }\n            },\n            checkSearchBannerVisibleDebounce: debounce( function ( ) {\n                this.checkSearchBannerVisible( );\n            }, 50 ),\n        },\n        mounted( ) {\n            this.throttleMenuClose = throttle( ( ) => {\n                !this.$vuetify.breakpoint.mdAndUp || ( this.showOverlay = false );\n            }, 20 );\n            window.addEventListener( 'resize', this.throttleMenuClose );\n            window.addEventListener( 'scroll', this.checkSearchBannerVisibleDebounce );\n            window.addEventListener( 'resize', this.checkSearchBannerVisibleDebounce );\n            setTimeout( this.checkSearchBannerVisible, 10 );\n        },\n        destroyed( ) {\n            window.removeEventListener( 'resize', this.throttleMenuClose );\n            window.removeEventListener( 'scroll', this.checkSearchBannerVisibleDebounce );\n            window.removeEventListener( 'resize', this.checkSearchBannerVisibleDebounce );\n        }\n    };\n</script>\n\n<style scoped lang=\"scss\">\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-home__title {\n        @include heading(1);\n\n        color: theme-color( 'white' );\n        letter-spacing: -0.86px;\n        text-align: center;\n\n        @include mobile-only {\n            font-size: font-size( 'xxxxxxl' );\n            letter-spacing: -0.64px;\n        }\n    }\n\n    .gst-home__subtitle {\n        @include heading(5);\n\n        color: theme-color( 'white' );\n        letter-spacing: -0.16px;\n        text-align: center;\n\n        @include mobile-only {\n            font-size: font-size( 'xxxl' );\n            letter-spacing: -0.64px;\n        }\n    }\n\n    .gst-banner--home {\n        @include linear-gradient(to right, theme-color('home-banner-gradient-start') 0%, theme-color('home-banner-gradient-end') 100%);\n\n        padding: 60px 0 55px;\n        margin: -12px;\n\n        @include mobile-only {\n            padding: 50px 0;\n        }\n    }\n\n    .view-container {\n        height: 100%;\n    }\n\n    .gst-home .overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 100%;\n        background: theme-color( 'transparent' ) !important;\n        z-index: $z-index-header + 1;\n        border-color: theme-color( 'transparent' ) !important;\n\n        &::after {\n            background: theme-color( 'overlay' );\n            opacity: 0.4;\n        }\n    }\n</style>\n"]}]}