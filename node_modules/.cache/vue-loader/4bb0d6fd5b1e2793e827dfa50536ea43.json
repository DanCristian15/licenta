{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/views/packageOffer/ThePackageOffer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/views/packageOffer/ThePackageOffer.vue","mtime":1645805366000},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0RGlzdGFuY2VVbml0T2ZNZWFzdXJlRm9yQ291bnRyeSB9IGZyb20gJ0Bjb3JlL3V0aWxzL21lYXN1cmVVdGlscyc7CmltcG9ydCBEYXRhTG9hZGluZyBmcm9tICdAL2NvcmUvc2hhcmVkL2NvbXBvbmVudHMvbG9hZGluZy9EYXRhTG9hZGluZy52dWUnOwppbXBvcnQgRW50aXR5Tm90Rm91bmRSZWRpcmVjdDQwNCBmcm9tICdAY29yZS9taXhpbnMvRW50aXR5Tm90Rm91bmRSZWRpcmVjdDQwNCc7CmltcG9ydCBFdmVudERldGFpbHMgZnJvbSAnLi9UaGVQYWNrYWdlT2ZmZXIvRXZlbnREZXRhaWxzLnZ1ZSc7CmltcG9ydCBNYXJrZXRpbmdQb2ludHMgZnJvbSAnLi9UaGVQYWNrYWdlT2ZmZXIvTWFya2V0aW5nUG9pbnRzLnZ1ZSc7CmltcG9ydCBIb3RlbERldGFpbHMgZnJvbSAnLi9UaGVQYWNrYWdlT2ZmZXIvSG90ZWxEZXRhaWxzLnZ1ZSc7CmltcG9ydCBQYWNrYWdlRGV0YWlscyBmcm9tICcuL1RoZVBhY2thZ2VPZmZlci9QYWNrYWdlRGV0YWlscy52dWUnOwppbXBvcnQgUHJpY2VEZXRhaWxzIGZyb20gJy4vVGhlUGFja2FnZU9mZmVyL1ByaWNlRGV0YWlscy52dWUnOwoKY29uc3QgU1RPUkVfTkFNRSA9ICdwYWNrYWdlT2ZmZXJzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdQYWNrYWdlT2ZmZXInLAogICAgY29tcG9uZW50czogewogICAgICAgIEV2ZW50RGV0YWlscywKICAgICAgICBNYXJrZXRpbmdQb2ludHMsCiAgICAgICAgSG90ZWxEZXRhaWxzLAogICAgICAgIFBhY2thZ2VEZXRhaWxzLAogICAgICAgIFByaWNlRGV0YWlscywKICAgICAgICBEYXRhTG9hZGluZwogICAgfSwKICAgIG1peGluczogWwogICAgICAgIEVudGl0eU5vdEZvdW5kUmVkaXJlY3Q0MDQKICAgIF0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICBldmVudDogbnVsbCwKICAgICAgICAgICAgaG90ZWw6IG51bGwsCiAgICAgICAgICAgIGN1cnJlbmN5OiBudWxsLAogICAgICAgICAgICB0b3RhbHM6IHsKICAgICAgICAgICAgICAgIHRvdGFsUHJpY2U6IDAsCiAgICAgICAgICAgICAgICBiYXNlUHJpY2U6IDAsCiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgcm91dGVJZCggKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgfSwKICAgICAgICBldmVudExvY2F0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudCA/IHRoaXMuJG9wdGlvbnMuZmlsdGVycy52ZW51ZUluZm9Mb2NhdGlvbiggewogICAgICAgICAgICAgICAgY2l0eTogdGhpcy5ldmVudC52ZW51ZUNpdHksCiAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZTogdGhpcy5ldmVudC52ZW51ZUNvdW50cnksCiAgICAgICAgICAgICAgICBzdGF0ZUNvZGU6IHRoaXMuZXZlbnQudmVudWVTdGF0ZSwKICAgICAgICAgICAgICAgIHN0cmVldDogdGhpcy5ldmVudC52ZW51ZVN0cmVldCwKICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuZXZlbnQudmVudWVOYW1lCiAgICAgICAgICAgIH0gKSA6IG51bGw7CiAgICAgICAgfSwKICAgICAgICB2ZW51ZUxvY2F0aW9uKCApIHsKICAgICAgICAgICAgY29uc3QgeyB2ZW51ZUNpdHksIHZlbnVlQ291bnRyeSwgdmVudWVOYW1lLCB2ZW51ZVN0YXRlLCB2ZW51ZVN0cmVldCwgdmVudWVMYXRpdHVkZSwgdmVudWVMb25naXR1ZGUgfSA9IHRoaXMuZXZlbnQ7CgogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgbmFtZTogdmVudWVOYW1lLAogICAgICAgICAgICAgICAgc3RhdGVDb2RlOiB2ZW51ZVN0YXRlLAogICAgICAgICAgICAgICAgY291bnRyeUNvZGU6IHZlbnVlQ291bnRyeSwKICAgICAgICAgICAgICAgIGNpdHk6IHZlbnVlQ2l0eSwKICAgICAgICAgICAgICAgIHN0cmVldDogdmVudWVTdHJlZXQsCiAgICAgICAgICAgICAgICBsYXRpdHVkZTogdmVudWVMYXRpdHVkZSwKICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogdmVudWVMb25naXR1ZGUKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIHZlbnVlRGlzdGFuY2UoKSB7CiAgICAgICAgICAgIGlmICggIXRoaXMuaG90ZWwgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpcy4kb3B0aW9ucy5maWx0ZXJzLmRpc3RhbmNlRnJvbSgKICAgICAgICAgICAgICAgIHRoaXMuaG90ZWwuZGlzdGFuY2UsCiAgICAgICAgICAgICAgICB0aGlzLmRpc3RhbmNlVW5pdE9mTWVhc3VyZSwKICAgICAgICAgICAgICAgIHRoaXMuJHQoICdfY29tbW9uOnRlcm1zLnZlbnVlVGhlJyApCiAgICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBkaXN0YW5jZVVuaXRPZk1lYXN1cmUoICkgewogICAgICAgICAgICByZXR1cm4gZ2V0RGlzdGFuY2VVbml0T2ZNZWFzdXJlRm9yQ291bnRyeSAoIHRoaXMudmVudWVMb2NhdGlvbi5jb3VudHJ5Q29kZSApOwogICAgICAgIH0sCiAgICAgICAgZm9ybWF0dGVkUHJpY2VzKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgYmFzZVByaWNlOiB0aGlzLiRvcHRpb25zLmZpbHRlcnMuY3VycmVuY3lGdWxsKCB0aGlzLnRvdGFscy5iYXNlUHJpY2UsIHRoaXMuY3VycmVuY3kgKSwKICAgICAgICAgICAgICAgIHRvdGFsUHJpY2U6IHRoaXMuJG9wdGlvbnMuZmlsdGVycy5jdXJyZW5jeUZ1bGwoIHRoaXMudG90YWxzLnRvdGFsUHJpY2UsIHRoaXMuY3VycmVuY3kgKSwKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIGV2ZW50UHJvcHMoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmV2ZW50ID8geyAuLi50aGlzLmV2ZW50LCBsb2NhdGlvbjogdGhpcy5ldmVudExvY2F0aW9uIH0gOiB7IH07CiAgICAgICAgfSwKICAgICAgICBob3RlbFByb3BzKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5ob3RlbCA/IHsgLi4udGhpcy5ob3RlbCwgdmVudWVEaXN0YW5jZTogdGhpcy52ZW51ZURpc3RhbmNlIH0gOiB7IH07CiAgICAgICAgfSwKICAgICAgICBpc1BhY2thZ2UoICkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5ldmVudCB8fCB0aGlzLmhvdGVsOwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLi4ubWFwQWN0aW9ucyggewogICAgICAgICAgICAnbG9hZE9uZUJ5RXh0ZXJuYWxJZCc6IGAke1NUT1JFX05BTUV9L29uZUJ5RXh0ZXJuYWxJZGAKICAgICAgICB9ICksCiAgICAgICAgYXN5bmMgbG9hZERhdGEoICkgewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubG9hZE9uZUJ5RXh0ZXJuYWxJZCggdGhpcy5yb3V0ZUlkICk7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgaWYgKCAhcmVzcG9uc2UuZGF0YSApIHsKICAgICAgICAgICAgICAgIHRoaXMuX2dvVG9Ob3RGb3VuZFBhZ2UoICk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gcmVzcG9uc2U7CiAgICAgICAgICAgIHRoaXMuZXZlbnQgPSBkYXRhLmV2ZW50OwogICAgICAgICAgICB0aGlzLmhvdGVsID0gZGF0YS5ob3RlbDsKICAgICAgICAgICAgdGhpcy50b3RhbHMgPSBkYXRhLnRvdGFsczsKICAgICAgICAgICAgdGhpcy5jdXJyZW5jeSA9IGRhdGEuY3VycmVuY3k7CiAgICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNyZWF0ZWQoICkgewogICAgICAgIGF3YWl0IHRoaXMubG9hZERhdGEoKTsKICAgIH0KfTsK"},{"version":3,"sources":["ThePackageOffer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ThePackageOffer.vue","sourceRoot":"src/tenants/ticketmaster/app/views/packageOffer","sourcesContent":["<template>\n    <div class=\"gs-package-offer content-max-width\">\n        <DataLoading v-if=\"loading\" />\n        <div v-else-if=\"isPackage\" class=\"d-flex flex-column align-center justify-center\">\n            <EventDetails :event=\"eventProps\" />\n            <MarketingPoints />\n            <HotelDetails :hotel=\"hotelProps\" />\n            <PackageDetails />\n            <PriceDetails :prices=\"formattedPrices\" />\n        </div>\n    </div>\n</template>\n\n<script>\n    import { mapActions } from 'vuex';\n    import { getDistanceUnitOfMeasureForCountry } from '@core/utils/measureUtils';\n    import DataLoading from '@/core/shared/components/loading/DataLoading.vue';\n    import EntityNotFoundRedirect404 from '@core/mixins/EntityNotFoundRedirect404';\n    import EventDetails from './ThePackageOffer/EventDetails.vue';\n    import MarketingPoints from './ThePackageOffer/MarketingPoints.vue';\n    import HotelDetails from './ThePackageOffer/HotelDetails.vue';\n    import PackageDetails from './ThePackageOffer/PackageDetails.vue';\n    import PriceDetails from './ThePackageOffer/PriceDetails.vue';\n\n    const STORE_NAME = 'packageOffers';\n\n    export default {\n        name: 'PackageOffer',\n        components: {\n            EventDetails,\n            MarketingPoints,\n            HotelDetails,\n            PackageDetails,\n            PriceDetails,\n            DataLoading\n        },\n        mixins: [\n            EntityNotFoundRedirect404\n        ],\n        data() {\n            return {\n                loading: false,\n                event: null,\n                hotel: null,\n                currency: null,\n                totals: {\n                    totalPrice: 0,\n                    basePrice: 0,\n                }\n            };\n        },\n        computed: {\n            routeId( ) {\n                return this.$route.params.id;\n            },\n            eventLocation() {\n                return this.event ? this.$options.filters.venueInfoLocation( {\n                    city: this.event.venueCity,\n                    countryCode: this.event.venueCountry,\n                    stateCode: this.event.venueState,\n                    street: this.event.venueStreet,\n                    name: this.event.venueName\n                } ) : null;\n            },\n            venueLocation( ) {\n                const { venueCity, venueCountry, venueName, venueState, venueStreet, venueLatitude, venueLongitude } = this.event;\n\n                return {\n                    name: venueName,\n                    stateCode: venueState,\n                    countryCode: venueCountry,\n                    city: venueCity,\n                    street: venueStreet,\n                    latitude: venueLatitude,\n                    longitude: venueLongitude\n                };\n            },\n            venueDistance() {\n                if ( !this.hotel ) {\n                    return 0;\n                }\n                return this.$options.filters.distanceFrom(\n                    this.hotel.distance,\n                    this.distanceUnitOfMeasure,\n                    this.$t( '_common:terms.venueThe' )\n                );\n            },\n            distanceUnitOfMeasure( ) {\n                return getDistanceUnitOfMeasureForCountry ( this.venueLocation.countryCode );\n            },\n            formattedPrices() {\n                return {\n                    basePrice: this.$options.filters.currencyFull( this.totals.basePrice, this.currency ),\n                    totalPrice: this.$options.filters.currencyFull( this.totals.totalPrice, this.currency ),\n                };\n            },\n            eventProps() {\n                return this.event ? { ...this.event, location: this.eventLocation } : { };\n            },\n            hotelProps() {\n                return this.hotel ? { ...this.hotel, venueDistance: this.venueDistance } : { };\n            },\n            isPackage( ) {\n                return this.event || this.hotel;\n            }\n        },\n        methods: {\n            ...mapActions( {\n                'loadOneByExternalId': `${STORE_NAME}/oneByExternalId`\n            } ),\n            async loadData( ) {\n                this.loading = true;\n                const response = await this.loadOneByExternalId( this.routeId );\n                this.loading = false;\n\n                if ( !response.data ) {\n                    this._goToNotFoundPage( );\n                    return;\n                }\n\n                const { data } = response;\n                this.event = data.event;\n                this.hotel = data.hotel;\n                this.totals = data.totals;\n                this.currency = data.currency;\n            }\n        },\n        async created( ) {\n            await this.loadData();\n        }\n    };\n</script>"]}]}