{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/shared/components/event/EventsSearchBy.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/shared/components/event/EventsSearchBy.vue","mtime":1645805363949},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnOwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSwgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgRXZlbnRDYXJkVmFyaWFudDEgZnJvbSAnQGNvcmUvc2hhcmVkL2NvbXBvbmVudHMvZXZlbnQvRXZlbnRDYXJkVmFyaWFudDEudnVlJzsKaW1wb3J0IEV2ZW50Q2FyZFZhcmlhbnQ2IGZyb20gJ0Bjb3JlL3NoYXJlZC9jb21wb25lbnRzL2V2ZW50L0V2ZW50Q2FyZFZhcmlhbnQ2LnZ1ZSc7CmltcG9ydCBTZWFyY2hSZXN1bHROb0RhdGEgZnJvbSAnQGNvcmUvc2hhcmVkL2NvbXBvbmVudHMvc2VhcmNoL2NvbW1vbi9TZWFyY2hSZXN1bHROb0RhdGEudnVlJzsKaW1wb3J0IFNlZU1vcmVCdXR0b24gZnJvbSAnQGNvcmUvc2hhcmVkL2NvbXBvbmVudHMvYnV0dG9ucy9TZWVNb3JlQnV0dG9uLnZ1ZSc7CmltcG9ydCBEYXRhTG9hZGluZyBmcm9tICdAY29yZS9zaGFyZWQvY29tcG9uZW50cy9sb2FkaW5nL0RhdGFMb2FkaW5nLnZ1ZSc7Cgpjb25zdCBTVE9SRV9OQU1FID0gJ2V2ZW50cyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnRXZlbnRzU2VhcmNoQnknLAogICAgY29tcG9uZW50czogewogICAgICAgIERhdGFMb2FkaW5nLAogICAgICAgIEV2ZW50Q2FyZFZhcmlhbnQxLAogICAgICAgIEV2ZW50Q2FyZFZhcmlhbnQ2LAogICAgICAgIFNlYXJjaFJlc3VsdE5vRGF0YSwKICAgICAgICBTZWVNb3JlQnV0dG9uCiAgICB9LAogICAgaTE4bk9wdGlvbnM6IHsKICAgICAgICBuYW1lc3BhY2VzOiAnc2hhcmVkJywKICAgICAgICBrZXlQcmVmaXg6ICdjb21wb25lbnRzLnNlYXJjaC5ldmVudHNTZWFyY2hCeScKICAgIH0sCiAgICB0ZXN0SWRPcHRpb25zOiB7CiAgICAgICAga2V5UHJlZml4OiAnc2VhcmNoLmV2ZW50c1RhYicKICAgIH0sCiAgICBwcm9wczogewogICAgICAgIHNlYXJjaDogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB3aXRoVXNlckFuYWx5dGljczogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgZXhwYW5kYWJsZUNhcmQ6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBTdGF0ZSggewogICAgICAgICAgICBzZWFyY2hTdGF0ZTogICAgICAgICAgICAgc3RhdGUgPT4gc3RhdGUuc2VhcmNoU3RhdGUuY3VycmVudCwKICAgICAgICAgICAgZXZlbnRzOiAgICAgICAgICAgICAgICAgIHN0YXRlID0+IHN0YXRlW1NUT1JFX05BTUVdLmxpc3QsCiAgICAgICAgICAgIGxvYWRpbmc6ICAgICAgICAgICAgICAgICBzdGF0ZSA9PiBzdGF0ZVtTVE9SRV9OQU1FXS5sb2FkaW5nCiAgICAgICAgfSApLAogICAgICAgIC4uLm1hcEdldHRlcnMoIHsKICAgICAgICAgICAgaXNBbGxJdGVtc0xvYWRlZDogIGAkeyBTVE9SRV9OQU1FIH0vaXNBbGxJdGVtc0xvYWRlZGAsCiAgICAgICAgICAgIGlzTG95YWx0eUN1cnJlbmN5VHlwZU1vbmV5OiAnYXBwVGVuYW50L2lzTG95YWx0eUN1cnJlbmN5VHlwZU1vbmV5JwogICAgICAgIH0gKSwKICAgICAgICBub0RhdGEoKSB7CiAgICAgICAgICAgIHJldHVybiAhdGhpcy5ldmVudHMubGVuZ3RoOwogICAgICAgIH0sCiAgICAgICAgc2VhcmNoUGFyYW0oICkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgbGltaXQ6IDYsCiAgICAgICAgICAgICAgICAuLi50aGlzLnNlYXJjaAogICAgICAgICAgICB9OwogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICdzZWFyY2gnOiB7CiAgICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uICggKSB7CiAgICAgICAgICAgICAgICB0aGlzLmxvYWREYXRhRGVib3VjZWQoICk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRlZXA6IHRydWUKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoIHsKICAgICAgICAgICAgZ2V0OiAgICBgJHsgU1RPUkVfTkFNRSB9L2dldGAKICAgICAgICB9ICksCiAgICAgICAgbG9hZE5leHRQYWdlICggKSB7CiAgICAgICAgICAgIHRoaXMuZ2V0KCB7IHJlZnJlc2g6IGZhbHNlLCBsb2FkTmV4dFBhZ2U6IHRydWUsIHNlYXJjaDogdGhpcy5zZWFyY2hQYXJhbSwgdXNlckFuYWx5dGljczogdGhpcy53aXRoVXNlckFuYWx5dGljcyB9ICk7CiAgICAgICAgfSwKICAgICAgICBsb2FkRGF0YURlYm91Y2VkOiBkZWJvdW5jZSggZnVuY3Rpb24gKCApIHsKICAgICAgICAgICAgdGhpcy5sb2FkKCApOwogICAgICAgIH0sIDUwMCApLAogICAgICAgIGxvYWQoICkgewogICAgICAgICAgICB0aGlzLmdldCggeyByZWZyZXNoOiB0cnVlLCBsb2FkTmV4dFBhZ2U6IGZhbHNlLCBzZWFyY2g6IHsgLi4udGhpcy5zZWFyY2hQYXJhbSwgY291bnQ6IHRydWUgfSB9ICk7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5sb2FkKCApOwogICAgfQp9Owo="},{"version":3,"sources":["EventsSearchBy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EventsSearchBy.vue","sourceRoot":"src/core/shared/components/event","sourcesContent":["<template>\n    <div>\n        <DataLoading v-if=\"loading && !events.length\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n        <template v-else>\n            <div v-if=\"!noData\">\n                <v-list class=\"pt-0\">\n                    <v-list-item\n                        v-for=\"(event, index) in events\"\n                        :key=\"index\"\n                        class=\"px-0 gst-tabs-item_item\"\n                        :class=\"{\n                            'py-2': !expandableCard,\n                            'py-1': expandableCard\n                        }\"\n                        :to=\"!expandableCard ? { name:'event', params: { id: event.id } } : null\">\n                        <EventCardVariant1 \n                            v-if=\"!expandableCard\"\n                            :with-price-icon=\"true\"\n                            :event=\"event\"\n                            :is-loyalty-currency-type-money=\"isLoyaltyCurrencyTypeMoney\"\n                            class=\"u-background-transparent u-width-100\" />\n                        <EventCardVariant6 \n                            v-else\n                            :with-price-icon=\"true\"\n                            :event=\"event\"\n                            :is-loyalty-currency-type-money=\"isLoyaltyCurrencyTypeMoney\"\n                            class=\"u-background-transparent u-width-100\" />\n                    </v-list-item>\n                </v-list>\n                <SeeMoreButton\n                    v-if=\"!isAllItemsLoaded\"\n                    :data-test-id=\"$testId('buttons.seeMore')\"\n                    class=\"mx-auto d-flex mt-4\"\n                    :loading=\"loading\"\n                    @click=\"loadNextPage()\" />\n            </div>\n            <div v-else class=\"d-flex justify-center\">\n                <slot v-if=\"$slots['empty-list']\" name=\"empty-list\"></slot>\n                <SearchResultNoData v-else>\n                    {{ $t(\"messages.noData\") }}\n                </SearchResultNoData>\n            </div>\n        </template>\n    </div>\n</template>\n<script>\n    import debounce from 'lodash/debounce';\n    import { mapActions, mapState, mapGetters } from 'vuex';\n    import EventCardVariant1 from '@core/shared/components/event/EventCardVariant1.vue';\n    import EventCardVariant6 from '@core/shared/components/event/EventCardVariant6.vue';\n    import SearchResultNoData from '@core/shared/components/search/common/SearchResultNoData.vue';\n    import SeeMoreButton from '@core/shared/components/buttons/SeeMoreButton.vue';\n    import DataLoading from '@core/shared/components/loading/DataLoading.vue';\n\n    const STORE_NAME = 'events';\n\n    export default {\n        name: 'EventsSearchBy',\n        components: {\n            DataLoading,\n            EventCardVariant1,\n            EventCardVariant6,\n            SearchResultNoData,\n            SeeMoreButton\n        },\n        i18nOptions: {\n            namespaces: 'shared',\n            keyPrefix: 'components.search.eventsSearchBy'\n        },\n        testIdOptions: {\n            keyPrefix: 'search.eventsTab'\n        },\n        props: {\n            search: {\n                type: Object,\n                required: true\n            },\n            withUserAnalytics: {\n                type: Boolean,\n                default: false\n            },\n            expandableCard: {\n                type: Boolean,\n                default: false\n            }\n        },\n        computed: {\n            ...mapState( {\n                searchState:             state => state.searchState.current,\n                events:                  state => state[STORE_NAME].list,\n                loading:                 state => state[STORE_NAME].loading\n            } ),\n            ...mapGetters( {\n                isAllItemsLoaded:  `${ STORE_NAME }/isAllItemsLoaded`,\n                isLoyaltyCurrencyTypeMoney: 'appTenant/isLoyaltyCurrencyTypeMoney'\n            } ),\n            noData() {\n                return !this.events.length;\n            },\n            searchParam( ) {\n                return {\n                    limit: 6,\n                    ...this.search\n                };\n            }\n        },\n        watch: {\n            'search': {\n                handler: function ( ) {\n                    this.loadDataDebouced( );\n                },\n                deep: true\n            }\n        },\n        methods: {\n            ...mapActions( {\n                get:    `${ STORE_NAME }/get`\n            } ),\n            loadNextPage ( ) {\n                this.get( { refresh: false, loadNextPage: true, search: this.searchParam, userAnalytics: this.withUserAnalytics } );\n            },\n            loadDataDebouced: debounce( function ( ) {\n                this.load( );\n            }, 500 ),\n            load( ) {\n                this.get( { refresh: true, loadNextPage: false, search: { ...this.searchParam, count: true } } );\n            }\n        },\n        mounted() {\n            this.load( );\n        }\n    };\n</script>\n"]}]}