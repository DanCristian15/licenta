{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/views/cart/TheCheckout/PaymentProvider.vue?vue&type=style&index=0&id=747a5e5e&lang=scss&scoped=true&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/views/cart/TheCheckout/PaymentProvider.vue","mtime":1645805365986},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/css-loader/dist/cjs.js","mtime":1637061260154},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1637061260528},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/postcss-loader/src/index.js","mtime":1637061260465},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/sass-loader/dist/cjs.js","mtime":1637061279772},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmdzdC1wYXltZW50LXByb3ZpZGVyLAouZ3N0LXBheW1lbnQtcHJvdmlkZXJfX2xvYWRpbmctb3ZlcmxheSB7CiAgICBtaW4taGVpZ2h0OiAxMDBweDsKfQo="},{"version":3,"sources":["PaymentProvider.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgJA;AACA;AACA;AACA","file":"PaymentProvider.vue","sourceRoot":"src/tenants/ticketmaster/app/views/cart/TheCheckout","sourcesContent":["<template>\n    <div class=\"gst-payment-provider\">\n        <DataLoadingOverlay\n            class=\"gst-payment-provider__loading-overlay\"\n            :show=\"isLoading\"\n            color=\"white\"\n            opacity=\"1\">\n            <div :id=\"paymentClientContainerId\" :key=\"paymentClientModel.token\"></div>\n        </DataLoadingOverlay>\n    </div>\n</template>\n\n<script>\n    import { mapState } from 'vuex';\n    import apiPaymentClient from '@core/api/apiPaymentClient';\n    import DataLoadingOverlay from '@/core/shared/components/loading/DataLoadingOverlay.vue';\n\n    export default {\n        name: 'PaymentProvider',\n        components: {\n            DataLoadingOverlay\n        },\n        props: {\n            paymentClientModel: {\n                type: Object,\n                required: true\n            },\n            paymentClientContainerId: {\n                type: String,\n                default: 'paymentClient'\n            }\n        },\n        i18nOptions: {\n            namespaces: 'main',\n            keyPrefix: 'views.cart.theCheckout'\n        },\n        data() {\n            return {\n                isLoading: true\n            };\n        },\n        computed: {\n            ...mapState( {\n                language: state => state.appState.language,\n            } ),\n            paymentClientContainerConfig( ) {\n                const { language } = this;\n\n                return {\n                    locale: language,\n                    vaultManager: false,\n                    translations: {\n                        expirationDateLabelSubheading: null,\n                        cvvThreeDigitLabelSubheading: null,\n                        cvvLabel: this.$t( '_components.fieldsets.paymentFieldset.labels.cardCVV' )\n                    },\n                    card: {\n                        overrides: {\n                            fields: {\n                                number: {\n                                    placeholder: null\n                                },\n                                expirationDate: {\n                                    placeholder: null\n                                },\n                                cvv: {\n                                    placeholder: null\n                                }\n                            },\n                            styles: {\n                                input: {\n                                    'font-size': '14px',\n                                    'font-weight': 400,\n                                    'padding-left': '10px',\n                                    'color': '#1F262D',\n                                },\n                                '.invalid': {\n                                    'color': '#C33764'\n                                },\n                            }\n                        },\n                    }\n                };\n            }\n        },\n        watch: {\n            'paymentClientModel.token': {\n                handler: async function ( value, oldValue ) {\n                    if ( value && value !== oldValue ) {\n                        await this.openPaymentIframe( );\n                    }\n                },\n                immediate: true\n            }\n        },\n        methods: {\n            async openPaymentIframe( ) {\n                const { paymentClientModel, paymentClientContainerId, paymentClientContainerConfig } = this;\n\n                if ( this._instancePaymentClient ) {\n                    this._instancePaymentClient.off( 'card:validityChange', this.onCardValidityChangeDo );\n                }\n\n                return new Promise ( ( resolve ) => {\n                    apiPaymentClient.openPaymentIFrame(\n                        paymentClientModel.token,\n                        `#${paymentClientContainerId}`,\n                        paymentClientContainerConfig,\n                        ( createError, instancePaymentClient ) => {\n                            this.isLoading = false;\n\n                            if ( createError ) {\n                                resolve( false );\n                                return;\n                            }\n                            this._instancePaymentClient = instancePaymentClient;\n                            instancePaymentClient.on( 'card:validityChange', this.onCardValidityChangeDo );\n                            this.$emit( 'instancePaymentClientComputed', instancePaymentClient );\n\n                            resolve( true );\n                        }\n                    );\n                } );\n            },\n            onCardValidityChangeDo( event ) {\n                const validPaymentFields = Object.values( event.fields ).every( field => field.isValid );\n\n                this.$emit( 'updatePaymentFieldsValidity', validPaymentFields );\n            }\n        },\n        async mounted( ) {\n            this._instancePaymentClient = null;\n            await apiPaymentClient.loadClient( );\n            this.$emit( 'updatePaymentFieldsValidity', false );\n        },\n        destroyed( ) {\n            if ( this._instancePaymentClient ) {\n                this._instancePaymentClient.off( 'card:validityChange', this.onCardValidityChangeDo );\n            }\n        }\n    };\n</script>\n\n<style lang=\"scss\" scoped>\n    .gst-payment-provider,\n    .gst-payment-provider__loading-overlay {\n        min-height: 100px;\n    }\n</style>\n\n<style lang=\"scss\">\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .braintree-sheet {\n        border: none;\n        font-family: \"Averta Std\", sans-serif !important;\n    }\n\n    .braintree-sheet__content--form {\n        padding: 0;\n\n        .braintree-form__field-group {\n            .braintree-form__label {\n                line-height: line-height( 'xl' );\n                color: theme-color( 'quaternary' );\n                font-size: font-size( 's' );\n                font-weight: normal;\n            }\n        }\n\n        .braintree-form__flexible-fields {\n            display: flex;\n            flex-wrap: nowrap;\n            justify-content: flex-start;\n\n            .braintree-form__field-group:first-child {\n                padding-left: theme-spacing( 0 );\n            }\n\n            .braintree-form__field-group {\n                margin-top: theme-spacing( 3 );\n            }\n        }\n    }\n\n    .braintree-sheet__header {\n        display: none;\n    }\n\n    .braintree-placeholder {\n        display: none;\n    }\n\n    .braintree-form__hosted-field {\n        border: 1px solid theme-color( 'septenary' ) !important;\n        background: #FFFFFF !important;\n        box-sizing: border-box;\n        box-shadow: inset 0 2px 4px rgba( 0, 0, 0, 0.1 );\n        border-radius: 2px;\n        max-height: 36px;\n\n        .braintree-form-expiration {\n            max-width: 166px !important;\n        }\n    }\n\n    .braintree-form__icon-container,\n    .braintree-form__icon.braintree-form__field-error-icon {\n        display: none !important;\n    }\n\n    .braintree-form__field-group[data-braintree-id=\"number-field-group\"].braintree-form__field-group.braintree-form__field-group {\n        position: relative;\n        padding-left: theme-spacing( 0 );\n\n        .braintree-form__hosted-field {\n            padding-left: theme-spacing( 11 );\n        }\n\n        .braintree-form__hosted-field::before {\n            display: block;\n            position: absolute;\n            top: 6px;\n            left: theme-spacing( 4 );\n            height: 24px;\n            width: 24px;\n            content: ' ';\n            background-image: url( '~@tenants/ticketmaster/app/assets/icons/credit-card.png' );\n            background-size: 24px 24px;\n        }\n    }\n\n    .braintree-form__field-group[data-braintree-id=\"number-field-group\"].braintree-form__field-group.braintree-form__field-group--is-focused {\n        .braintree-form-number {\n            border-color: theme-color( 'primary' ) !important;\n        }\n    }\n\n    .braintree-form__field-group[data-braintree-id=\"cvv-field-group\"].braintree-form__field-group.braintree-form__field-group {\n        .braintree-form__field::before {\n            display: block;\n            position: absolute;\n            top: 10px;\n            left: 205px;\n            height: 28px;\n            line-height: line-height( 'm' );\n            color: theme-color( 'tertiary' );\n            font-size: font-size( 'xxs' );\n            font-weight: normal;\n            content: '3-digits on back of card';\n            background-size: 24px 24px;\n            min-width: 165px;\n\n            @include mobile-only {\n                top: 45px !important;\n                left: unset !important;\n                right: 0 !important;\n                line-height: line-height( 's' ) !important;\n                font-size: font-size( 'xxxs' ) !important;\n                text-align: right !important;\n            }\n        }\n\n        .braintree-form__field::after {\n            display: block;\n            position: absolute;\n            top: 6px;\n            left: 175px;\n            height: 24px;\n            width: 24px;\n            content: '';\n            background-image: url( '~@tenants/ticketmaster/app/assets/icons/credit-card-cvv.png' );\n            background-size: 24px 24px;\n\n            @include mobile-only {\n                top: 41px !important;\n                left: unset !important;\n                right: 125px !important;\n                line-height: line-height( 's' ) !important;\n                font-size: font-size( 'xxxs' ) !important;\n                text-align: right !important;\n            }\n        }\n    }\n\n    .braintree-form__field-group[data-braintree-id=\"cvv-field-group\"].braintree-form__field-group.braintree-form__field-group--has-error {\n        .braintree-form__icon-container {\n            display: block;\n        }\n\n        .braintree-form__field::before {\n            @include mobile-only {\n                top: theme-spacing( 16 ) !important;\n            }\n        }\n\n        .braintree-form__field::after {\n            @include mobile-only {\n                top: theme-spacing( 15 ) !important;\n            }\n        }\n    }\n\n    .braintree-form__field-group[data-braintree-id=\"number-field-group\"].braintree-form__field-group.braintree-form__field-group--has-error,\n    .braintree-form__field-group[data-braintree-id=\"expiration-date-field-group\"].braintree-form__field-group.braintree-form__field-group--has-error,\n    .braintree-form__field-group[data-braintree-id=\"cvv-field-group\"].braintree-form__field-group.braintree-form__field-group--has-error {\n        .braintree-form__hosted-field::after {\n            display: block;\n            position: absolute;\n            top: 8px;\n            right: 3px;\n            height: 24px;\n            width: 24px;\n            content: ' ';\n            background-image: url( \"data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath class='gst-svg-icon' d='M10 .833a9.167 9.167 0 1 1 0 18.334A9.167 9.167 0 0 1 10 .833v0ZM10 10.417V6.25M10 14.167v-.834' stroke='%23D93A3A' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E\" );\n            background-size: 18px 18px;\n        }\n\n        .braintree-form__label {\n            color: #C33764 !important;\n        }\n\n        .braintree-form__hosted-field {\n            border-color: #C33764 !important;\n        }\n    }\n\n    .braintree-form__field-group[data-braintree-id=\"expiration-date-field-group\"],\n    .braintree-form__field-group[data-braintree-id=\"cvv-field-group\"] {\n        margin-top: 6px;\n        flex-grow: unset;\n        flex-basis: unset;\n        max-width: 166px;\n    }\n\n    .braintree-form__field-group[data-braintree-id=\"expiration-date-field-group\"] {\n        margin-right: 14px;\n    }\n\n    .braintree-form__field-group[data-braintree-id=\"number-field-group\"].braintree-form__field-group.braintree-form__field-group,\n    .braintree-form__field-group[data-braintree-id=\"expiration-date-field-group\"].braintree-form__field-group.braintree-form__field-group,\n    .braintree-form__field-group[data-braintree-id=\"cvv-field-group\"].braintree-form__field-group.braintree-form__field-group {\n        .braintree-form__hosted-field.braintree-hosted-fields-valid::after {\n            display: block;\n            position: absolute;\n            top: 8px;\n            right: 3px;\n            height: 24px;\n            width: 24px;\n            content: ' ';\n            background-image: url( \"data:image/svg+xml,%3Csvg width='22' height='22' viewBox='0 0 22 22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 22C8.06126 22 5.29968 20.856 3.22126 18.7787C1.14284 16.7014 0 13.9387 0 11.0011C0 8.06241 1.144 5.30083 3.22126 3.22241C5.29853 1.144 8.06126 0 11 0C13.9387 0 16.7003 1.144 18.7787 3.22241C20.8572 5.30083 22 8.06241 22 11.0011C22 13.9399 20.856 16.7014 18.7787 18.7787C17.7596 19.8033 16.5473 20.6156 15.212 21.1685C13.8768 21.7214 12.4452 22.004 11 22ZM11 1.15789C5.57295 1.15789 1.15789 5.57294 1.15789 11C1.15789 16.427 5.57295 20.8421 11 20.8421C16.4271 20.8421 20.8421 16.427 20.8421 11C20.8421 5.57294 16.4271 1.15789 11 1.15789Z' fill='%231BAB1E'/%3E%3Cpath d='M8.68379 15.6316C8.53019 15.6316 8.38282 15.5708 8.2739 15.4626L4.80021 11.9889C4.69475 11.8797 4.6364 11.7334 4.63772 11.5816C4.63904 11.4298 4.69992 11.2846 4.80726 11.1773C4.91461 11.07 5.05981 11.0091 5.21161 11.0078C5.36341 11.0064 5.50965 11.0648 5.61884 11.1702L8.68263 14.234L16.378 6.53868C16.4872 6.43322 16.6334 6.37486 16.7852 6.37618C16.937 6.3775 17.0822 6.43839 17.1896 6.54573C17.2969 6.65307 17.3578 6.79828 17.3591 6.95008C17.3604 7.10187 17.3021 7.24812 17.1966 7.35731L9.09137 15.4626C9.03758 15.5164 8.97367 15.559 8.90332 15.5881C8.83297 15.6171 8.75757 15.6319 8.68148 15.6316H8.68379Z' fill='%231BAB1E'/%3E%3C/svg%3E%0A\" );\n            background-size: 18px 18px;\n            fill: theme-color( 'success' );\n        }\n    }\n\n    .braintree-sheet--has-error {\n        .braintree-sheet {\n            border: none;\n        }\n\n        .braintree-sheet__error {\n            display: none;\n        }\n    }\n\n    .braintree-methods.braintree-methods-initial {\n        margin-top: theme-spacing( 2 );\n        margin-right: theme-spacing( n1 );\n\n        .braintree-method {\n            width: 100%;\n            margin-bottom: theme-spacing( 6 );\n        }\n    }\n\n    .braintree-loaded .braintree-upper-container::before {\n        background: theme-color( 'white' );\n    }\n\n    .braintree-large-button.braintree-toggle:not(.braintree-hidden) {\n        display: inline-flex;\n        padding: theme-spacing( 0 );\n        margin-bottom: theme-spacing( 5 );\n        background: theme-color( 'transparent' );\n        color: theme-color( 'primary' );\n        font-weight: font-weight( 'large' );\n\n        span {\n            border: 0;\n        }\n    }\n</style>"]}]}