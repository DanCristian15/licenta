{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/shared/components/wizard/Control.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/shared/components/wizard/Control.vue","mtime":1645805363978},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiB7CiAgICAgICAgc3RlcHM6IHsKICAgICAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfSwKICAgICAgICBidXNFdmVudHM6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwKICAgICAgICB9LAogICAgICAgIGNvbnRyb2xCeVJvdXRlOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9LAogICAgICAgIHJvdXRlU3RlcFBhcmFtTmFtZTogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICdzdGVwJwogICAgICAgIH0sCiAgICAgICAgc3RhcnRJbmRleDogewogICAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICAgIGRlZmF1bHQ6IDAKICAgICAgICB9LAogICAgICAgIGRlc3Ryb3lTdGVwczogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY3VycmVudEluZGV4OiB0aGlzLnN0YXJ0SW5kZXgsCiAgICAgICAgICAgIG1heFZpc2l0ZWRTdGVwOiAwCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIGN1cnJlbnRTbG90KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5zdGVwc1t0aGlzLmN1cnJlbnRJbmRleF0uc2xvdDsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIG5leHRTdGVwKCApIHsKICAgICAgICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IHRoaXMuY3VycmVudEluZGV4LAogICAgICAgICAgICAgICAgc3RlcHMgPSB0aGlzLnN0ZXBzLAogICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlOwoKICAgICAgICAgICAgd2hpbGUgKCBjdXJyZW50SW5kZXggPCBzdGVwcy5sZW5ndGggJiYgIXN1Y2Nlc3MgKSB7CiAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXgrKzsKICAgICAgICAgICAgICAgIGlmICggc3RlcHNbIGN1cnJlbnRJbmRleCBdICYmICFzdGVwc1sgY3VycmVudEluZGV4IF0uaGlkZGVuICkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubWF4VmlzaXRlZFN0ZXAgPSBNYXRoLm1heCAoIHRoaXMubWF4VmlzaXRlZFN0ZXAsIGN1cnJlbnRJbmRleCApOwogICAgICAgICAgICAgICAgICAgIGlmICggIXRoaXMuY29udHJvbEJ5Um91dGUgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gY3VycmVudEluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCAnY2hhbmdlLWluZGV4JywgdGhpcy5jdXJyZW50SW5kZXggKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcm91dGVQYXJhbSA9IHt9OwoKICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVQYXJhbVt0aGlzLnJvdXRlU3RlcFBhcmFtTmFtZSBdID0gY3VycmVudEluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCggeyBuYW1lOiB0aGlzLiRyb3V0ZS5uYW1lLCBwYXJhbXM6IHJvdXRlUGFyYW0gfSApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcHJldmlvdXNTdGVwKCApIHsKICAgICAgICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IHRoaXMuY3VycmVudEluZGV4LAogICAgICAgICAgICAgICAgc3RlcHMgPSB0aGlzLnN0ZXBzLAogICAgICAgICAgICAgICAgc3VjY2VzcyA9IGZhbHNlOwoKICAgICAgICAgICAgd2hpbGUgKCBjdXJyZW50SW5kZXggPiAwICYmICFzdWNjZXNzICkgewogICAgICAgICAgICAgICAgY3VycmVudEluZGV4LS07CiAgICAgICAgICAgICAgICBpZiAoICFzdGVwc1sgY3VycmVudEluZGV4IF0uaGlkZGVuICkgewogICAgICAgICAgICAgICAgICAgIGlmICggIXRoaXMuY29udHJvbEJ5Um91dGUgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gY3VycmVudEluZGV4OwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCAnY2hhbmdlLWluZGV4JywgdGhpcy5jdXJyZW50SW5kZXggKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvdXRlUGFyYW0gPSB7fTsKICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVQYXJhbVt0aGlzLnJvdXRlU3RlcFBhcmFtTmFtZSBdID0gY3VycmVudEluZGV4OwoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIHsgbmFtZTogdGhpcy4kcm91dGUubmFtZSwgcGFyYW1zOiByb3V0ZVBhcmFtIH0gKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBnb1RvU3RlcCggc3RlcEluZGV4ICkgewogICAgICAgICAgICBjb25zdCB7IHN0ZXBzIH0gPSB0aGlzOwogICAgICAgICAgICBjb25zdCBzdGVwVG9HbyA9IHN0ZXBzWyBzdGVwSW5kZXggXTsKCiAgICAgICAgICAgIGlmICggc3RlcEluZGV4ID09PSB0aGlzLmN1cnJlbnRJbmRleCB8fCAhc3RlcFRvR28gfHwgc3RlcFRvR28uaGlkZGVuICkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICggIXRoaXMuY29udHJvbEJ5Um91dGUgKSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IHN0ZXBJbmRleDsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoICdjaGFuZ2UtaW5kZXgnLCB0aGlzLmN1cnJlbnRJbmRleCApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IHJvdXRlUGFyYW0gPSB7fTsKICAgICAgICAgICAgICAgIHJvdXRlUGFyYW1bdGhpcy5yb3V0ZVN0ZXBQYXJhbU5hbWUgXSA9IHN0ZXBJbmRleDsKCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCggeyBuYW1lOiB0aGlzLiRyb3V0ZS5uYW1lLCBwYXJhbXM6IHJvdXRlUGFyYW0gfSApOwogICAgICAgICAgICB9CgogICAgICAgIH0sCiAgICAgICAgdmFsaWRhdGVTdGVwKCBzdGVwICkgewogICAgICAgICAgICBsZXQgc3RlcE51bSA9IHBhcnNlSW50ICggc3RlcCApOwoKICAgICAgICAgICAgcmV0dXJuICEoIGlzTmFOKCBzdGVwTnVtICkgfHwgc3RlcE51bSA+IHRoaXMubWF4VmlzaXRlZFN0ZXAgfHwgdGhpcy5zdGVwc1tzdGVwTnVtXS5oaWRkZW4gKTsKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICAhdGhpcy5idXNFdmVudHMgfHwgdGhpcy5idXNFdmVudHMuJG9uKCAnbmV4dCcsIHRoaXMubmV4dFN0ZXAgKTsKICAgICAgICAhdGhpcy5idXNFdmVudHMgfHwgdGhpcy5idXNFdmVudHMuJG9uKCAnYmFjaycsIHRoaXMucHJldmlvdXNTdGVwICk7CiAgICAgICAgIXRoaXMuYnVzRXZlbnRzIHx8IHRoaXMuYnVzRXZlbnRzLiRvbiggJ2dvLXRvLXN0ZXAnLCB0aGlzLmdvVG9TdGVwICk7CgogICAgICAgIGlmICggdGhpcy5jb250cm9sQnlSb3V0ZSApIHsKICAgICAgICAgICAgbGV0IHJvdXRlU3RlcFBhcmFtID0gdGhpcy4kcm91dGUucGFyYW1zW3RoaXMucm91dGVTdGVwUGFyYW1OYW1lXSwKICAgICAgICAgICAgICAgIHJvdXRlTmFtZSA9IHRoaXMuJHJvdXRlLm5hbWUsCiAgICAgICAgICAgICAgICByb3V0ZVBhcmFtID0ge307CgogICAgICAgICAgICBpZiAoIHRoaXMuJHJvdXRlLnBhcmFtcy5yb2xsaW5nICkKICAgICAgICAgICAgICAgIHJvdXRlUGFyYW1bJ3JvbGxpbmcnXSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5yb2xsaW5nOwoKICAgICAgICAgICAgaWYgKCAhdGhpcy52YWxpZGF0ZVN0ZXAgKCByb3V0ZVN0ZXBQYXJhbSApICkgewogICAgICAgICAgICAgICAgcm91dGVQYXJhbVt0aGlzLnJvdXRlU3RlcFBhcmFtTmFtZSBdID0gMDsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCB7IG5hbWU6IHJvdXRlTmFtZSwgcGFyYW1zOiByb3V0ZVBhcmFtIH0gKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiR3YXRjaCggJyRyb3V0ZScsIGZ1bmN0aW9uICggdG8gKSB7CiAgICAgICAgICAgICAgICBsZXQgcm91dGVTdGVwUGFyYW0gPSB0by5wYXJhbXNbdGhpcy5yb3V0ZVN0ZXBQYXJhbU5hbWVdLAogICAgICAgICAgICAgICAgICAgIHJvdXRlTmFtZSA9IHRvLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgcm91dGVQYXJhbSA9IHt9OwoKICAgICAgICAgICAgICAgIGlmICggIXRoaXMudmFsaWRhdGVTdGVwKCByb3V0ZVN0ZXBQYXJhbSApICkgewogICAgICAgICAgICAgICAgICAgIHJvdXRlUGFyYW1bdGhpcy5yb3V0ZVN0ZXBQYXJhbU5hbWUgXSA9IHRoaXMuY3VycmVudEluZGV4OwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCB7IG5hbWU6IHJvdXRlTmFtZSwgcGFyYW1zOiByb3V0ZVBhcmFtIH0gKTsKICAgICAgICAgICAgICAgIH0gZWxzZXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IHBhcnNlSW50KCByb3V0ZVN0ZXBQYXJhbSApOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoICdjaGFuZ2UtaW5kZXgnLCB0aGlzLmN1cnJlbnRJbmRleCApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ICk7CiAgICAgICAgfQoKICAgIH0sCiAgICBkZXN0cm95ZWQoKSB7CiAgICAgICAgIXRoaXMuYnVzRXZlbnRzIHx8IHRoaXMuYnVzRXZlbnRzLiRvZmYoICduZXh0JyApOwogICAgICAgICF0aGlzLmJ1c0V2ZW50cyB8fCB0aGlzLmJ1c0V2ZW50cy4kb2ZmKCAnYmFjaycgKTsKICAgICAgICAhdGhpcy5idXNFdmVudHMgfHwgdGhpcy5idXNFdmVudHMuJG9mZiggJ2dvLXRvLXN0ZXAnICk7CiAgICB9LAoKfTsK"},{"version":3,"sources":["Control.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Control.vue","sourceRoot":"src/core/shared/components/wizard","sourcesContent":["<template>\r\n    <div>\r\n        <transition v-if=\"destroySteps\" name=\"fade\">\r\n            <slot :name=\"currentSlot\"></slot>\r\n        </transition>\r\n        <div v-if=\"!destroySteps\">\r\n            <transition v-for=\"step in steps\" :key=\"step.index\" name=\"fade\">\r\n                <div v-show=\"currentSlot === step.slot\">\r\n                    <slot :name=\"step.slot\"></slot>\r\n                </div>\r\n            </transition>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        props: {\r\n            steps: {\r\n                type: Array,\r\n                required: true\r\n            },\r\n            busEvents: {\r\n                type: Object,\r\n                required: false,\r\n                default: null\r\n            },\r\n            controlByRoute: {\r\n                type: Boolean,\r\n                required: false,\r\n                default: false\r\n            },\r\n            routeStepParamName: {\r\n                type: String,\r\n                default: 'step'\r\n            },\r\n            startIndex: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            destroySteps: {\r\n                type: Boolean,\r\n                default: true\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                currentIndex: this.startIndex,\r\n                maxVisitedStep: 0\r\n            };\r\n        },\r\n        computed: {\r\n            currentSlot() {\r\n                return this.steps[this.currentIndex].slot;\r\n            }\r\n        },\r\n        methods: {\r\n            nextStep( ) {\r\n                let currentIndex = this.currentIndex,\r\n                    steps = this.steps,\r\n                    success = false;\r\n\r\n                while ( currentIndex < steps.length && !success ) {\r\n                    currentIndex++;\r\n                    if ( steps[ currentIndex ] && !steps[ currentIndex ].hidden ) {\r\n                        this.maxVisitedStep = Math.max ( this.maxVisitedStep, currentIndex );\r\n                        if ( !this.controlByRoute ) {\r\n                            this.currentIndex = currentIndex;\r\n                            this.$emit( 'change-index', this.currentIndex );\r\n                        } else {\r\n                            let routeParam = {};\r\n\r\n                            routeParam[this.routeStepParamName ] = currentIndex;\r\n                            this.$router.push( { name: this.$route.name, params: routeParam } );\r\n                        }\r\n                        success = true;\r\n                    }\r\n                }\r\n            },\r\n            previousStep( ) {\r\n                let currentIndex = this.currentIndex,\r\n                    steps = this.steps,\r\n                    success = false;\r\n\r\n                while ( currentIndex > 0 && !success ) {\r\n                    currentIndex--;\r\n                    if ( !steps[ currentIndex ].hidden ) {\r\n                        if ( !this.controlByRoute ) {\r\n                            this.currentIndex = currentIndex;\r\n                            this.$emit( 'change-index', this.currentIndex );\r\n                            success = true;\r\n                        } else {\r\n                            let routeParam = {};\r\n                            routeParam[this.routeStepParamName ] = currentIndex;\r\n\r\n                            this.$router.push( { name: this.$route.name, params: routeParam } );\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            goToStep( stepIndex ) {\r\n                const { steps } = this;\r\n                const stepToGo = steps[ stepIndex ];\r\n\r\n                if ( stepIndex === this.currentIndex || !stepToGo || stepToGo.hidden ) {\r\n                    return;\r\n                }\r\n                if ( !this.controlByRoute ) {\r\n                    this.currentIndex = stepIndex;\r\n                    this.$emit( 'change-index', this.currentIndex );\r\n                } else {\r\n                    let routeParam = {};\r\n                    routeParam[this.routeStepParamName ] = stepIndex;\r\n\r\n                    this.$router.push( { name: this.$route.name, params: routeParam } );\r\n                }\r\n\r\n            },\r\n            validateStep( step ) {\r\n                let stepNum = parseInt ( step );\r\n\r\n                return !( isNaN( stepNum ) || stepNum > this.maxVisitedStep || this.steps[stepNum].hidden );\r\n            }\r\n        },\r\n        created() {\r\n            !this.busEvents || this.busEvents.$on( 'next', this.nextStep );\r\n            !this.busEvents || this.busEvents.$on( 'back', this.previousStep );\r\n            !this.busEvents || this.busEvents.$on( 'go-to-step', this.goToStep );\r\n\r\n            if ( this.controlByRoute ) {\r\n                let routeStepParam = this.$route.params[this.routeStepParamName],\r\n                    routeName = this.$route.name,\r\n                    routeParam = {};\r\n\r\n                if ( this.$route.params.rolling )\r\n                    routeParam['rolling'] = this.$route.params.rolling;\r\n\r\n                if ( !this.validateStep ( routeStepParam ) ) {\r\n                    routeParam[this.routeStepParamName ] = 0;\r\n                    this.$router.replace( { name: routeName, params: routeParam } );\r\n                }\r\n                this.$watch( '$route', function ( to ) {\r\n                    let routeStepParam = to.params[this.routeStepParamName],\r\n                        routeName = to.name,\r\n                        routeParam = {};\r\n\r\n                    if ( !this.validateStep( routeStepParam ) ) {\r\n                        routeParam[this.routeStepParamName ] = this.currentIndex;\r\n                        this.$router.replace( { name: routeName, params: routeParam } );\r\n                    } else{\r\n                        this.currentIndex = parseInt( routeStepParam );\r\n                        this.$emit( 'change-index', this.currentIndex );\r\n                    }\r\n                } );\r\n            }\r\n\r\n        },\r\n        destroyed() {\r\n            !this.busEvents || this.busEvents.$off( 'next' );\r\n            !this.busEvents || this.busEvents.$off( 'back' );\r\n            !this.busEvents || this.busEvents.$off( 'go-to-step' );\r\n        },\r\n\r\n    };\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .fade-enter-active,\r\n    .fade-leave-active {\r\n        transition: opacity 0.5s;\r\n    }\r\n\r\n    .fade-enter,\r\n    .fade-leave-to {\r\n        height: 0;\r\n        opacity: 0;\r\n    }\r\n</style>\r\n"]}]}