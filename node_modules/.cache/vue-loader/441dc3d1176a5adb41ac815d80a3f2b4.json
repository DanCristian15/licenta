{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/shared/components/lists/InfiniteCardList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/shared/components/lists/InfiniteCardList.vue","mtime":1645805363960},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnOwppbXBvcnQgRGF0YUxvYWRpbmcgZnJvbSAnQHNoYXJlZC9jb21wb25lbnRzL2xvYWRpbmcvRGF0YUxvYWRpbmcudnVlJzsKaW1wb3J0IFNlZU1vcmVCdXR0b24gZnJvbSAnQGNvcmUvc2hhcmVkL2NvbXBvbmVudHMvYnV0dG9ucy9TZWVNb3JlQnV0dG9uLnZ1ZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnSW5maW5pdGVDYXJkTGlzdCcsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgRGF0YUxvYWRpbmcsCiAgICAgICAgU2VlTW9yZUJ1dHRvbgogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgY29uZmlnOiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGJ1c0V2ZW50c1BhcmVudDogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwKICAgICAgICB9LAogICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfSwKICAgICAgICBrZXlGaWVsZDogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICdpZCcKICAgICAgICB9LAogICAgICAgIGFsbERhdGFMb2FkZWQ6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9LAogICAgICAgIGxvYWRpbmc6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgaGFzTG9hZEJ1dHRvbjogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiB0cnVlCiAgICAgICAgfSwKICAgICAgICB0ZXN0SWRQcmVmaXg6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAnJwogICAgICAgIH0sCiAgICAgICAgaXRlbUNsYXNzZXM6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAncGwtMCBwci0wIG1yLTQnCiAgICAgICAgfSwKICAgICAgICBwcmVmaWxsOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBsaXN0Q2xhc3NlczogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnCiAgICAgICAgfSwKICAgICAgICBpc0l0ZW1MaW5rOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBpc0luZmluaXRlU2Nyb2xsRGlzYWJsZWQoICkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5oYXNMb2FkQnV0dG9uIHx8IHRoaXMuYWxsRGF0YUxvYWRlZDsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHByb3BzVG9CaW5kKCBpdGVtICkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcucHJvcHNUb0JpbmQgPyB0aGlzLmNvbmZpZy5wcm9wc1RvQmluZCggaXRlbSApIDogaXRlbTsKICAgICAgICB9LAogICAgICAgIGxvYWRNb3JlOiBkZWJvdW5jZSggZnVuY3Rpb24gKCApIHsKICAgICAgICAgICAgaWYgKCAhdGhpcy5hbGxEYXRhTG9hZGVkICYmICF0aGlzLmxvYWRpbmcgKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCAnbG9hZC1tb3JlJyApOwogICAgICAgICAgICB9CiAgICAgICAgfSwgNTAgKSwKICAgIH0sCiAgICBtb3VudGVkKCApIHsKICAgICAgICBpZiAoIHRoaXMucHJlZmlsbCAmJiAhdGhpcy5oYXNMb2FkQnV0dG9uICYmICF0aGlzLmFsbERhdGFMb2FkZWQgKSB7CiAgICAgICAgICAgIHRoaXMudW53YXRjaERhdGEgPSB0aGlzLiR3YXRjaCggJ2RhdGEnLCBmdW5jdGlvbiAoICkgewogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soIGZ1bmN0aW9uICggKSAgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gdGhpcy4kcmVmcy5jb250YWluZXI7CiAgICAgICAgICAgICAgICAgICAgaWYgKCBlbC5zY3JvbGxIZWlnaHQgPD0gZWwuY2xpZW50SGVpZ2h0ICkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRNb3JlKCApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gKTsKICAgICAgICAgICAgfSwgIHsgZGVlcDogdHJ1ZSB9ICk7CiAgICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3llZCggKSB7CiAgICAgICAgIXRoaXMudW53YXRjaERhdGEgfHwgdGhpcy51bndhdGNoRGF0YSggKTsKICAgIH0KfTsK"},{"version":3,"sources":["InfiniteCardList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InfiniteCardList.vue","sourceRoot":"src/core/shared/components/lists","sourcesContent":["<template>\n    <div class=\"d-flex flex-column\">\n        <slot name=\"header\"></slot>\n        <div\n            ref=\"container\"\n            v-infinite-scroll=\"loadMore\"\n            infinite-scroll-disabled=\"isInfiniteScrollDisabled\"\n            infinite-scroll-distance=\"10\"\n            :style=\"{ flex: 1 }\"\n            class=\"overflow-y-auto\">\n            <slot name=\"inner-scroll-header\"></slot>\n            <slot v-if=\"loading && !data.length\" name=\"loading\"></slot>\n            <template v-else>\n                <div\n                    v-if=\"!data.length\"\n                    class=\"h-full w-full\"\n                    :class=\"config.emptyListClasses\">\n                    <slot name=\"empty-list\"></slot>\n                </div>\n                <v-list v-else\n                    class=\"h-auto w-full\"\n                    :class=\"listClasses\">\n                    <v-list-item\n                        v-for=\"( item, index ) in data\"\n                        :key=\"index\"\n                        :class=\"itemClasses\"\n                        :link=\"isItemLink\"\n                        @mouseenter=\"$emit( 'mouse-enter-item', item )\"\n                        @mouseleave=\"$emit( 'mouse-leave-item' )\">\n                        <component\n                            :is=\"config.card\"\n                            :key=\"item[keyField]\"\n                            :class=\"config.cardClasses && config.cardClasses\"\n                            v-bind=\"propsToBind( item )\"\n                            :bus-events-parent=\"busEventsParent\"\n                            @click=\"$emit('click-item', item )\" />\n                    </v-list-item>\n                    <div v-if=\"!allDataLoaded\" class=\"gst-load-more-container w-full my-4 flex items-center justify-center\">\n                        <DataLoading v-if=\"!hasLoadButton && loading\" />\n                        <slot name=\"see-more-button\">\n                            <SeeMoreButton\n                                v-if=\"hasLoadButton\"\n                                :data-test-id=\"$testId(testIdPrefix, 'buttons.seeMore')\"\n                                class=\"mx-auto d-flex mt-4\"\n                                :loading=\"loading\"\n                                @click=\"loadMore( )\" />\n                        </slot>\n                    </div>\n                </v-list>\n            </template>\n            <slot name=\"inner-scroll-footer\"></slot>\n        </div>\n        <slot name=\"footer\"></slot>\n    </div>\n</template>\n\n<script>\n    import debounce from 'lodash/debounce';\n    import DataLoading from '@shared/components/loading/DataLoading.vue';\n    import SeeMoreButton from '@core/shared/components/buttons/SeeMoreButton.vue';\n\n    export default {\n        name: 'InfiniteCardList',\n        components: {\n            DataLoading,\n            SeeMoreButton\n        },\n        props: {\n            config: {\n                type: Object,\n                required: true\n            },\n            busEventsParent: {\n                type: Object,\n                default: null\n            },\n            data: {\n                type: Array,\n                required: true\n            },\n            keyField: {\n                type: String,\n                default: 'id'\n            },\n            allDataLoaded: {\n                type: Boolean,\n                default: false\n            },\n            loading: {\n                type: Boolean,\n                default: true\n            },\n            hasLoadButton: {\n                type: Boolean,\n                default: true\n            },\n            testIdPrefix: {\n                type: String,\n                default: ''\n            },\n            itemClasses: {\n                type: String,\n                default: 'pl-0 pr-0 mr-4'\n            },\n            prefill: {\n                type: Boolean,\n                default: false\n            },\n            listClasses: {\n                type: String,\n                default: ''\n            },\n            isItemLink: {\n                type: Boolean,\n                default: true\n            }\n        },\n        computed: {\n            isInfiniteScrollDisabled( ) {\n                return this.hasLoadButton || this.allDataLoaded;\n            }\n        },\n        methods: {\n            propsToBind( item ) {\n                return this.config.propsToBind ? this.config.propsToBind( item ) : item;\n            },\n            loadMore: debounce( function ( ) {\n                if ( !this.allDataLoaded && !this.loading ) {\n                    this.$emit( 'load-more' );\n                }\n            }, 50 ),\n        },\n        mounted( ) {\n            if ( this.prefill && !this.hasLoadButton && !this.allDataLoaded ) {\n                this.unwatchData = this.$watch( 'data', function ( ) {\n                    this.$nextTick( function ( )  {\n                        const el = this.$refs.container;\n                        if ( el.scrollHeight <= el.clientHeight ) {\n                            this.loadMore( );\n                        }\n                    } );\n                },  { deep: true } );\n            }\n        },\n        destroyed( ) {\n            !this.unwatchData || this.unwatchData( );\n        }\n    };\n</script>\n"]}]}