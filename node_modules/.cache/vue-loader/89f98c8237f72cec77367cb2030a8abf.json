{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/home/TheHome.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/home/TheHome.vue","mtime":1645980339983},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gvdGhyb3R0bGUnOwppbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJzsKaW1wb3J0IHsgaXNWaXNpYmxlT25WaWV3cG9ydCBhcyB2aWV3cG9ydFV0aWxzSXNWaXNpYmxlT25WaWV3cG9ydCB9IGZyb20gJ0Bjb3JlL3V0aWxzL3ZpZXdwb3J0VXRpbHMnOwppbXBvcnQgeyBpbWFnZXMgfSBmcm9tICdAY29yZS9zaGFyZWQvbW9ja2RhdGEvaW1hZ2VzLmpzJzsKaW1wb3J0IEltYWdlTWFzb25yeSBmcm9tICdAY29yZS9zaGFyZWQvY29tcG9uZW50cy9pbWFnZXMvSW1hZ2VNYXNvbnJ5LnZ1ZSc7CmltcG9ydCBCYXNlQmFubmVyIGZyb20gJ0Bjb3JlL3NoYXJlZC9jb21wb25lbnRzL21pc2MvQmFzZUJhbm5lci52dWUnOwppbXBvcnQgU2VhcmNoRmllbGRCYW5uZXIgZnJvbSAnLi9UaGVIb21lL1NlYXJjaEZpZWxkQmFubmVyJzsKaW1wb3J0IFRvcEV2ZW50c0NhcmRMaXN0IGZyb20gJy4vVGhlSG9tZS9Ub3BFdmVudHNDYXJkTGlzdC52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0hvbWUnLAogICAgbWV0YUluZm86IHsKICAgICAgICB0aXRsZTogJ0hvbWUnCiAgICB9LAogICAgaTE4bk9wdGlvbnM6IHsKICAgICAgICBuYW1lc3BhY2VzOiAnbWFpbicsCiAgICAgICAga2V5UHJlZml4OiAndmlld3MuaG9tZS50aGVIb21lJwogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBCYXNlQmFubmVyLAogICAgICAgIFNlYXJjaEZpZWxkQmFubmVyLAogICAgICAgIFRvcEV2ZW50c0NhcmRMaXN0LAogICAgICAgIEltYWdlTWFzb25yeQogICAgfSwKICAgIGRhdGEoICkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNob3dPdmVybGF5OiBmYWxzZSwKICAgICAgICAgICAgc2VhcmNoQmFubmVyVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIGltYWdlczogaW1hZ2VzCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcEdldHRlcnMoIHsKICAgICAgICAgICAgaXNMb3lhbHR5Q3VycmVuY3lUeXBlTW9uZXk6ICdhcHBUZW5hbnQvaXNMb3lhbHR5Q3VycmVuY3lUeXBlTW9uZXknLAogICAgICAgICAgICByZWNlbnRseVZpZXdlZEl0ZW1zOiAgJ3VzZXIvYnJvd3NpbmdIaXN0b3J5L2VudGl0aWVzRXZlbnRzQW5kQXR0cmFjdGlvbicKICAgICAgICB9ICksCiAgICAgICAgLi4ubWFwU3RhdGUoIHsKICAgICAgICAgICAgaG9tZVBhZ2VTdGF0ZTogc3RhdGUgPT4gc3RhdGUuYXBwU3RhdGUucGFnZS5ob21lLAogICAgICAgICAgICB1c2VyRmlyc3RBY2Nlc3NBcHA6ICAgICBzdGF0ZSA9PiBzdGF0ZS51c2VyLmZpcnN0QWNjZXNzCiAgICAgICAgfSApLAogICAgICAgIEp1c3RGb3JVc2VyRW50aXRpZXMoKSB7CiAgICAgICAgICAgIHJldHVybiAoKSA9PiBpbXBvcnQoICcuL1RoZUhvbWUvSnVzdEZvclVzZXJFbnRpdGllcy52dWUnICk7CiAgICAgICAgfSwKICAgICAgICBSZWNlbnRseVZpZXdlZEVudGl0aWVzKCkgewogICAgICAgICAgICByZXR1cm4gKCkgPT4gaW1wb3J0KCAnLi9UaGVIb21lL1JlY2VudGx5Vmlld2VkRW50aXRpZXMudnVlJyApOwogICAgICAgIH0sCiAgICAgICAgU2ltaWxhckF0dHJhY3Rpb25zKCkgewogICAgICAgICAgICByZXR1cm4gKCkgPT4gaW1wb3J0KCAnQGNvcmUvc2hhcmVkL2NvbXBvbmVudHMvYXR0cmFjdGlvbi9TaW1pbGFyQXR0cmFjdGlvbnMnICk7CiAgICAgICAgfSwKICAgICAgICBoYXNSZWNlbnRseVZpZXdlZCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVjZW50bHlWaWV3ZWRJdGVtcy5sZW5ndGg7CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKCB7CiAgICAgICAgICAgIHNldFBhZ2VQcm9wQXBwU3RhdGU6ICdhcHBTdGF0ZS9zZXRQYWdlUHJvcCcKICAgICAgICB9ICksCiAgICAgICAgc2V0UGFnZVN0YXRlU2hvd0hlYWRlciggdmFsdWUgKSB7CiAgICAgICAgICAgIHRoaXMuc2V0UGFnZVByb3BBcHBTdGF0ZSggewogICAgICAgICAgICAgICAgcGFnZTogJ2hvbWUnLAogICAgICAgICAgICAgICAgcHJvcDogJ3Nob3dIZWFkZXInLAogICAgICAgICAgICAgICAgdmFsdWUKICAgICAgICAgICAgfSApOwogICAgICAgIH0sCiAgICAgICAgY2hlY2tTZWFyY2hCYW5uZXJWaXNpYmxlKCApIHsKICAgICAgICAgICAgY29uc3Qgc2VhcmNoQmFubmVyID0gdGhpcy4kcmVmcy5zZWFyY2hCYW5uZXI7CgoKICAgICAgICAgICAgaWYgKCBzZWFyY2hCYW5uZXIgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEJhbm5lclZpc2libGUgPSB2aWV3cG9ydFV0aWxzSXNWaXNpYmxlT25WaWV3cG9ydCggc2VhcmNoQmFubmVyLiRlbCwgNjAgKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoQmFubmVyVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICggdGhpcy5ob21lUGFnZVN0YXRlLnNob3dIZWFkZXIgIT09ICF0aGlzLnNlYXJjaEJhbm5lclZpc2libGUgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNldFBhZ2VTdGF0ZVNob3dIZWFkZXIoICF0aGlzLnNlYXJjaEJhbm5lclZpc2libGUgKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2hlY2tTZWFyY2hCYW5uZXJWaXNpYmxlRGVib3VuY2U6IGRlYm91bmNlKCBmdW5jdGlvbiAoICkgewogICAgICAgICAgICB0aGlzLmNoZWNrU2VhcmNoQmFubmVyVmlzaWJsZSggKTsKICAgICAgICB9LCA1MCApLAogICAgfSwKICAgIG1vdW50ZWQoICkgewogICAgICAgIHRoaXMudGhyb3R0bGVNZW51Q2xvc2UgPSB0aHJvdHRsZSggKCApID0+IHsKICAgICAgICAgICAgIXRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC5tZEFuZFVwIHx8ICggdGhpcy5zaG93T3ZlcmxheSA9IGZhbHNlICk7CiAgICAgICAgfSwgMjAgKTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMudGhyb3R0bGVNZW51Q2xvc2UgKTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRoaXMuY2hlY2tTZWFyY2hCYW5uZXJWaXNpYmxlRGVib3VuY2UgKTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMuY2hlY2tTZWFyY2hCYW5uZXJWaXNpYmxlRGVib3VuY2UgKTsKICAgICAgICBzZXRUaW1lb3V0KCB0aGlzLmNoZWNrU2VhcmNoQmFubmVyVmlzaWJsZSwgMTAgKTsKICAgICAgICBjb25zb2xlLmxvZyggaW1hZ2VzICk7CiAgICB9LAogICAgZGVzdHJveWVkKCApIHsKICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMudGhyb3R0bGVNZW51Q2xvc2UgKTsKICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Njcm9sbCcsIHRoaXMuY2hlY2tTZWFyY2hCYW5uZXJWaXNpYmxlRGVib3VuY2UgKTsKICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMuY2hlY2tTZWFyY2hCYW5uZXJWaXNpYmxlRGVib3VuY2UgKTsKICAgIH0KfTsK"},{"version":3,"sources":["TheHome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TheHome.vue","sourceRoot":"src/core/views/home","sourcesContent":["<template>\n    <div class=\"view-container gst-home\">\n        <transition name=\"fade\">\n            <div v-if=\"showOverlay && $vuetify.breakpoint.mdAndUp\" class=\"overlay u-alpha-background\" @click=\"showOverlay = false\"></div>\n        </transition>\n        <BaseBanner\n            ref=\"searchBanner\"\n            class=\"gst-banner--home\">\n            <template v-slot:gst-banner-content>\n                <!-- eslint-disable-next-line vue/no-v-html -->\n                <h1 class=\"gst-home__title\" v-html=\"$t('title', { 'interpolation': {'escapeValue': false} } )\">\n                </h1>\n                <!-- eslint-disable-next-line vue/no-v-html -->\n                <h3 class=\"gst-home__subtitle\" v-html=\"$t('subtitle', { 'interpolation': {'escapeValue': false} } )\">\n                </h3>\n                <!-- <div class=\"content-max-width mt-7 mt-md-12\">\n                    <SearchFieldBanner :show-overlay=\"showOverlay\" @click.native=\"showOverlay = true\" />\n                </div> -->\n            </template>\n        </BaseBanner>\n        <ImageMasonry elements=\"images\" />\n        <!-- <div class=\"content-max-width\">\n            <TenantBonusPointsHomeBanner class=\"mt-8\" :is-loyalty-currency-type-money=\"isLoyaltyCurrencyTypeMoney\" />\n            <component :is=\"RecentlyViewedEntities\" v-if=\"hasRecentlyViewed\" class=\"mt-10\" />\n        </div> -->\n        <component :is=\"JustForUserEntities\" v-if=\"!userFirstAccessApp\" class=\"mt-10\" />\n        <!-- <div class=\"content-max-width\">\n            <TopEventsCardList class=\"mt-6\" />\n            <component :is=\"SimilarAttractions\" v-if=\"!userFirstAccessApp\" class=\"mt-6 mt-lg-10 mb-10\" />\n        </div> -->\n    </div>\n</template>\n\n<script>\n    import { mapActions, mapGetters, mapState } from 'vuex';\n    import throttle from 'lodash/throttle';\n    import debounce from 'lodash/debounce';\n    import { isVisibleOnViewport as viewportUtilsIsVisibleOnViewport } from '@core/utils/viewportUtils';\n    import { images } from '@core/shared/mockdata/images.js';\n    import ImageMasonry from '@core/shared/components/images/ImageMasonry.vue';\n    import BaseBanner from '@core/shared/components/misc/BaseBanner.vue';\n    import SearchFieldBanner from './TheHome/SearchFieldBanner';\n    import TopEventsCardList from './TheHome/TopEventsCardList.vue';\n\n    export default {\n        name: 'Home',\n        metaInfo: {\n            title: 'Home'\n        },\n        i18nOptions: {\n            namespaces: 'main',\n            keyPrefix: 'views.home.theHome'\n        },\n        components: {\n            BaseBanner,\n            SearchFieldBanner,\n            TopEventsCardList,\n            ImageMasonry\n        },\n        data( ) {\n            return {\n                showOverlay: false,\n                searchBannerVisible: false,\n                images: images\n            };\n        },\n        computed: {\n            ...mapGetters( {\n                isLoyaltyCurrencyTypeMoney: 'appTenant/isLoyaltyCurrencyTypeMoney',\n                recentlyViewedItems:  'user/browsingHistory/entitiesEventsAndAttraction'\n            } ),\n            ...mapState( {\n                homePageState: state => state.appState.page.home,\n                userFirstAccessApp:     state => state.user.firstAccess\n            } ),\n            JustForUserEntities() {\n                return () => import( './TheHome/JustForUserEntities.vue' );\n            },\n            RecentlyViewedEntities() {\n                return () => import( './TheHome/RecentlyViewedEntities.vue' );\n            },\n            SimilarAttractions() {\n                return () => import( '@core/shared/components/attraction/SimilarAttractions' );\n            },\n            hasRecentlyViewed() {\n                return this.recentlyViewedItems.length;\n            }\n        },\n        methods: {\n            ...mapActions( {\n                setPagePropAppState: 'appState/setPageProp'\n            } ),\n            setPageStateShowHeader( value ) {\n                this.setPagePropAppState( {\n                    page: 'home',\n                    prop: 'showHeader',\n                    value\n                } );\n            },\n            checkSearchBannerVisible( ) {\n                const searchBanner = this.$refs.searchBanner;\n\n\n                if ( searchBanner ) {\n                    this.searchBannerVisible = viewportUtilsIsVisibleOnViewport( searchBanner.$el, 60 );\n                } else {\n                    this.searchBannerVisible = false;\n                }\n                if ( this.homePageState.showHeader !== !this.searchBannerVisible ) {\n                    this.setPageStateShowHeader( !this.searchBannerVisible );\n                }\n            },\n            checkSearchBannerVisibleDebounce: debounce( function ( ) {\n                this.checkSearchBannerVisible( );\n            }, 50 ),\n        },\n        mounted( ) {\n            this.throttleMenuClose = throttle( ( ) => {\n                !this.$vuetify.breakpoint.mdAndUp || ( this.showOverlay = false );\n            }, 20 );\n            window.addEventListener( 'resize', this.throttleMenuClose );\n            window.addEventListener( 'scroll', this.checkSearchBannerVisibleDebounce );\n            window.addEventListener( 'resize', this.checkSearchBannerVisibleDebounce );\n            setTimeout( this.checkSearchBannerVisible, 10 );\n            console.log( images );\n        },\n        destroyed( ) {\n            window.removeEventListener( 'resize', this.throttleMenuClose );\n            window.removeEventListener( 'scroll', this.checkSearchBannerVisibleDebounce );\n            window.removeEventListener( 'resize', this.checkSearchBannerVisibleDebounce );\n        }\n    };\n</script>\n\n<style scoped lang=\"scss\">\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-home__title {\n        @include heading(1);\n\n        color: theme-color( 'white' );\n        letter-spacing: -0.86px;\n        text-align: center;\n\n        @include mobile-only {\n            font-size: font-size( 'xxxxxxl' );\n            letter-spacing: -0.64px;\n        }\n    }\n\n    .gst-home__subtitle {\n        @include heading(5);\n\n        color: theme-color( 'white' );\n        letter-spacing: -0.16px;\n        text-align: center;\n\n        @include mobile-only {\n            font-size: font-size( 'xxxl' );\n            letter-spacing: -0.64px;\n        }\n    }\n\n    .gst-banner--home {\n        @include linear-gradient(to right, theme-color('home-banner-gradient-start') 0%, theme-color('home-banner-gradient-end') 100%);\n\n        padding: 60px 0 55px;\n        margin: -12px;\n\n        @include mobile-only {\n            padding: 50px 0;\n        }\n    }\n\n    .view-container {\n        height: 100%;\n    }\n\n    .gst-home .overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 100%;\n        background: theme-color( 'transparent' ) !important;\n        z-index: $z-index-header + 1;\n        border-color: theme-color( 'transparent' ) !important;\n\n        &::after {\n            background: theme-color( 'overlay' );\n            opacity: 0.4;\n        }\n    }\n</style>\n"]}]}