{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/views/search/TheSearch/SearchResultTabsAll.vue?vue&type=style&index=0&id=14410d6e&lang=scss&scoped=true&","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/views/search/TheSearch/SearchResultTabsAll.vue","mtime":1645805364035},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/css-loader/dist/cjs.js","mtime":1637061260154},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1637061260528},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/postcss-loader/src/index.js","mtime":1637061260465},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/sass-loader/dist/cjs.js","mtime":1637061279772},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIkBzY3NzVmFyaWFibGVzIjsKQGltcG9ydCAiQHNjc3NNaXhpbnMiOwoKLmdzdC10YWJzX19hbGwgewogICAgLmdzdC10YWJzX19hbGwtYXR0cmFjdGlvbnMsCiAgICAuZ3N0LXRhYnNfX2FsbC1ldmVudHMgewogICAgICAgIDo6di1kZWVwIC52LWxpc3QgewogICAgICAgICAgICAudi1saXN0LWl0ZW06bGFzdC1jaGlsZCB7CiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgpAaW5jbHVkZSBtb2JpbGUtb25seSB7CiAgICAuZ3N0LXRhYnNfX2FsbCB7CiAgICAgICAgLmdzdC10YWJzX19hbGwtdmVudWVzIHsKICAgICAgICAgICAgOjp2LWRlZXAgLnYtbGlzdCB7CiAgICAgICAgICAgICAgICAudi1saXN0LWl0ZW06bGFzdC1jaGlsZCB7CiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["SearchResultTabsAll.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+NA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchResultTabsAll.vue","sourceRoot":"src/core/views/search/TheSearch","sourcesContent":["<template>\n    <div class=\"gst-tabs__all\">\n        <div class=\"gst-tabs-content-narrow d-flex flex-column\">\n            <SearchResultTabsAllNoData v-if=\"noData\" />\n            <div class=\"gst-tabs__all-attractions\">\n                <SearchResultTabsAllSectionHeader\n                    :title=\"$t( 'attractions.title' )\"\n                    :to=\"{ name: 'search.attractions', query: this.$route.query }\"\n                    :text-button=\"$t( 'all.buttons.seeAll' )\"\n                    :show-button=\"!noAttractionsData && $vuetify.breakpoint.mdAndUp\" />\n                <DataLoading v-if=\"showAttractionsLoading\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n                <template v-else>\n                    <div v-if=\"!noAttractionsData\" class=\"d-flex flex-column\">\n                        <SearchResultTabsAttractionsList :items=\"attractionItems\" class=\"py-0\" />\n                        <BaseButton\n                            v-if=\"!$vuetify.breakpoint.mdAndUp\"\n                            :placeholder=\"$t( 'all.buttons.seeAll' )\"\n                            :to=\"{ name: 'search.attractions', query: this.$route.query }\"\n                            invert\n                            class=\"gst-btn--see-all text-capitalize mt-4 mx-auto\" />\n                    </div>\n                    <SearchResultTabsNoData\n                        v-else\n                        :title=\"$t('attractions.messages.noData.title')\"\n                        :content=\"$t('attractions.messages.noData.content')\"\n                        :type=\"attractionEntityType\" />\n                </template>\n            </div>\n            <div class=\"gst-tabs__all-events\">\n                <SearchResultTabsAllSectionHeader\n                    :title=\"$t( 'events.title' )\"\n                    :to=\"{ name: 'search.events', query: this.$route.query }\"\n                    :text-button=\"$t( 'all.buttons.seeAll' )\"\n                    :show-button=\"!noEventsData && $vuetify.breakpoint.mdAndUp\" />\n                <DataLoading v-if=\"showEventsLoading\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n                <template v-else>\n                    <div v-if=\"!noEventsData\" class=\"d-flex flex-column\">\n                        <SearchResultTabsEventsList :items=\"eventItems\" class=\"py-0\" />\n                        <BaseButton\n                            v-if=\"!$vuetify.breakpoint.mdAndUp\"\n                            :placeholder=\"$t( 'all.buttons.seeAll' )\"\n                            :to=\"{ name: 'search.events', query: this.$route.query }\"\n                            invert\n                            class=\"gst-btn--see-all text-capitalize mt-4 mx-auto\" />\n                    </div>\n                    <SearchResultTabsNoData\n                        v-else\n                        :title=\"$t('events.messages.noData.title')\"\n                        :content=\"$t('events.messages.noData.content')\"\n                        :type=\"eventEntityType\" />\n                </template>\n            </div>\n            <div class=\"gst-tabs__all-venues\">\n                <SearchResultTabsAllSectionHeader\n                    class=\"pt-4 pb-2\"\n                    :title=\"$t( 'venues.title' )\"\n                    :to=\"{ name: 'search.venues', query: this.$route.query }\"\n                    :text-button=\"$t( 'all.buttons.seeAll' )\"\n                    :show-button=\"!noVenuesData && $vuetify.breakpoint.mdAndUp\" />\n                <DataLoading v-if=\"showVenuesLoading\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n                <template v-else>\n                    <div v-if=\"!noVenuesData\" class=\"d-flex flex-column\">\n                        <SearchResultTabsVenuesList :items=\"venueItems\" class=\"py-0\" />\n                        <BaseButton\n                            v-if=\"!$vuetify.breakpoint.mdAndUp\"\n                            :placeholder=\"$t( 'all.buttons.seeAll' )\"\n                            :to=\"{ name: 'search.venues', query: this.$route.query }\"\n                            invert\n                            class=\"gst-btn--see-all text-capitalize mt-4 mx-auto\" />\n                    </div>\n                    <SearchResultTabsNoData\n                        v-else\n                        :title=\"$t('venues.messages.noData.title')\"\n                        :content=\"$t('venues.messages.noData.content')\"\n                        :type=\"venueEntityType\" />\n                </template>\n            </div>\n        </div>\n        <div class=\"content-max-width\">\n            <SimilarAttractions v-if=\"hasSimilarAttractions\" class=\"mt-6 mt-lg-12 mb-8\" />\n        </div>\n    </div>\n</template>\n<script>\n    import { mapState, mapActions } from 'vuex';\n    import SimilarAttractions from '@core/shared/components/attraction/SimilarAttractions';\n    import isEqual from 'lodash/isEqual';\n    import entityConstants from '@core/utils/constants/entity';\n    import BaseButton from '@/core/shared/components/buttons/BaseButton.vue';\n    import DataLoading from '@core/shared/components/loading/DataLoading.vue';\n    import SearchResultTabsNoData from './SearchResultTabsNoData.vue';\n    import SearchResultTabsVenuesList from './SearchResultTabsVenues/SearchResultTabsVenuesList.vue';\n    import SearchResultTabsEventsList from './SearchResultTabsEvents/SearchResultTabsEventsList.vue';\n    import SearchResultTabsAttractionsList from './SearchResultTabsAttractions/SearchResultTabsAttractionsList.vue';\n    import {\n        SearchResultTabsAllSectionHeader,\n        SearchResultTabsAllNoData\n    } from './SearchResultTabsAll/index';\n    import SearchResultMixin from './SearchResultMixin';\n\n    const STORE_EVENTS = 'events';\n    const STORE_ATTRACTIONS = 'attractions';\n    const STORE_VENUES = 'venues';\n\n    export default {\n        name: 'SearchResultTabsAll',\n        components: {\n            BaseButton,\n            SimilarAttractions,\n            SearchResultTabsAttractionsList,\n            SearchResultTabsEventsList,\n            SearchResultTabsVenuesList,\n            SearchResultTabsNoData,\n            SearchResultTabsAllSectionHeader,\n            SearchResultTabsAllNoData,\n            DataLoading\n        },\n        mixins: [ SearchResultMixin ],\n        i18nOptions: {\n            namespaces: 'main',\n            keyPrefix: 'views.search.theSearch._components.searchResultTabs'\n        },\n        testIdOptions: {\n            keyPrefix: 'search.eventsTab'\n        },\n        computed: {\n            ...mapState( {\n                attractions:            state => state[STORE_ATTRACTIONS].list,\n                events:                 state => state[STORE_EVENTS].list,\n                venues:                 state => state[STORE_VENUES].list,\n                hasSimilarAttractions:  state => state.user.analytics.hasSimilarAttractions,\n                filterAttractions:      state => state[STORE_ATTRACTIONS].filter,\n                filterEvents:           state => state[STORE_EVENTS].filter,\n                filterVenues:           state => state[STORE_VENUES].filter,\n                loadingAttractions:     state => state[STORE_ATTRACTIONS].loading,\n                loadingEvents:          state => state[STORE_EVENTS].loading,\n                loadingVenues:          state => state[STORE_VENUES].loading,\n            } ),\n            noAttractionsData() {\n                return !this.attractions.length;\n            },\n            noEventsData() {\n                return !this.events.length;\n            },\n            noVenuesData() {\n                return !this.venues.length;\n            },\n            noData() {\n                return this.noAttractionsData && this.noEventsData && this.noVenuesData && !this.loadingAttractions && !this.loadingEvents && !this.loadingVenues;\n            },\n            attractionItems() {\n                return this.attractions.slice( 0, 5 );\n            },\n            eventItems() {\n                return this.events.slice( 0, 5 );\n            },\n            venueItems() {\n                return this.venues.slice( 0, 5 );\n            },\n            attractionEntityType() {\n                return entityConstants.TYPES.ATTRACTION;\n            },\n            eventEntityType() {\n                return entityConstants.TYPES.EVENT;\n            },\n            venueEntityType() {\n                return entityConstants.TYPES.VENUE;\n            },\n            showAttractionsLoading( ) {\n                return !this.attractions.length && this.loadingAttractions;\n            },\n            showEventsLoading( ) {\n                return !this.events.length && this.loadingEvents;\n            },\n            showVenuesLoading( ) {\n                return !this.venues.length && this.loadingVenues;\n            },\n            params() {\n                return {\n                    offset: 0,\n                    count: true,\n                    ...this.searchParams\n                };\n            }\n        },\n        methods: {\n            ...mapActions( {\n                getEvents:                          `${ STORE_EVENTS }/get`,\n                getAttractions:                     `${ STORE_ATTRACTIONS }/get`,\n                getVenues:                          `${ STORE_VENUES }/get`,\n            } ),\n            updateFiltersWithSearchParams( ) {\n                if ( !isEqual( this.filterAttractions, this.filterSearchParams ) ) {\n                    this.updateFilter( { filter: this.filterSearchParams, entityType: entityConstants.TYPES.ATTRACTION } );\n                    this.loadAttractionsData( );\n                }\n                if ( !isEqual( this.filterEvents, this.filterSearchParams ) ) {\n                    this.updateFilter( { filter: this.filterSearchParams, entityType: entityConstants.TYPES.EVENT } );\n                    this.loadEventsData( );\n                }\n                if ( !isEqual( this.filterVenues, this.filterSearchParams ) ) {\n                    this.updateFilter( { filter: this.filterSearchParams, entityType: entityConstants.TYPES.VENUE } );\n                    this.loadVenuesData( );\n                }\n            },\n            async loadAttractionsData( ) {\n                await this.getAttractions( { refresh: true, search : this.params, firstLoad: false } );\n            },\n            async loadEventsData( ) {\n                const searchParams = this.$route.query.sort ? { ...this.params, sort: this.$route.query.sort } : this.params;\n                await this.getEvents( { refresh: true, search : searchParams, firstLoad: false } );\n            },\n            async loadVenuesData( ) {\n                await this.getVenues( { refresh: true, search : this.params, firstLoad: false } );\n            },\n        },\n        mounted( ) {\n            this.updateFiltersWithSearchParams();\n        }\n    };\n</script>\n\n<style lang=\"scss\" scoped>\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-tabs__all {\n        .gst-tabs__all-attractions,\n        .gst-tabs__all-events {\n            ::v-deep .v-list {\n                .v-list-item:last-child {\n                    border-bottom: 0;\n                }\n            }\n        }\n    }\n\n    @include mobile-only {\n        .gst-tabs__all {\n            .gst-tabs__all-venues {\n                ::v-deep .v-list {\n                    .v-list-item:last-child {\n                        border-bottom: 0;\n                    }\n                }\n            }\n        }\n    }\n</style>\n"]}]}