{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/views/user/TheUserFavorites/UserFavoritesTabsAttractions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/views/user/TheUserFavorites/UserFavoritesTabsAttractions.vue","mtime":1645805364040},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBTZWVNb3JlQnV0dG9uIGZyb20gJ0Bjb3JlL3NoYXJlZC9jb21wb25lbnRzL2J1dHRvbnMvU2VlTW9yZUJ1dHRvbic7CmltcG9ydCBVc2VyRmF2b3JpdGVzVGFic05vRGF0YSBmcm9tICdAdmlld3MvdXNlci9UaGVVc2VyRmF2b3JpdGVzL1VzZXJGYXZvcml0ZXNUYWJzTm9EYXRhJzsKaW1wb3J0IGVudGl0eUNvbnN0YW50cyBmcm9tICdAY29yZS91dGlscy9jb25zdGFudHMvZW50aXR5JzsKaW1wb3J0IE5vRmlsdGVyZWREYXRhIGZyb20gJ0Bjb3JlL3NoYXJlZC9jb21wb25lbnRzL21pc2MvTm9GaWx0ZXJlZERhdGEudnVlJzsKaW1wb3J0IERhdGFMb2FkaW5nIGZyb20gJ0Bjb3JlL3NoYXJlZC9jb21wb25lbnRzL2xvYWRpbmcvRGF0YUxvYWRpbmcudnVlJzsKaW1wb3J0IHsgCiAgICBVc2VyRmF2b3JpdGVUYWJzQXR0cmFjdGlvbnNGaWx0ZXIsCiAgICBVc2VyRmF2b3JpdGVUYWJzQXR0cmFjdGlvbnNMaXN0LAoKfSBmcm9tICcuL1VzZXJGYXZvcml0ZXNUYWJzQXR0cmFjdGlvbnMvaW5kZXgnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1VzZXJGYXZvcml0ZXNUYWJzQXR0cmFjdGlvbnMnLAogICAgY29tcG9uZW50czogewogICAgICAgIFVzZXJGYXZvcml0ZVRhYnNBdHRyYWN0aW9uc0ZpbHRlciwKICAgICAgICBVc2VyRmF2b3JpdGVUYWJzQXR0cmFjdGlvbnNMaXN0LAogICAgICAgIERhdGFMb2FkaW5nLAogICAgICAgIFNlZU1vcmVCdXR0b24sCiAgICAgICAgVXNlckZhdm9yaXRlc1RhYnNOb0RhdGEsCiAgICAgICAgTm9GaWx0ZXJlZERhdGEKICAgIH0sCiAgICBpMThuT3B0aW9uczogewogICAgICAgIG5hbWVzcGFjZXM6ICdtYWluJywKICAgICAgICBrZXlQcmVmaXg6ICd2aWV3cy51c2VyRmF2b3JpdGVzLnRoZVVzZXJGYXZvcml0ZXMuX2NvbXBvbmVudHMudXNlckZhdm9yaXRlc1RhYnMuYXR0cmFjdGlvbnMnCiAgICB9LAogICAgdGVzdElkT3B0aW9uczogewogICAgICAgIGtleVByZWZpeDogJ3VzZXJGYXZvcml0ZXMuYXR0cmFjdGlvbnNUYWInCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICBjb25zdCBkZWZhdWx0U29ydCA9IHsgdmFsdWU6ICdhc2MnLCAnZGlzcGxheSc6IHRoaXMuJHQoICdfY29tbW9uOnRlcm1zLnNvcnRBbHBoYWJldGljYWxfYWJ2JyApIH07CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICBzb3J0OiB7CiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFNvcnQsCiAgICAgICAgICAgICAgICBvcHRpb25zOiBbCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFNvcnQsCiAgICAgICAgICAgICAgICAgICAgeyB2YWx1ZTogJ2Rlc2MnLCAnZGlzcGxheSc6IHRoaXMuJHQoICdfY29tbW9uOnRlcm1zLnNvcnRBbHBoYWJldGljYWxEZXNjX2FidicgKSB9LAogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAogICAgICAgICAgICBmaWx0ZXI6IHsgCiAgICAgICAgICAgICAgICBjYXRlZ29yeTogbnVsbAogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKCB7CiAgICAgICAgICAgIGl0ZW1zOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLmZhdm9yaXRlRW50aXRpZXMubGlzdFsgZW50aXR5Q29uc3RhbnRzLlRZUEVTLkFUVFJBQ1RJT04gXSwKICAgICAgICAgICAgdG90YWw6IHN0YXRlID0+IHN0YXRlLnVzZXIuZmF2b3JpdGVFbnRpdGllcy50b3RhbENvdW50WyBlbnRpdHlDb25zdGFudHMuVFlQRVMuQVRUUkFDVElPTiBdLAogICAgICAgIH0gKSwKICAgICAgICAuLi5tYXBHZXR0ZXJzKCB7CiAgICAgICAgICAgIGlzQWxsSXRlbXNMb2FkZWQ6ICd1c2VyL2Zhdm9yaXRlRW50aXRpZXMvaXNBbGxJdGVtc0xvYWRlZCcKICAgICAgICB9ICksCiAgICAgICAgc2hvd05vRGF0YSggKSB7CiAgICAgICAgICAgIHJldHVybiAhdGhpcy50b3RhbCAmJiAhdGhpcy5pdGVtcy5sZW5ndGggJiYgIXRoaXMubG9hZGluZzsKICAgICAgICB9LAogICAgICAgIHNob3dMb2FkaW5nKCApIHsKICAgICAgICAgICAgcmV0dXJuICF0aGlzLml0ZW1zLmxlbmd0aCAmJiB0aGlzLmxvYWRpbmc7CiAgICAgICAgfSwKICAgICAgICBzaG93TG9hZE1vcmUoICkgewogICAgICAgICAgICByZXR1cm4gIXRoaXMuaXNBbGxJdGVtc0xvYWRlZCggZW50aXR5Q29uc3RhbnRzLlRZUEVTLkFUVFJBQ1RJT04gKTsKICAgICAgICB9LAogICAgICAgIG5vRGF0YUNhcmRDYXJkRGF0YSgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCAnbm9EYXRhLmNhcmQudGl0bGUnICksIAogICAgICAgICAgICAgICAgY29udGVudDogeyAKICAgICAgICAgICAgICAgICAgICBldmVudDogdGhpcy4kdCggJ25vRGF0YS5jYXJkLmNvbnRlbnQuZXZlbnQnICksIAogICAgICAgICAgICAgICAgICAgIHRpY2tldHM6IHRoaXMuJHQoICdub0RhdGEuY2FyZC5jb250ZW50LnRpY2tldHMnICksIAogICAgICAgICAgICAgICAgICAgIGZhdm9yaXRlOiB0aGlzLiR0KCAnbm9EYXRhLmNhcmQuY29udGVudC5mYXZvcml0ZScgKSAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIGVudGl0eVR5cGUoKSB7CiAgICAgICAgICAgIHJldHVybiBlbnRpdHlDb25zdGFudHMuVFlQRVMuQVRUUkFDVElPTjsKICAgICAgICB9LAogICAgICAgIHF1ZXJ5TGltaXQoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiR2dWV0aWZ5LmJyZWFrcG9pbnQubWRBbmRVcCA/IDE4IDogNjsKICAgICAgICB9LAogICAgICAgIHF1ZXJ5U2VhcmNoKCApIHsKICAgICAgICAgICAgY29uc3QgZmlsdGVyID0gdGhpcy5maWx0ZXIuY2F0ZWdvcnkgPyB7IAogICAgICAgICAgICAgICAgY2F0ZWdvcnlJZDogdGhpcy5maWx0ZXIuY2F0ZWdvcnkgPyB0aGlzLmZpbHRlci5jYXRlZ29yeS5zZWFyY2ggOiBudWxsCiAgICAgICAgICAgIH0gOiBudWxsOwoKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHNvcnQ6IHRoaXMuc29ydC52YWx1ZS52YWx1ZSwKICAgICAgICAgICAgICAgIGZpbHRlcgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICdxdWVyeVNlYXJjaCc6IHsKICAgICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKCApIHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZCggKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVlcDogdHJ1ZQogICAgICAgIH0gCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoIHsKICAgICAgICAgICAgZ2V0OiAndXNlci9mYXZvcml0ZUVudGl0aWVzL2dldCcKICAgICAgICB9ICksCiAgICAgICAgYXN5bmMgbG9hZE5leHRQYWdlICggKSB7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0KCAKICAgICAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaDogZmFsc2UsIAogICAgICAgICAgICAgICAgICAgIGxvYWROZXh0UGFnZTogdHJ1ZSwgCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiB7IAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLmVudGl0eVR5cGUsIAogICAgICAgICAgICAgICAgICAgICAgICBsaW1pdDogdGhpcy5xdWVyeUxpbWl0LCAKICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5xdWVyeVNlYXJjaCAKICAgICAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgKTsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSwKICAgICAgICBhc3luYyBsb2FkICggKSB7CiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0KCAKICAgICAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaDogdHJ1ZSwgCiAgICAgICAgICAgICAgICAgICAgbG9hZE5leHRQYWdlOiBmYWxzZSwgCiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiB7IAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLmVudGl0eVR5cGUsIAogICAgICAgICAgICAgICAgICAgICAgICBsaW1pdDogdGhpcy5xdWVyeUxpbWl0LCAKICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5xdWVyeVNlYXJjaCAKICAgICAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgKTsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSwKICAgICAgICByZXNldEZpbHRlcnMoICkgewogICAgICAgICAgICB0aGlzLiRzZXQoIHRoaXMuZmlsdGVyLCAnY2F0ZWdvcnknLCBudWxsICk7CiAgICAgICAgfQogICAgfSwKfTsK"},{"version":3,"sources":["UserFavoritesTabsAttractions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserFavoritesTabsAttractions.vue","sourceRoot":"src/core/views/user/TheUserFavorites","sourcesContent":["<template>\n    <div v-if=\"!showNoData\">\n        <UserFavoriteTabsAttractionsFilter\n            :sort=\"sort\"\n            :filter=\"filter\"\n            class=\"mt-3\" />\n        <DataLoading v-if=\"showLoading\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n        <template v-else-if=\"items.length\">\n            <UserFavoriteTabsAttractionsList \n                :items=\"items\"\n                class=\"mt-4\" />\n            <SeeMoreButton\n                v-if=\"showLoadMore\"\n                :data-test-id=\"$testId('buttons.seeMore')\"\n                class=\"mx-auto d-flex mt-4\"\n                :loading=\"loading\"\n                @click=\"loadNextPage()\" />\n        </template>\n        <NoFilteredData v-else\n            :message=\"$t('messages.noFilterData')\"\n            :icon-v-text=\"'$vuetify.icons.searchFavoriteData'\"\n            class=\"gst-user-favorite-tabs-attractions__no-filtered-data mt-8 mt-md-7\"\n            @reset-filters=\"resetFilters\" />\n    </div>\n    <UserFavoritesTabsNoData \n        v-else\n        :title=\"$t('noData.title')\"\n        :content=\"$t('noData.content')\"\n        :card=\"noDataCardCardData\"\n        :type=\"entityType\" />\n</template>\n<script>\n    import { mapActions, mapGetters, mapState } from 'vuex';\n    import SeeMoreButton from '@core/shared/components/buttons/SeeMoreButton';\n    import UserFavoritesTabsNoData from '@views/user/TheUserFavorites/UserFavoritesTabsNoData';\n    import entityConstants from '@core/utils/constants/entity';\n    import NoFilteredData from '@core/shared/components/misc/NoFilteredData.vue';\n    import DataLoading from '@core/shared/components/loading/DataLoading.vue';\n    import { \n        UserFavoriteTabsAttractionsFilter,\n        UserFavoriteTabsAttractionsList,\n\n    } from './UserFavoritesTabsAttractions/index';\n    \n    export default {\n        name: 'UserFavoritesTabsAttractions',\n        components: {\n            UserFavoriteTabsAttractionsFilter,\n            UserFavoriteTabsAttractionsList,\n            DataLoading,\n            SeeMoreButton,\n            UserFavoritesTabsNoData,\n            NoFilteredData\n        },\n        i18nOptions: {\n            namespaces: 'main',\n            keyPrefix: 'views.userFavorites.theUserFavorites._components.userFavoritesTabs.attractions'\n        },\n        testIdOptions: {\n            keyPrefix: 'userFavorites.attractionsTab'\n        },\n        data() {\n            const defaultSort = { value: 'asc', 'display': this.$t( '_common:terms.sortAlphabetical_abv' ) };\n\n            return {\n                loading: false,\n                sort: {\n                    value: defaultSort,\n                    options: [\n                        defaultSort,\n                        { value: 'desc', 'display': this.$t( '_common:terms.sortAlphabeticalDesc_abv' ) },\n                    ]\n                },\n                filter: { \n                    category: null\n                }\n            };\n        },\n        computed: {\n            ...mapState( {\n                items: state => state.user.favoriteEntities.list[ entityConstants.TYPES.ATTRACTION ],\n                total: state => state.user.favoriteEntities.totalCount[ entityConstants.TYPES.ATTRACTION ],\n            } ),\n            ...mapGetters( {\n                isAllItemsLoaded: 'user/favoriteEntities/isAllItemsLoaded'\n            } ),\n            showNoData( ) {\n                return !this.total && !this.items.length && !this.loading;\n            },\n            showLoading( ) {\n                return !this.items.length && this.loading;\n            },\n            showLoadMore( ) {\n                return !this.isAllItemsLoaded( entityConstants.TYPES.ATTRACTION );\n            },\n            noDataCardCardData() {\n                return {\n                    title: this.$t( 'noData.card.title' ), \n                    content: { \n                        event: this.$t( 'noData.card.content.event' ), \n                        tickets: this.$t( 'noData.card.content.tickets' ), \n                        favorite: this.$t( 'noData.card.content.favorite' ) \n                    }\n                };\n            },\n            entityType() {\n                return entityConstants.TYPES.ATTRACTION;\n            },\n            queryLimit() {\n                return this.$vuetify.breakpoint.mdAndUp ? 18 : 6;\n            },\n            querySearch( ) {\n                const filter = this.filter.category ? { \n                    categoryId: this.filter.category ? this.filter.category.search : null\n                } : null;\n\n                return {\n                    sort: this.sort.value.value,\n                    filter\n                };\n            }\n        },\n        watch: {\n            'querySearch': {\n                handler: function ( ) {\n                    this.load( );\n                },\n                deep: true\n            } \n        },\n        methods: {\n            ...mapActions( {\n                get: 'user/favoriteEntities/get'\n            } ),\n            async loadNextPage ( ) {\n                this.loading = true;\n                await this.get( \n                    { \n                        refresh: false, \n                        loadNextPage: true, \n                        search: { \n                            type: this.entityType, \n                            limit: this.queryLimit, \n                            ...this.querySearch \n                        } \n                    } \n                );\n                this.loading = false;\n            },\n            async load ( ) {\n                this.loading = true;\n                await this.get( \n                    { \n                        refresh: true, \n                        loadNextPage: false, \n                        search: { \n                            type: this.entityType, \n                            limit: this.queryLimit, \n                            ...this.querySearch \n                        } \n                    } \n                );\n                this.loading = false;\n            },\n            resetFilters( ) {\n                this.$set( this.filter, 'category', null );\n            }\n        },\n    };\n</script>\n\n<style lang=\"scss\">\n    .gst-user-favorite-tabs-attractions__no-filtered-data {\n        .gst-no-filtered-data__icon .v-icon__component {\n            height: 127px;\n            width: 109px;\n        }\n    }\n</style>\n"]}]}