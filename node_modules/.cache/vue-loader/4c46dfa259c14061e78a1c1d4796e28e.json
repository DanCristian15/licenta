{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/shared/components/search/SearchModalContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/shared/components/search/SearchModalContent.vue","mtime":1645805363971},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IEljb25TZWFyY2ggZnJvbSAnQGNvcmUvc2hhcmVkL2Fzc2V0cy9pY29ucy9zZWFyY2guc3ZnJzsKaW1wb3J0IEljb25EYXRlIGZyb20gJ0Bjb3JlL3NoYXJlZC9hc3NldHMvaWNvbnMvZGF0ZS5zdmcnOwppbXBvcnQgU2VhcmNoQ2l0eSBmcm9tICdAY29yZS9zaGFyZWQvY29tcG9uZW50cy9zZWFyY2gvU2VhcmNoQ2l0eS52dWUnOwppbXBvcnQgQ2xvc2VNb2RhbE9uUm91dGVDaGFuZ2VNaXhpbiBmcm9tICdAY29yZS9taXhpbnMvbW9kYWxzL0Nsb3NlTW9kYWxPblJvdXRlQ2hhbmdlJzsKaW1wb3J0IFNlYXJjaFJlc3VsdExpc3QgZnJvbSAnQGNvcmUvc2hhcmVkL2NvbXBvbmVudHMvc2VhcmNoL1NlYXJjaFJlc3VsdExpc3QudnVlJzsKaW1wb3J0IERhdGVQaWNrZXIgZnJvbSAnQHNoYXJlZC9jb21wb25lbnRzL2RhdGUvRGF0ZVBpY2tlci52dWUnOwppbXBvcnQgSGVhZGVyVmFyaWFudDIgZnJvbSAnQGNvcmUvc2hhcmVkL2NvbXBvbmVudHMvbW9kYWxzL2xheW91dC9IZWFkZXJWYXJpYW50Mi52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1NlYXJjaEV2ZW50TW9kYWwnLAogICAgY29tcG9uZW50czogewogICAgICAgIEljb25TZWFyY2gsCiAgICAgICAgU2VhcmNoQ2l0eSwKICAgICAgICBTZWFyY2hSZXN1bHRMaXN0LAogICAgICAgIEljb25EYXRlLAogICAgICAgIEhlYWRlclZhcmlhbnQyCiAgICB9LAogICAgbWl4aW5zOiBbIENsb3NlTW9kYWxPblJvdXRlQ2hhbmdlTWl4aW4gXSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgICAgIGlzRm9jdXNJbnB1dFNlYXJjaEtleXdvcmQ6IGZhbHNlLAogICAgICAgICAgICBpc0ZvY3VzSW5wdXRTZWFyY2hEYXRlOiBmYWxzZSwKICAgICAgICAgICAgaXNDb25maXJtZWQ6IGZhbHNlCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcEdldHRlcnMoIHsKICAgICAgICAgICAgY3VycmVudFF1ZXJ5T2JqZWN0OiAnc2VhcmNoU3RhdGUvY3VycmVudFF1ZXJ5T2JqZWN0JywKICAgICAgICAgICAgaXNFbXB0eUN1cnJlbnRTZWFyY2hQYXJhbXM6ICdzZWFyY2hTdGF0ZS9pc0VtcHR5Q3VycmVudFNlYXJjaFBhcmFtcycsCiAgICAgICAgICAgIGN1cnJlbnRRdWVyeU9iamVjdEhhc09ubHlLZXl3b3JkOiAnc2VhcmNoU3RhdGUvY3VycmVudFF1ZXJ5T2JqZWN0SGFzT25seUtleXdvcmQnLAogICAgICAgIH0gKSwKICAgICAgICBrZXl3b3JkOiB7CiAgICAgICAgICAgIGdldCggKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2VhcmNoU3RhdGUuY3VycmVudC5rZXl3b3JkOwogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXQoIHZhbHVlICkgewogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTZWFyY2goIHsga2V5d29yZCA6IHZhbHVlIH0gKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2l0eTogewogICAgICAgICAgICBnZXQoICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNlYXJjaFN0YXRlLmN1cnJlbnQuY2l0eTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0KCB2YWx1ZSApIHsKICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2VhcmNoKCB7IGNpdHkgOiB2YWx1ZSB9ICk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGRhdGU6IHsKICAgICAgICAgICAgZ2V0KCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiB0aGlzLiRzdG9yZS5zdGF0ZS5zZWFyY2hTdGF0ZS5jdXJyZW50LnN0YXJ0RGF0ZSwKICAgICAgICAgICAgICAgICAgICBlbmREYXRlOiB0aGlzLiRzdG9yZS5zdGF0ZS5zZWFyY2hTdGF0ZS5jdXJyZW50LmVuZERhdGUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCggdmFsdWUgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNlYXJjaCggeyBzdGFydERhdGU6IHZhbHVlLnN0YXJ0RGF0ZSwgZW5kRGF0ZTogdmFsdWUuZW5kRGF0ZSB9ICk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGhhc0F0TGVhc3RPbmVTZWFyY2hQYXJhbSgpIHsKICAgICAgICAgICAgcmV0dXJuICF0aGlzLmlzRW1wdHlDdXJyZW50U2VhcmNoUGFyYW1zKCApOwogICAgICAgIH0sCiAgICAgICAgc2VlQWxsQnV0dG9uUm91dGUoKSB7CiAgICAgICAgICAgIGNvbnN0IHJvdXRlTmFtZSA9IHRoaXMuY3VycmVudFF1ZXJ5T2JqZWN0SGFzT25seUtleXdvcmQgPyAnc2VhcmNoJyA6ICdzZWFyY2guZXZlbnRzJzsKICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogcm91dGVOYW1lLCBxdWVyeTogdGhpcy5jdXJyZW50UXVlcnlPYmplY3QgfTsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoIHsKICAgICAgICAgICAgdXBkYXRlU2VhcmNoOiAnc2VhcmNoU3RhdGUvdXBkYXRlJwogICAgICAgIH0gKSwKICAgICAgICBvbkNsaWNrRGF0ZSggKSB7CiAgICAgICAgICAgIGlmICggdGhpcy4kdnVldGlmeS5icmVha3BvaW50LnNtQW5kRG93biApIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1vZGFsLnNob3dCb3R0b20oCiAgICAgICAgICAgICAgICAgICAgRGF0ZVBpY2tlciwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLmRhdGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGlzQ29uZmlybWVkOiB0aGlzLmlzQ29uZmlybWVkLAogICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm1EbzogKCBkYXRlcyApID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2VhcmNoKCB7IHN0YXJ0RGF0ZTogZGF0ZXMuc3RhcnREYXRlLCBlbmREYXRlOiBkYXRlcy5lbmREYXRlIH0gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNDb25maXJtZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICdyZXRhaW4tZm9jdXMnOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgZnVsbHNjcmVlbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICdoaWRlLW92ZXJsYXknOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ2RpYWxvZy1ib3R0b20tdHJhbnNpdGlvbicKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgc2V0VGltZW91dCggKCApID0+IHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5rZXl3b3JkLmZvY3VzKCApOwogICAgICAgIH0sIDEwMCApOwogICAgfQp9Owo="},{"version":3,"sources":["SearchModalContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchModalContent.vue","sourceRoot":"src/core/shared/components/search","sourcesContent":["<template>\n    <v-card class=\"gst-search-modal d-flex flex-column\">\n        <HeaderVariant2 class=\"mb-3\" @close=\"$emit('close')\">\n            <TenantLogo :with-redirect=\"false\" class=\"gst-search-modal__logo\" />\n        </HeaderVariant2>\n        <v-card-title class=\"py-0 px-4 flex-grow-0\">\n            <v-flex>\n                <v-row>\n                    <v-col class=\"pt-0\">\n                        <v-text-field\n                            ref=\"keyword\"\n                            v-model=\"keyword\"\n                            color=\"primary\"\n                            :placeholder=\"$t('shared:components.search.searchFieldBanner.placeholder')\"\n                            class=\"pb-0 mb-0 gst-search-input search-event-modal__keyword\"\n                            height=\"33\"\n                            outlined\n                            hide-details\n                            rounded\n                            data-hj-allow\n                            @focus=\"isFocusInputSearchKeyword = true\"\n                            @blur=\"isFocusInputSearchKeyword = false\">\n                            <template slot=\"prepend-inner\" class=\"text-primary\">\n                                <IconSearch\n                                    class=\"gst-search-icon-svg\"\n                                    :class=\"{\n                                        'gst-search-icon-svg-focused': isFocusInputSearchKeyword\n                                    }\" />\n                            </template>\n                        </v-text-field>\n                    </v-col>\n                </v-row>\n                <v-row>\n                    <v-col class=\"pr-0\">\n                        <SearchCity\n                            v-model=\"city\"\n                            :input-search-attrs=\"{ 'single-line': true, 'hide-details': true, color: 'primary', height: 33 }\"\n                            :clearable=\"false\" />\n                    </v-col>\n                    <v-col class=\"pl-0\">\n                        <v-text-field\n                            :value=\"date | period\"\n                            :placeholder=\"$t('shared:components.date.datePicker.placeholder')\"\n                            class=\"mx-1 pt-0 gst-search-input\"\n                            single-line\n                            hide-details\n                            color=\"primary\"\n                            height=\"33\"\n                            readonly\n                            data-hj-allow\n                            @click=\"onClickDate\"\n                            @focus=\"isFocusInputSearchDate = true\"\n                            @blur=\"isFocusInputSearchDate = false\">\n                            <template slot=\"prepend-inner\" class=\"text-primary\">\n                                <IconDate\n                                    class=\"gst-search-icon-svg\"\n                                    :class=\"{\n                                        'gst-search-icon-svg-focused': isFocusInputSearchDate\n                                    }\" />\n                            </template>\n                        </v-text-field>\n                    </v-col>\n                </v-row>\n            </v-flex>\n        </v-card-title>\n        <v-card-text>\n            <SearchResultList v-if=\"hasAtLeastOneSearchParam\" class=\"pt-2\" :see-all-button-route=\"seeAllButtonRoute\" />\n        </v-card-text>\n    </v-card>\n</template>\n\n<script>\n    import { mapActions, mapGetters } from 'vuex';\n    import IconSearch from '@core/shared/assets/icons/search.svg';\n    import IconDate from '@core/shared/assets/icons/date.svg';\n    import SearchCity from '@core/shared/components/search/SearchCity.vue';\n    import CloseModalOnRouteChangeMixin from '@core/mixins/modals/CloseModalOnRouteChange';\n    import SearchResultList from '@core/shared/components/search/SearchResultList.vue';\n    import DatePicker from '@shared/components/date/DatePicker.vue';\n    import HeaderVariant2 from '@core/shared/components/modals/layout/HeaderVariant2.vue';\n\n    export default {\n        name: 'SearchEventModal',\n        components: {\n            IconSearch,\n            SearchCity,\n            SearchResultList,\n            IconDate,\n            HeaderVariant2\n        },\n        mixins: [ CloseModalOnRouteChangeMixin ],\n        data () {\n            return {\n                dialog: false,\n                isFocusInputSearchKeyword: false,\n                isFocusInputSearchDate: false,\n                isConfirmed: false\n            };\n        },\n        computed: {\n            ...mapGetters( {\n                currentQueryObject: 'searchState/currentQueryObject',\n                isEmptyCurrentSearchParams: 'searchState/isEmptyCurrentSearchParams',\n                currentQueryObjectHasOnlyKeyword: 'searchState/currentQueryObjectHasOnlyKeyword',\n            } ),\n            keyword: {\n                get( ) {\n                    return this.$store.state.searchState.current.keyword;\n                },\n                set( value ) {\n                    this.updateSearch( { keyword : value } );\n                }\n            },\n            city: {\n                get( ) {\n                    return this.$store.state.searchState.current.city;\n                },\n                set( value ) {\n                    this.updateSearch( { city : value } );\n                }\n            },\n            date: {\n                get( ) {\n                    return {\n                        startDate: this.$store.state.searchState.current.startDate,\n                        endDate: this.$store.state.searchState.current.endDate\n                    };\n                },\n                set( value ) {\n                    this.updateSearch( { startDate: value.startDate, endDate: value.endDate } );\n                }\n            },\n            hasAtLeastOneSearchParam() {\n                return !this.isEmptyCurrentSearchParams( );\n            },\n            seeAllButtonRoute() {\n                const routeName = this.currentQueryObjectHasOnlyKeyword ? 'search' : 'search.events';\n                return { name: routeName, query: this.currentQueryObject };\n            }\n        },\n        methods: {\n            ...mapActions( {\n                updateSearch: 'searchState/update'\n            } ),\n            onClickDate( ) {\n                if ( this.$vuetify.breakpoint.smAndDown ) {\n                    this.$modal.showBottom(\n                        DatePicker,\n                        {\n                            value: this.date,\n                            isConfirmed: this.isConfirmed,\n                            onConfirmDo: ( dates ) => {\n                                this.updateSearch( { startDate: dates.startDate, endDate: dates.endDate } );\n                                this.isConfirmed = true;\n                            }\n                        },\n                        {\n                            'retain-focus': false,\n                            scrollable: true,\n                            fullscreen: false,\n                            'hide-overlay': false,\n                            transition: 'dialog-bottom-transition'\n                        }\n                    );\n                }\n            }\n        },\n        mounted() {\n            setTimeout( ( ) => {\n                this.$refs.keyword.focus( );\n            }, 100 );\n        }\n    };\n</script>\n\n<style lang=\"scss\" scoped>\n    @import \"@scssVariables\";\n\n    .search-event-modal__keyword .v-input__slot:hover {\n        fieldset {\n            border-radius: border-radius( 'm' ) !important;\n            border-width: 1px !important;\n        }\n    }\n</style>\n<style lang=\"scss\">\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .search-event-modal__keyword {\n        .v-text-field__slot input::placeholder {\n            opacity: 0.4;\n        }\n    }\n\n    .gst-search-modal {\n        .gst-search-modal__logo {\n            svg {\n                @include mobile-only {\n                    max-width: 158px;\n                }\n            }\n        }\n\n        .gst-search-icon-svg-focused {\n            .gst-svg-icon {\n                fill: theme-color( 'primary' );\n            }\n        }\n    }\n</style>\n"]}]}