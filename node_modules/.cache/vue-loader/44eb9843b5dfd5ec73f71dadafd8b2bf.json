{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/user/TheUserFavorites/UserFavoritesTabs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/user/TheUserFavorites/UserFavoritesTabs.vue","mtime":1645805364040},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcFN0YXRlLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCBudW1iZXJDb25zdGFudHMgZnJvbSAnQGNvcmUvdXRpbHMvY29uc3RhbnRzL251bWJlcic7CmltcG9ydCBlbnRpdHlDb25zdGFudHMgZnJvbSAnQGNvcmUvdXRpbHMvY29uc3RhbnRzL2VudGl0eSc7CmltcG9ydCBhc3luY1BhcmFsbGVsIGZyb20gJ0Bjb3JlL3V0aWxzL2FzeW5jUGFyYWxsZWwnOwppbXBvcnQgRGF0YUxvYWRpbmcgZnJvbSAnQGNvcmUvc2hhcmVkL2NvbXBvbmVudHMvbG9hZGluZy9EYXRhTG9hZGluZy52dWUnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1VzZXJGYXZvcml0ZXNUYWJzJywKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBEYXRhTG9hZGluZwogICAgfSwKICAgIGkxOG5PcHRpb25zOiB7CiAgICAgICAgbmFtZXNwYWNlczogJ21haW4nLAogICAgICAgIGtleVByZWZpeDogJ3ZpZXdzLnVzZXJGYXZvcml0ZXMudGhlVXNlckZhdm9yaXRlcy5fY29tcG9uZW50cy51c2VyRmF2b3JpdGVzVGFicycKICAgIH0sCiAgICBkYXRhKCApIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmaXJzdExvYWRpbmc6IHRydWUKICAgICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwU3RhdGUoIHsKICAgICAgICAgICAgdG90YWxDb3VudEV2ZW50czogICAgICBzdGF0ZSA9PiBzdGF0ZS51c2VyLmZhdm9yaXRlRW50aXRpZXMudG90YWxDb3VudFsgZW50aXR5Q29uc3RhbnRzLlRZUEVTLkVWRU5UIF0sCiAgICAgICAgICAgIHRvdGFsQ291bnRBdHRyYWN0aW9uczogc3RhdGUgPT4gc3RhdGUudXNlci5mYXZvcml0ZUVudGl0aWVzLnRvdGFsQ291bnRbIGVudGl0eUNvbnN0YW50cy5UWVBFUy5BVFRSQUNUSU9OIF0sCiAgICAgICAgfSApLAogICAgICAgIHRhYnMoKSB7CiAgICAgICAgICAgIHJldHVybiAgWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlkOiAwLAogICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCAnZXZlbnRzLnRpdGxlJyApLAogICAgICAgICAgICAgICAgICAgIHRvOiB7IG5hbWU6ICd1c2VyRmF2b3JpdGVzJywgcXVlcnk6IHRoaXMuJHJvdXRlLnF1ZXJ5IH0sCiAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRoaXMudG90YWxDb3VudEV2ZW50cwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZDogMSwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy4kdCggJ2F0dHJhY3Rpb25zLnRpdGxlJyApLAogICAgICAgICAgICAgICAgICAgIHRvOiB7IG5hbWU6ICd1c2VyRmF2b3JpdGVzLmF0dHJhY3Rpb25zJywgcXVlcnk6IHRoaXMuJHJvdXRlLnF1ZXJ5IH0sCiAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRoaXMudG90YWxDb3VudEF0dHJhY3Rpb25zCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF07CiAgICAgICAgfSwKICAgICAgICBxdWVyeUxpbWl0RXZlbnRzKCkgewogICAgICAgICAgICByZXR1cm4gNjsKICAgICAgICB9LAogICAgICAgIHF1ZXJ5TGltaXRBdHRyYWN0aW9ucygpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC5tZEFuZFVwID8gMTggOiA2OwogICAgICAgIH0sCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoIHsKICAgICAgICAgICAgZ2V0RmF2b3JpdGVFbnRpdGllczogJ3VzZXIvZmF2b3JpdGVFbnRpdGllcy9nZXQnLAogICAgICAgIH0gKSwKICAgICAgICBhc3luYyBsb2FkRGF0YSgpIHsKICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgICAgICAgICAgb2Zmc2V0OiAwLAogICAgICAgICAgICB9OwogICAgICAgICAgICBhd2FpdCBhc3luY1BhcmFsbGVsKCBbCiAgICAgICAgICAgICAgICBhc3luYyAoICkgPT4geyBhd2FpdCB0aGlzLmdldEZhdm9yaXRlRW50aXRpZXMoIHsgcmVmcmVzaDogdHJ1ZSwgc2VhcmNoOiB7IHR5cGU6IGVudGl0eUNvbnN0YW50cy5UWVBFUy5FVkVOVCwgbGltaXQ6IHRoaXMucXVlcnlMaW1pdEV2ZW50cywgLi4ucGFyYW1zIH0gfSApOyB9LAogICAgICAgICAgICAgICAgYXN5bmMgKCApID0+IHsgYXdhaXQgdGhpcy5nZXRGYXZvcml0ZUVudGl0aWVzKCB7IHJlZnJlc2g6IHRydWUsIHNlYXJjaDogeyB0eXBlOiBlbnRpdHlDb25zdGFudHMuVFlQRVMuQVRUUkFDVElPTiwgbGltaXQ6IHRoaXMucXVlcnlMaW1pdEF0dHJhY3Rpb25zLCAuLi5wYXJhbXMgfSB9ICk7IH0sCiAgICAgICAgICAgIF0sIDIgKTsKICAgICAgICB9LAogICAgICAgIHRvdGFsc0Zvcm1hdGVkKCB0b3RhbCApIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJG9wdGlvbnMuZmlsdGVycy5udW1iZXIoIHRvdGFsLCBudW1iZXJDb25zdGFudHMuRk9STUFULklOVEVHRVIgKTsKICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgbW91bnRlZCgpIHsKICAgICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKCApOwogICAgICAgIHRoaXMuZmlyc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgLyoqCiAgICAgICAgICogSGFjayAtIGlvbnV0dAogICAgICAgICAqIHZ1ZXRpZnkvaXNzdWVzLzQ3MzMKICAgICAgICAgKi8KICAgICAgICB0aGlzLiRyZWZzLnRhYnMgJiYgdGhpcy4kcmVmcy50YWJzLm9uUmVzaXplKCApOwogICAgfQp9Owo="},{"version":3,"sources":["UserFavoritesTabs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserFavoritesTabs.vue","sourceRoot":"src/core/views/user/TheUserFavorites","sourcesContent":["<template>\n    <div>\n        <DataLoading v-if=\"firstLoading\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n        <template v-else>\n            <v-tabs\n                ref=\"tabs\"\n                background-color=\"transparent\"\n                color=\"primary\"\n                class=\"gst-user-favorite-tabs\"\n                :show-arrows=\"false\">\n                <v-tab\n                    v-for=\"tab in tabs\"\n                    :key=\"tab.id\"\n                    :to=\"tab.to\"\n                    exact>\n                    {{ tab.title }} ({{ totalsFormated( tab.total ) }})\n                </v-tab>\n            </v-tabs>\n\n            <v-tabs-items class=\"gst-user-favorite-tabs__item\">\n                <router-view />\n            </v-tabs-items>\n        </template>\n    </div>\n</template>\n<script>\n    import { mapState, mapActions } from 'vuex';\n    import numberConstants from '@core/utils/constants/number';\n    import entityConstants from '@core/utils/constants/entity';\n    import asyncParallel from '@core/utils/asyncParallel';\n    import DataLoading from '@core/shared/components/loading/DataLoading.vue';\n\n    export default {\n        name: 'UserFavoritesTabs',\n        components: {\n            DataLoading\n        },\n        i18nOptions: {\n            namespaces: 'main',\n            keyPrefix: 'views.userFavorites.theUserFavorites._components.userFavoritesTabs'\n        },\n        data( ) {\n            return {\n                firstLoading: true\n            };\n        },\n        computed: {\n            ...mapState( {\n                totalCountEvents:      state => state.user.favoriteEntities.totalCount[ entityConstants.TYPES.EVENT ],\n                totalCountAttractions: state => state.user.favoriteEntities.totalCount[ entityConstants.TYPES.ATTRACTION ],\n            } ),\n            tabs() {\n                return  [\n                    {\n                        id: 0,\n                        title: this.$t( 'events.title' ),\n                        to: { name: 'userFavorites', query: this.$route.query },\n                        total: this.totalCountEvents\n                    },\n                    {\n                        id: 1,\n                        title: this.$t( 'attractions.title' ),\n                        to: { name: 'userFavorites.attractions', query: this.$route.query },\n                        total: this.totalCountAttractions\n                    }\n                ];\n            },\n            queryLimitEvents() {\n                return 6;\n            },\n            queryLimitAttractions() {\n                return this.$vuetify.breakpoint.mdAndUp ? 18 : 6;\n            },\n        },\n        methods: {\n            ...mapActions( {\n                getFavoriteEntities: 'user/favoriteEntities/get',\n            } ),\n            async loadData() {\n                const params = {\n                    offset: 0,\n                };\n                await asyncParallel( [\n                    async ( ) => { await this.getFavoriteEntities( { refresh: true, search: { type: entityConstants.TYPES.EVENT, limit: this.queryLimitEvents, ...params } } ); },\n                    async ( ) => { await this.getFavoriteEntities( { refresh: true, search: { type: entityConstants.TYPES.ATTRACTION, limit: this.queryLimitAttractions, ...params } } ); },\n                ], 2 );\n            },\n            totalsFormated( total ) {\n                return this.$options.filters.number( total, numberConstants.FORMAT.INTEGER );\n            }\n        },\n        async mounted() {\n            await this.loadData( );\n            this.firstLoading = false;\n            /**\n             * Hack - ionutt\n             * vuetify/issues/4733\n             */\n            this.$refs.tabs && this.$refs.tabs.onResize( );\n        }\n    };\n</script>\n\n\n<style lang=\"scss\" scoped>\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-user-favorite-tabs.v-tabs {\n        border-bottom: 1px solid theme-color( 'quinary' );\n\n        .v-slide-group__prev {\n            display: none !important;\n        }\n\n        .v-tab {\n            padding: 0;\n            margin: 0 16px 0 0;\n            font-size: font-size( 'l' );\n            letter-spacing: -0.47px;\n            text-transform: none;\n            min-width: auto;\n        }\n\n        .v-tabs-bar .v-tab:not(.v-tab--active) {\n            color: theme-color( 'tertiary' );\n        }\n    }\n</style>\n"]}]}