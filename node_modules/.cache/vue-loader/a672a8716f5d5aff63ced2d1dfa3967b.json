{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/core/shared/components/images/ImageMagnifier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/shared/components/images/ImageMagnifier.vue","mtime":1645805363955},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0ltYWdlTWFnbmlmaWVyJywKICAgIHByb3BzOiB7CiAgICAgICAgc3JjOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogbnVsbAogICAgICAgIH0sCiAgICAgICAgZ2xhc3NXaWR0aDogewogICAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICAgIGRlZmF1bHQ6IDE1MAogICAgICAgIH0sCiAgICAgICAgZ2xhc3NIZWlnaHQ6IHsKICAgICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OiAxNTAKICAgICAgICB9LAogICAgICAgIHpvb206IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAnMjAwJScKICAgICAgICB9CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpbWFnZUJvdW5kczogbnVsbCwKICAgICAgICAgICAgY3Vyc29yWDogMCwKICAgICAgICAgICAgY3Vyc29yWTogMCwKICAgICAgICAgICAgY29udGFpbmVySGVpZ2h0OiAnMTAwJScsCiAgICAgICAgICAgIGhhc01hZ25pZmllckJpZ2dlclNpemVUaGFuSW1hZ2U6ICBmYWxzZQogICAgICAgIH07CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBnbGFzc1N0eWxlKCApIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke3RoaXMuc3JjfSlgLAogICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiB0aGlzLmJhY2tncm91bmRQb3NpdGlvbiwKICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiB0aGlzLmJhY2tncm91bmRTaXplLAogICAgICAgICAgICAgICAgbGVmdDogYCR7dGhpcy5jdXJzb3JYfXB4YCwKICAgICAgICAgICAgICAgIHRvcDogYCR7dGhpcy5jdXJzb3JZfXB4YCwKICAgICAgICAgICAgICAgIHdpZHRoOiBgJHt0aGlzLmdsYXNzV2lkdGh9cHhgLAogICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHt0aGlzLmdsYXNzSGVpZ2h0fXB4YCwKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSggJHt0aGlzLnRyYW5zbGF0ZVZhbHVlfXB4LCAke3RoaXMudHJhbnNsYXRlVmFsdWV9cHggKWAKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIGNvbnRhaW5lclN0eWxlKCApIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGhlaWdodDogYCR7dGhpcy5jb250YWluZXJIZWlnaHR9YAogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgem9vbVJhdGlvKCApIHsKICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KCB0aGlzLnpvb20gKSAvIDEwMDsKICAgICAgICB9LAogICAgICAgIGJhY2tncm91bmRQb3NpdGlvbiggKSB7CiAgICAgICAgICAgIGNvbnN0IHBvc1ggPSAtMSAqICggKCB0aGlzLmN1cnNvclggKiB0aGlzLnpvb21SYXRpbyApIC0gKCB0aGlzLmdsYXNzV2lkdGggLyAyICkgKyAzICk7CiAgICAgICAgICAgIGNvbnN0IHBvc1kgPSAtMSAqICggKCB0aGlzLmN1cnNvclkgKiB0aGlzLnpvb21SYXRpbyApIC0gKCB0aGlzLmdsYXNzSGVpZ2h0IC8gMiApICsgMyApOwoKICAgICAgICAgICAgcmV0dXJuIGAke3Bvc1h9cHggJHtwb3NZfXB4YDsKICAgICAgICB9LAogICAgICAgIGJhY2tncm91bmRTaXplKCApIHsKICAgICAgICAgICAgaWYgKCB0aGlzLmltYWdlQm91bmRzICkgewogICAgICAgICAgICAgICAgY29uc3Qgc2l6ZVdpZHRoID0gKCB0aGlzLmltYWdlQm91bmRzLndpZHRoICogdGhpcy56b29tUmF0aW8gKTsKICAgICAgICAgICAgICAgIGNvbnN0IHNpemVIZWlnaHQgPSAoIHRoaXMuaW1hZ2VCb3VuZHMuaGVpZ2h0ICogdGhpcy56b29tUmF0aW8gKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gYCR7c2l6ZVdpZHRofXB4ICR7c2l6ZUhlaWdodH1weGA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuICcwIDAnOwogICAgICAgIH0sCiAgICAgICAgdHJhbnNsYXRlVmFsdWUoICkgewogICAgICAgICAgICByZXR1cm4gKCAtMSAqIHRoaXMuZ2xhc3NXaWR0aCAvIDIgKTsKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldEN1cnNvclBvc2l0aW9uKCBlICkgewogICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7CiAgICAgICAgICAgIHRoaXMuY3Vyc29yWCA9IHRoaXMuaW1hZ2VCb3VuZHMgPyBlLnBhZ2VYIC0gdGhpcy5pbWFnZUJvdW5kcy5sZWZ0IDogdGhpcy5jdXJzb3JYOwogICAgICAgICAgICB0aGlzLmN1cnNvclkgPSB0aGlzLmltYWdlQm91bmRzID8gZS5wYWdlWSAtIHRoaXMuaW1hZ2VCb3VuZHMudG9wIDogdGhpcy5jdXJzb3JZOwogICAgICAgICAgICB0aGlzLmN1cnNvclggPSB0aGlzLmN1cnNvclggLSB3aW5kb3cucGFnZVhPZmZzZXQ7CiAgICAgICAgICAgIHRoaXMuY3Vyc29yWSA9IHRoaXMuY3Vyc29yWSAtIHdpbmRvdy5wYWdlWU9mZnNldDsKCiAgICAgICAgfSwKICAgICAgICBnZXRJbWFnZUJvdW5kcyggKSB7CiAgICAgICAgICAgIGlmICggdGhpcy4kcmVmcy5pbWFnZSApIHsKICAgICAgICAgICAgICAgIGxldCBpbWdFbGVtZW50ID0gdGhpcy4kcmVmcy5pbWFnZTsKICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VCb3VuZHMgPSBpbWdFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvbk1vdXNlTW92ZURvKCBlICkgewogICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIHRoaXMuZ2V0SW1hZ2VCb3VuZHMoKTsKICAgICAgICAgICAgdGhpcy5nZXRDdXJzb3JQb3NpdGlvbiggZSApOwoKICAgICAgICAgICAgaWYgKCB0aGlzLmltYWdlQm91bmRzICkgewogICAgICAgICAgICAgICAgaWYgKCB0aGlzLmN1cnNvclggPiB0aGlzLmltYWdlQm91bmRzLndpZHRoIC0gKCAoIHRoaXMuZ2xhc3NXaWR0aCAvIDIgKSAvIHRoaXMuem9vbVJhdGlvICkgKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJzb3JYID0gdGhpcy5pbWFnZUJvdW5kcy53aWR0aCAtICggKCB0aGlzLmdsYXNzV2lkdGggLyAyICkgLyB0aGlzLnpvb21SYXRpbyApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCB0aGlzLmN1cnNvclggPCAoIHRoaXMuZ2xhc3NXaWR0aCAvIDIgKSAvIHRoaXMuem9vbVJhdGlvICkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yWCA9ICggdGhpcy5nbGFzc1dpZHRoIC8gMiApIC8gdGhpcy56b29tUmF0aW87CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIHRoaXMuY3Vyc29yWSA+IHRoaXMuaW1hZ2VCb3VuZHMuaGVpZ2h0IC0gKCAoIHRoaXMuZ2xhc3NIZWlnaHQgLyAyICkgLyB0aGlzLnpvb21SYXRpbyApICkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yWSA9IHRoaXMuaW1hZ2VCb3VuZHMuaGVpZ2h0IC0gKCAoIHRoaXMuZ2xhc3NIZWlnaHQgLyAyICkgLyB0aGlzLnpvb21SYXRpbyApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCB0aGlzLmN1cnNvclkgPCAoIHRoaXMuZ2xhc3NIZWlnaHQgLyAyICkgLyB0aGlzLnpvb21SYXRpbyApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnNvclkgPSAoIHRoaXMuZ2xhc3NIZWlnaHQgLyAyICkgLyB0aGlzLnpvb21SYXRpbzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2FsY0NvbnRhaW5lclNpemU6IGRlYm91bmNlKCBmdW5jdGlvbiggKSB7CiAgICAgICAgICAgIHRoaXMuY29udGFpbmVySGVpZ2h0ID0gJzEwMCUnOwogICAgICAgICAgICBzZXRUaW1lb3V0KCAoICkgPT4gewogICAgICAgICAgICAgICAgaWYgKCB0aGlzLiRyZWZzLm1hZ25pZmllciAmJiB0aGlzLiRyZWZzLmltYWdlICkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hZ25pZmllckJvdW5kcyA9IHRoaXMuJHJlZnMubWFnbmlmaWVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTWFnbmlmaWVyQmlnZ2VyU2l6ZVRoYW5JbWFnZSA9IG1hZ25pZmllckJvdW5kcy53aWR0aCA+IHRoaXMuJHJlZnMuaW1hZ2UubmF0dXJhbFdpZHRoICYmIG1hZ25pZmllckJvdW5kcy5oZWlnaHQgPiB0aGlzLiRyZWZzLmltYWdlLm5hdHVyYWxIZWlnaHQ7CgogICAgICAgICAgICAgICAgICAgIGlmICggdGhpcy5oYXNNYWduaWZpZXJCaWdnZXJTaXplVGhhbkltYWdlICYmIHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC54bE9ubHkgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVySGVpZ2h0ID0gYCR7bWFnbmlmaWVyQm91bmRzLmhlaWdodH1weGA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVySGVpZ2h0ID0gYCR7dGhpcy4kcmVmcy5pbWFnZS5oZWlnaHR9cHhgOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCA1MCApOwogICAgICAgIH0sIDI1MCApCiAgICB9LAogICAgbW91bnRlZCggKSB7CiAgICAgICAgdGhpcy5nZXRDdXJzb3JQb3NpdGlvbigpOwogICAgICAgIHRoaXMuY2FsY0NvbnRhaW5lclNpemUoKTsKICAgIH0KfTsK"},{"version":3,"sources":["ImageMagnifier.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageMagnifier.vue","sourceRoot":"src/core/shared/components/images","sourcesContent":["<template>\n    <div\n        ref=\"magnifier\"\n        v-resize=\"calcContainerSize\"\n        class=\"gst-image-magnifier d-flex justify-center align-center u-height-100\">\n        <div\n            class=\"gst-image-magnifier__container d-flex align-center\"\n            :class=\"{\n                'u-width-100': hasMagnifierBiggerSizeThanImage && $vuetify.breakpoint.lgOnly\n            }\"\n            :style=\"containerStyle\"\n            @mousemove=\"onMouseMoveDo\">\n            <img\n                ref=\"image\"\n                class=\"gst-image-magnifier__container-image\"\n                :class=\"{\n                    'u-height-100': $vuetify.breakpoint.xlOnly\n                }\"\n                :src=\"src\" />\n            <span\n                class=\"gst-image-magnifier__container-glass\"\n                :style=\"glassStyle\"></span>\n        </div>\n    </div>\n</template>\n\n<script>\n    import debounce from 'lodash/debounce';\n\n    export default {\n        name: 'ImageMagnifier',\n        props: {\n            src: {\n                type: String,\n                default: null\n            },\n            glassWidth: {\n                type: Number,\n                default: 150\n            },\n            glassHeight: {\n                type: Number,\n                default: 150\n            },\n            zoom: {\n                type: String,\n                default: '200%'\n            }\n        },\n        data() {\n            return {\n                imageBounds: null,\n                cursorX: 0,\n                cursorY: 0,\n                containerHeight: '100%',\n                hasMagnifierBiggerSizeThanImage:  false\n            };\n        },\n        computed: {\n            glassStyle( ) {\n                return {\n                    backgroundImage: `url(${this.src})`,\n                    backgroundPosition: this.backgroundPosition,\n                    backgroundSize: this.backgroundSize,\n                    left: `${this.cursorX}px`,\n                    top: `${this.cursorY}px`,\n                    width: `${this.glassWidth}px`,\n                    height: `${this.glassHeight}px`,\n                    transform: `translate( ${this.translateValue}px, ${this.translateValue}px )`\n                };\n            },\n            containerStyle( ) {\n                return {\n                    height: `${this.containerHeight}`\n                };\n            },\n            zoomRatio( ) {\n                return parseInt( this.zoom ) / 100;\n            },\n            backgroundPosition( ) {\n                const posX = -1 * ( ( this.cursorX * this.zoomRatio ) - ( this.glassWidth / 2 ) + 3 );\n                const posY = -1 * ( ( this.cursorY * this.zoomRatio ) - ( this.glassHeight / 2 ) + 3 );\n\n                return `${posX}px ${posY}px`;\n            },\n            backgroundSize( ) {\n                if ( this.imageBounds ) {\n                    const sizeWidth = ( this.imageBounds.width * this.zoomRatio );\n                    const sizeHeight = ( this.imageBounds.height * this.zoomRatio );\n\n                    return `${sizeWidth}px ${sizeHeight}px`;\n                }\n                return '0 0';\n            },\n            translateValue( ) {\n                return ( -1 * this.glassWidth / 2 );\n            }\n        },\n        methods: {\n            getCursorPosition( e ) {\n                e = e || window.event;\n                this.cursorX = this.imageBounds ? e.pageX - this.imageBounds.left : this.cursorX;\n                this.cursorY = this.imageBounds ? e.pageY - this.imageBounds.top : this.cursorY;\n                this.cursorX = this.cursorX - window.pageXOffset;\n                this.cursorY = this.cursorY - window.pageYOffset;\n\n            },\n            getImageBounds( ) {\n                if ( this.$refs.image ) {\n                    let imgElement = this.$refs.image;\n                    this.imageBounds = imgElement.getBoundingClientRect();\n                }\n            },\n            onMouseMoveDo( e ) {\n                e.preventDefault();\n                this.getImageBounds();\n                this.getCursorPosition( e );\n\n                if ( this.imageBounds ) {\n                    if ( this.cursorX > this.imageBounds.width - ( ( this.glassWidth / 2 ) / this.zoomRatio ) ) {\n                        this.cursorX = this.imageBounds.width - ( ( this.glassWidth / 2 ) / this.zoomRatio );\n                    }\n                    if ( this.cursorX < ( this.glassWidth / 2 ) / this.zoomRatio ) {\n                        this.cursorX = ( this.glassWidth / 2 ) / this.zoomRatio;\n                    }\n                    if ( this.cursorY > this.imageBounds.height - ( ( this.glassHeight / 2 ) / this.zoomRatio ) ) {\n                        this.cursorY = this.imageBounds.height - ( ( this.glassHeight / 2 ) / this.zoomRatio );\n                    }\n                    if ( this.cursorY < ( this.glassHeight / 2 ) / this.zoomRatio ) {\n                        this.cursorY = ( this.glassHeight / 2 ) / this.zoomRatio;\n                    }\n                }\n            },\n            calcContainerSize: debounce( function( ) {\n                this.containerHeight = '100%';\n                setTimeout( ( ) => {\n                    if ( this.$refs.magnifier && this.$refs.image ) {\n                        const magnifierBounds = this.$refs.magnifier.getBoundingClientRect();\n                        this.hasMagnifierBiggerSizeThanImage = magnifierBounds.width > this.$refs.image.naturalWidth && magnifierBounds.height > this.$refs.image.naturalHeight;\n\n                        if ( this.hasMagnifierBiggerSizeThanImage && this.$vuetify.breakpoint.xlOnly ) {\n                            this.containerHeight = `${magnifierBounds.height}px`;\n                        }\n                        this.containerHeight = `${this.$refs.image.height}px`;\n                    }\n                }, 50 );\n            }, 250 )\n        },\n        mounted( ) {\n            this.getCursorPosition();\n            this.calcContainerSize();\n        }\n    };\n</script>\n\n\n<style lang=\"scss\" scoped>\n@import \"@scssVariables\";\n@import \"@scssMixins\";\n\n.gst-image-magnifier {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n\n    .gst-image-magnifier__container {\n        position: relative;\n        cursor: crosshair;\n        max-width: 100%;\n\n        .gst-image-magnifier__container-image {\n            width: 100%;\n            opacity: 0;\n            max-height: 100%;\n            object-fit: contain;\n            object-position: center;\n        }\n\n        .gst-image-magnifier__container-glass {\n            position: absolute;\n            border: 5px solid theme-color( 'primary' );\n            background: theme-color( 'white' ) no-repeat;\n            opacity: 0;\n            border-radius: border-radius( 'circle' );\n            pointer-events: none;\n            box-shadow: inset 0 0 40px 2px rgba( theme-color-hex( 'black' ), 0.25 );\n            transition: opacity 0.15s ease-in;\n        }\n    }\n}\n\n.gst-image-magnifier .gst-image-magnifier__container:hover {\n    .gst-image-magnifier__container-glass {\n        opacity: 1;\n    }\n}\n</style>"]}]}