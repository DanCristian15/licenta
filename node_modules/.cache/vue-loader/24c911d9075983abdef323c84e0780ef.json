{"remainingRequest":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/proiect-licenta-front/src/core/views/cart/TheChekoutWizard/Step3PaymentSplit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/src/core/views/cart/TheChekoutWizard/Step3PaymentSplit.vue","mtime":1645805364018},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/proiect-licenta-front/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBjYWxjdWxhdGVQb2ludHNSZW1haW5pbmdGcm9tVG90YWwgYXMgYm9udXNQb2ludHNVdGlsc0NhbGN1bGF0ZVBvaW50c1JlbWFpbmluZ0Zyb21Ub3RhbCwKICAgIGNhbGN1bGF0ZUFtb3VudFJlbWFpbmluZ0Zyb21Ub3RhbCBhcyBib251c1BvaW50c1V0aWxzQ2FsY3VsYXRlQW1vdW50UmVtYWluaW5nRnJvbVRvdGFsCn0gZnJvbSAnQGNvcmUvdXRpbHMvYm9udXNQb2ludHNVdGlscyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnU3RlcDNQYXltZW50U3BsaXQnLAogICAgaTE4bk9wdGlvbnM6IHsKICAgICAgICBuYW1lc3BhY2VzOiAnbWFpbicsCiAgICAgICAga2V5UHJlZml4OiAndmlld3MuY2FydC50aGVDaGVja291dFdpemFyZC5fY29tcG9uZW50cy5zdGVwM1BheW1lbnQnCiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgICB2YWx1ZTogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfSwKICAgICAgICBib251c1BvaW50c1JhdGU6IHsKICAgICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICB9LAogICAgICAgIG1heFBvaW50czogewogICAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICAgICAgfSwKICAgICAgICBtYXhBbW91bnQ6IHsKICAgICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3k6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAnJwogICAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGVkaXRQb2ludHM6IGZhbHNlLAogICAgICAgICAgICBlZGl0QW1vdW50OiBmYWxzZQogICAgICAgIH07CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBwb2ludHNWYWx1ZTogewogICAgICAgICAgICBnZXQoICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUucG9pbnRzOwogICAgICAgICAgICB9LAogICAgICAgICAgICBzZXQoIG5ld1ZhbHVlICkgewogICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBuZXdWYWx1ZSAqIDE7CgogICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSAhPSB0aGlzLnZhbHVlLnBvaW50cyApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCAnaW5wdXQnLCB7IHBvaW50czogdmFsdWUsIGFtb3VudDogdGhpcy5nZXRBbW91bnRzUmVtYWluaW5nKCB2YWx1ZSApIH0gKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYW1vdW50VmFsdWU6IHsKICAgICAgICAgICAgZ2V0KCApIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmFtb3VudDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0KCBuZXdWYWx1ZSApIHsKICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbmV3VmFsdWUgKiAxOwogICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSAhPSB0aGlzLnZhbHVlLmFtb3VudCApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCAnaW5wdXQnLCB7IHBvaW50czogdGhpcy5nZXRQb2ludHNSZW1haW5pbmcoIHZhbHVlICksIGFtb3VudDogdmFsdWUgfSApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzbGlkZXJWYWx1ZTogewogICAgICAgICAgICBnZXQoICkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRzVmFsdWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCggbmV3VmFsdWUgKSB7CiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5ld1ZhbHVlICogMTsKCiAgICAgICAgICAgICAgICBpZiAoIHZhbHVlICE9IHRoaXMucG9pbnRzVmFsdWUgKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCggJ2lucHV0JywgeyBwb2ludHM6IHZhbHVlLCBhbW91bnQ6IHRoaXMuZ2V0QW1vdW50c1JlbWFpbmluZyggdmFsdWUgKSAgfSApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBwb2ludHNGb3JtYXRlZCggKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRvcHRpb25zLmZpbHRlcnMuYm9udXNQb2ludHMoIHRoaXMucG9pbnRzVmFsdWUgKTsKICAgICAgICB9LAogICAgICAgIGhhc0Vycm9ycyggKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhc0JvbnVzUG9pbnRzTWF4RXJyb3I7CiAgICAgICAgfSwKICAgICAgICBoYXNCb251c1BvaW50c01heEVycm9yICggKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLnBvaW50cyA+IHRoaXMubWF4UG9pbnRzOwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0UG9pbnRzUmVtYWluaW5nKCBhbW91bnQgKSB7CiAgICAgICAgICAgIHJldHVybiBib251c1BvaW50c1V0aWxzQ2FsY3VsYXRlUG9pbnRzUmVtYWluaW5nRnJvbVRvdGFsKCB0aGlzLm1heEFtb3VudCwgYW1vdW50LCB0aGlzLmJvbnVzUG9pbnRzUmF0ZSApOwogICAgICAgIH0sCiAgICAgICAgZ2V0QW1vdW50c1JlbWFpbmluZyAoIHBvaW50cyApIHsKICAgICAgICAgICAgcmV0dXJuIGJvbnVzUG9pbnRzVXRpbHNDYWxjdWxhdGVBbW91bnRSZW1haW5pbmdGcm9tVG90YWwoIHRoaXMubWF4QW1vdW50LCBwb2ludHMsIHRoaXMuYm9udXNQb2ludHNSYXRlICk7CiAgICAgICAgfSwKICAgICAgICBzd2l0Y2hUb1JlYWRSYW5nZVZhbHVlKCApIHsKICAgICAgICAgICAgdGhpcy5lZGl0UG9pbnRzID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuZWRpdEFtb3VudCA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgdG9vZ2xlRWRpdFBvaW50c1ZhbHVlKCApIHsKICAgICAgICAgICAgaWYgKCAhdGhpcy5lZGl0UG9pbnRzICkgewogICAgICAgICAgICAgICAgdGhpcy5lZGl0UG9pbnRzID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoICggKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wb2ludHNUZXh0RmllbGQuZm9jdXMoICk7CiAgICAgICAgICAgICAgICB9LCAyMDAgKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZWRpdFBvaW50cyA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB0b29nbGVFZGl0QW1vdW50VmFsdWUoICkgewogICAgICAgICAgICBpZiAoICF0aGlzLmVkaXRBbW91bnQgKSB7CiAgICAgICAgICAgICAgICB0aGlzLmVkaXRBbW91bnQgPSB0cnVlOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCggKCApID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFtb3VudFRleHRGaWVsZC5mb2N1cyggKTsKICAgICAgICAgICAgICAgIH0sIDIwMCApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5lZGl0QW1vdW50ID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGVuZm9yY2VNaW5NYXgoIGVsICkgewogICAgICAgICAgICBpZiggZWwudmFsdWUgIT0gJycgKSB7CiAgICAgICAgICAgICAgICBpZiggcGFyc2VJbnQoIGVsLnZhbHVlICkgPCBwYXJzZUludCggZWwubWluICkgKSB7CiAgICAgICAgICAgICAgICAgICAgZWwudmFsdWUgPSBlbC5taW47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiggcGFyc2VJbnQoIGVsLnZhbHVlICkgPiBwYXJzZUludCggZWwubWF4ICkgKXsKICAgICAgICAgICAgICAgICAgICBlbC52YWx1ZSA9IGVsLm1heDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["Step3PaymentSplit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Step3PaymentSplit.vue","sourceRoot":"src/core/views/cart/TheChekoutWizard","sourcesContent":["<template>\n    <div flat class=\"gst-step3-payment-split\">\n        <div\n            :class=\"{\n                'gst-step3-payment-split__input--error': hasErrors\n            }\"\n            class=\"gst-step3-payment-split__input pa-4\">\n            <v-flex d-flex flex-row align-center class=\"mb-3\">\n                <v-flex d-flex :style=\"{flex: '1 0'}\">\n                    <transition name=\"fade\" mode=\"out-in\">\n                        <v-flex\n                            v-if=\"!editPoints\"\n                            key=\"1\"\n                            d-flex\n                            align-center\n                            justify-center\n                            grow\n                            class=\"px-2 gst-step3-payment-split__label\"\n                            @click=\"toogleEditPointsValue( )\">\n                            {{ $t(\"_common:terms.bonusPointWithCount\", {count: pointsValue, formattedCount: pointsFormated} ) }}\n                        </v-flex>\n                        <v-text-field\n                            v-if=\"editPoints\"\n                            ref=\"pointsTextField\"\n                            key=\"2\"\n                            v-model=\"pointsValue\"\n                            type=\"number\"\n                            min=\"0\"\n                            :max=\"maxPoints\"\n                            color=\"primary\"\n                            single-line\n                            outlined\n                            hide-details\n                            class=\"gst-input--secondary gst-step3-payment-split__textfield\"\n                            @keyup=\"enforceMinMax( $refs.pointsTextField.$refs.input )\"\n                            @keyup.enter=\"toogleEditPointsValue( )\"\n                            @blur=\"toogleEditPointsValue( )\" />\n                    </transition>\n                </v-flex>\n                <v-flex shrink class=\"px-2 gst-step3-payment-split__separator\">\n                    {{ $t('_common:terms.and') }}\n                </v-flex>\n                <v-flex :style=\"{flex: '1 0'}\">\n                    <transition name=\"fade\" mode=\"out-in\">\n                        <v-flex\n                            v-if=\"!editAmount\"\n                            key=\"1\"\n                            d-flex\n                            align-center\n                            justify-center\n                            grow\n                            class=\"px-2 gst-step3-payment-split__label\"\n                            @click=\"toogleEditAmountValue( )\">\n                            {{ amountValue | currencyFull( currency ) }}\n                        </v-flex>\n                        <v-text-field\n                            v-if=\"editAmount\"\n                            key=\"2\"\n                            ref=\"amountTextField\"\n                            v-model=\"amountValue\"\n                            type=\"number\"\n                            min=\"0\"\n                            :max=\"maxAmount\"\n                            color=\"primary\"\n                            single-line\n                            outlined\n                            hide-details\n                            class=\"gst-input--secondary gst-step3-payment-split__textfield\"\n                            @keyup=\"enforceMinMax( $refs.amountTextField.$refs.input )\"\n                            @keyup.enter=\"toogleEditAmountValue( )\"\n                            @blur=\"toogleEditAmountValue( )\" />\n                    </transition>\n                </v-flex>\n            </v-flex>\n            <v-slider\n                v-model=\"sliderValue\"\n                min=\"0\"\n                :max=\"maxPoints\"\n                color=\"primary\"\n                track-color=\"quinary\"\n                track-fill-color=\"primary\"\n                class=\"gst-step3-payment-split__slide\"\n                hide-details\n                @click=\"switchToReadRangeValue()\" />\n        </div>\n        <v-expand-transition>\n            <div v-if=\"hasBonusPointsMaxError\" class=\"v-messages__wrapper error-text pl-4 pt-2\">\n                <div class=\"v-messages__message\">\n                    {{ $t('messages.bonusPointsError' ) }}\n                </div>\n            </div>\n        </v-expand-transition>\n    </div>\n</template>\n\n<script>\n    import {\n        calculatePointsRemainingFromTotal as bonusPointsUtilsCalculatePointsRemainingFromTotal,\n        calculateAmountRemainingFromTotal as bonusPointsUtilsCalculateAmountRemainingFromTotal\n    } from '@core/utils/bonusPointsUtils';\n\n    export default {\n        name: 'Step3PaymentSplit',\n        i18nOptions: {\n            namespaces: 'main',\n            keyPrefix: 'views.cart.theCheckoutWizard._components.step3Payment'\n        },\n        props: {\n            value: {\n                type: Object,\n                required: true\n            },\n            bonusPointsRate: {\n                type: Number,\n                required: true,\n            },\n            maxPoints: {\n                type: Number,\n                required: true\n            },\n            maxAmount: {\n                type: Number,\n                required: true\n            },\n            currency: {\n                type: String,\n                default: ''\n            }\n        },\n        data() {\n            return {\n                editPoints: false,\n                editAmount: false\n            };\n        },\n        computed: {\n            pointsValue: {\n                get( ) {\n                    return this.value.points;\n                },\n                set( newValue ) {\n                    const value = newValue * 1;\n\n                    if ( value != this.value.points ) {\n                        this.$emit( 'input', { points: value, amount: this.getAmountsRemaining( value ) } );\n                    }\n                }\n            },\n            amountValue: {\n                get( ) {\n                    return this.value.amount;\n                },\n                set( newValue ) {\n                    const value = newValue * 1;\n                    if ( value != this.value.amount ) {\n                        this.$emit( 'input', { points: this.getPointsRemaining( value ), amount: value } );\n                    }\n                }\n            },\n            sliderValue: {\n                get( ) {\n                    return this.pointsValue;\n                },\n                set( newValue ) {\n                    const value = newValue * 1;\n\n                    if ( value != this.pointsValue ) {\n                        this.$emit( 'input', { points: value, amount: this.getAmountsRemaining( value )  } );\n                    }\n                }\n            },\n            pointsFormated( ) {\n                return this.$options.filters.bonusPoints( this.pointsValue );\n            },\n            hasErrors( ) {\n                return this.hasBonusPointsMaxError;\n            },\n            hasBonusPointsMaxError ( ) {\n                return this.value.points > this.maxPoints;\n            }\n        },\n        methods: {\n            getPointsRemaining( amount ) {\n                return bonusPointsUtilsCalculatePointsRemainingFromTotal( this.maxAmount, amount, this.bonusPointsRate );\n            },\n            getAmountsRemaining ( points ) {\n                return bonusPointsUtilsCalculateAmountRemainingFromTotal( this.maxAmount, points, this.bonusPointsRate );\n            },\n            switchToReadRangeValue( ) {\n                this.editPoints = false;\n                this.editAmount = false;\n            },\n            toogleEditPointsValue( ) {\n                if ( !this.editPoints ) {\n                    this.editPoints = true;\n                    setTimeout( ( ) => {\n                        this.$refs.pointsTextField.focus( );\n                    }, 200 );\n                } else {\n                    this.editPoints = false;\n                }\n            },\n            toogleEditAmountValue( ) {\n                if ( !this.editAmount ) {\n                    this.editAmount = true;\n                    setTimeout( ( ) => {\n                        this.$refs.amountTextField.focus( );\n                    }, 200 );\n                } else {\n                    this.editAmount = false;\n                }\n            },\n            enforceMinMax( el ) {\n                if( el.value != '' ) {\n                    if( parseInt( el.value ) < parseInt( el.min ) ) {\n                        el.value = el.min;\n                    }\n                    if( parseInt( el.value ) > parseInt( el.max ) ){\n                        el.value = el.max;\n                    }\n                }\n            }\n        }\n    };\n</script>\n<style lang=\"scss\">\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-step3-payment-split {\n        .gst-step3-payment-split__input {\n            border: 1px solid theme-color( 'quinary' );\n            border-radius: border-radius( 'm' ) !important;\n        }\n\n        .gst-step3-payment-split__input--error {\n            border-color: theme-color( 'error' );\n        }\n\n        .gst-step3-payment-split__label {\n            height: 60px;\n            background-color: theme-color( 'quinary' );\n            font-size: font-size( 'l' );\n            font-weight: font-weight( 'medium' );\n            letter-spacing: -0.47px;\n            border-radius: border-radius( 'm' ) !important;\n            min-width: 155px;\n            border-color: theme-color( 'septenary' );\n            border-width: 1px;\n            border-style: solid;\n        }\n\n        .gst-step3-payment-split__textfield {\n            height: 60px;\n            border-radius: border-radius( 'm' ) !important;\n            min-width: 155px;\n\n            .v-input__control,\n            .v-input__slot {\n                height: 100%;\n            }\n        }\n\n        .gst-step3-payment-split__separator {\n            font-size: font-size( 'l' );\n            font-weight: font-weight( 'medium' );\n        }\n\n        .gst-step3-payment-split__slide {\n            .v-slider__thumb {\n                left: -13px;\n            }\n\n            .v-slider--horizontal {\n                margin-right: 0;\n                margin-left: 0;\n            }\n\n            .v-slider__track-container {\n                height: 6px !important;\n            }\n\n            .v-slider__thumb.primary {\n                height: 28px !important;\n                width: 28px !important;\n                background: theme-color( 'white' ) !important;\n                border-style: solid;\n                border-width: 2px;\n                box-shadow: 0 2px 4px 0 theme-color( 'shadow' );\n            }\n\n            .v-slider__thumb.primary::before {\n                display: none;\n            }\n        }\n\n        .error-text {\n            color: red;\n        }\n    }\n\n    @include mobile-only {\n        .gst-step3-payment-split {\n            .gst-step3-payment-split__label {\n                min-width: 125px;\n            }\n\n            .gst-step3-payment-split__textfield {\n                min-width: 125px;\n            }\n        }\n    }\n\n    .fade-enter-active,\n    .fade-leave-active {\n        transition: opacity 0.1s;\n    }\n\n    .fade-enter,\n    .fade-leave-to {\n        opacity: 0;\n    }\n</style>\n"]}]}