{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/modules/hotel/components/modal/HotelDetailsModal.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/modules/hotel/components/modal/HotelDetailsModal.vue","mtime":1645805365956},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/css-loader/dist/cjs.js","mtime":1637061260154},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1637061260528},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/postcss-loader/src/index.js","mtime":1637061260465},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/sass-loader/dist/cjs.js","mtime":1637061279772},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIkBzY3NzVmFyaWFibGVzIjsKQGltcG9ydCAiQHNjc3NNaXhpbnMiOwoKLmdzdC1ob3RlbC1kZXRhaWxzLW1vZGFsIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHBhZGRpbmctYm90dG9tOiAxNnB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogdGhlbWUtY29sb3IoICd3aGl0ZScgKSAhaW1wb3J0YW50OwogICAgY29sb3I6IHRoZW1lLWNvbG9yKCAncXVhdGVybmFyeScgKTsKICAgIG92ZXJmbG93LXg6IGhpZGRlbjsKICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKfQo="},{"version":3,"sources":["HotelDetailsModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HotelDetailsModal.vue","sourceRoot":"src/tenants/ticketmaster/app/modules/hotel/components/modal","sourcesContent":["<template>\n    <v-card class=\"gst-hotel-details-modal d-flex flex-column rounded\">\n        <HotelDetailsModalHeader class=\"flex-grow-0\" :item=\"item\" @close=\"$emit('close')\">\n            <template v-if=\"$vuetify.breakpoint.mdAndUp\" v-slot:addressBar>\n                <HotelDetailsAddressBar :item=\"item\" :bundle-products=\"bundleProducts\" />\n            </template>\n        </HotelDetailsModalHeader>\n        <HotelDetailsModalGallery :images=\"item.images\" />\n        <HotelDetailsAddressBar v-if=\"!$vuetify.breakpoint.mdAndUp\" :item=\"hotelData\" :bundle-products=\"bundleProducts\" />\n        <HotelDetailsTabsNavigation :item=\"hotelData\" :tab=\"tab\" :navigation-tabs=\"navigationTabs\" @change=\"changeTab\" />\n        <HotelDetailsModalBody :bundle-products=\"bundleProducts\"\n            :item=\"hotelData\"\n            :loading=\"!!loadingCounter\"\n            :tab=\"tab\"\n            :navigation-tabs=\"navigationTabs\"\n            :has-value=\"hasValue\"\n            :bus-events-parent=\"busEventsParent\"\n            @close=\"$emit('close')\"\n            @updateHotelData=\"loadHotel\" />\n    </v-card>\n</template>\n\n<script>\n    import { mapActions, mapState } from 'vuex';\n    import isEqual from 'lodash/isEqual';\n    import debounce from 'lodash/debounce';\n    import CloseModalOnRouteChangeMixin from '@core/mixins/modals/CloseModalOnRouteChange';\n    import CloseModalOnBreakpointChangeMixin from '@core/mixins/modals/CloseModalOnBreakpointChange';\n    import HotelDetailsModalHeader from './HotelDetailsModal/HotelDetailsModalHeader';\n    import HotelDetailsAddressBar from './HotelDetailsModal/HotelDetailsAddressBar';\n    import HotelDetailsModalGallery from './HotelDetailsModal/HotelDetailsModalGallery';\n    import HotelDetailsModalBody from './HotelDetailsModal/HotelDetailsModalBody';\n    import HotelDetailsTabsNavigation from './HotelDetailsModal/HotelDetailsTabsNavigation';\n\n    const STORE_NAME_GLOBAL = 'addHotelReservationState';\n    const STORE_NAME_MODAL = `${STORE_NAME_GLOBAL}/modalFilters`;\n\n    export default {\n        name: 'HotelDetailsModal',\n        components: {\n            HotelDetailsModalHeader,\n            HotelDetailsModalGallery,\n            HotelDetailsModalBody,\n            HotelDetailsTabsNavigation,\n            HotelDetailsAddressBar\n        },\n        mixins: [ CloseModalOnRouteChangeMixin, CloseModalOnBreakpointChangeMixin ],\n        props: {\n            item: {\n                type: Object,\n                default: null\n            },\n            bundleProducts: {\n                type: Object,\n                default: null\n            },\n            busEventsParent: {\n                type: Object,\n                default: null\n            },\n            hasValue: {\n                type: Boolean,\n                default: false\n            }\n        },\n        data() {\n            return {\n                navigationTabs: [ 'overview', 'rooms', 'whatsNearby' ],\n                tab: 1,\n                hotelData: this.item,\n                loadingCounter: 0\n            };\n        },\n        computed: {\n            ...mapState( {\n                filters: state => state[ STORE_NAME_GLOBAL ].filters,\n                modalFilters: state => state[STORE_NAME_GLOBAL].modalFilters\n            } )\n        },\n        watch: {\n            'filters.startDateTime': function ( ) {\n                this.loadHotel();\n            },\n            'filters.endDateTime': function ( ) {\n                this.loadHotel();\n            },\n            'modalFilters': {\n                handler: function ( ) {\n                    this.loadHotel();\n                },\n                deep: true\n            }\n        },\n        methods: {\n            ...mapActions( {\n                loadOne: `${STORE_NAME_GLOBAL}/hotels/loadOne`,\n                updateFiltersModal: `${STORE_NAME_MODAL}/update`,\n            } ),\n            changeTab( id ) {\n                this.tab = id;\n            },\n            loadHotel: debounce( async function ( ) {\n                this.loadingCounter++;\n                const item = await this.loadOne( {\n                    filters: {\n                        ...this.filters, ...this.modalFilters\n                    },\n                    id: this.item.id,\n                    dataProvider: this.item.dataProvider\n                } );\n\n                if ( item ) {\n                    this.hotelData = {\n                        ...this.hotelData,\n                        rooms: item.rooms,\n                    };\n                } else {\n                    this.hotelData = {\n                        ...this.hotelData,\n                        rooms: [ ]\n                    };\n                }\n                this.loadingCounter--;\n            }, 50 ),\n        },\n        mounted() {\n            const { guests, roomsCount } = this.filters;\n            if( !isEqual( { guests, roomsCount }, this.modalFilters ) ) {\n                //TODO check if this is the correct requirement\n                this.loadHotel();\n            }\n        }\n    };\n</script>\n\n<style lang=\"scss\">\n@import \"@scssVariables\";\n@import \"@scssMixins\";\n\n.gst-hotel-details-modal {\n    position: relative;\n    padding-bottom: 16px;\n    background-color: theme-color( 'white' ) !important;\n    color: theme-color( 'quaternary' );\n    overflow-x: hidden;\n    overflow-y: scroll;\n}\n</style>\n"]}]}