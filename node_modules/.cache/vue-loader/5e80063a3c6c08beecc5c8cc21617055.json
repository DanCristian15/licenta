{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/views/event/TheEvent/EventTicketDetailSidebar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/views/event/TheEvent/EventTicketDetailSidebar.vue","mtime":1645805365992},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCdW5kbGVQcm9kdWN0c01vZGVsIGZyb20gJ0B0ZW5hbnQvYXBwL21vZGVscy9CdW5kbGVQcm9kdWN0c01vZGVsJzsKaW1wb3J0IEJ1bmRsZVByb2R1Y3RzRXZlbnRUaWNrZXRNb2RlbCBmcm9tICdAdGVuYW50L2FwcC9tb2RlbHMvQnVuZGxlUHJvZHVjdHNFdmVudFRpY2tldE1vZGVsJzsKaW1wb3J0IEJ1bmRsZVByb2R1Y3RzSG90ZWxSZXNlcnZhdGlvbk1vZGVsIGZyb20gJ0B0ZW5hbnQvYXBwL21vZGVscy9CdW5kbGVQcm9kdWN0c0hvdGVsUmVzZXJ2YXRpb25Nb2RlbCc7CmltcG9ydCBFdmVudFRpY2tldERldGFpbE1peGluIGZyb20gJy4vRXZlbnRUaWNrZXREZXRhaWxNaXhpbic7CmltcG9ydCBFdmVudFRpY2tldERldGFpbFNpZGViYXJIZWFkZXIgZnJvbSAnLi9FdmVudFRpY2tldERldGFpbFNpZGViYXIvRXZlbnRUaWNrZXREZXRhaWxTaWRlYmFySGVhZGVyJzsKaW1wb3J0IEV2ZW50VGlja2V0RGV0YWlsU2lkZWJhclRpY2tldEltYWdlIGZyb20gJy4vRXZlbnRUaWNrZXREZXRhaWxTaWRlYmFyL0V2ZW50VGlja2V0RGV0YWlsU2lkZWJhclRpY2tldEltYWdlJzsKaW1wb3J0IEV2ZW50VGlja2V0RGV0YWlsU2lkZWJhckZvb3RlciBmcm9tICcuL0V2ZW50VGlja2V0RGV0YWlsU2lkZWJhci9FdmVudFRpY2tldERldGFpbFNpZGViYXJGb290ZXInOwppbXBvcnQgRXZlbnRUaWNrZXREZXRhaWxTaWRlYmFySG90ZWxzIGZyb20gJy4vRXZlbnRUaWNrZXREZXRhaWxTaWRlYmFyL0V2ZW50VGlja2V0RGV0YWlsU2lkZWJhckhvdGVscyc7CmltcG9ydCBUaWNrZXREZXRhaWxPZmZlckl0ZW0gZnJvbSAnLi9jb21wb25lbnRzL1RpY2tldERldGFpbE9mZmVySXRlbSc7Cgpjb25zdCBPRkZFUlNfVklFV19MRU5HVEggPSAyOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0V2ZW50VGlja2V0RGV0YWlsU2lkZWJhcicsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgRXZlbnRUaWNrZXREZXRhaWxTaWRlYmFySGVhZGVyLAogICAgICAgIEV2ZW50VGlja2V0RGV0YWlsU2lkZWJhclRpY2tldEltYWdlLAogICAgICAgIEV2ZW50VGlja2V0RGV0YWlsU2lkZWJhckZvb3RlciwKICAgICAgICBUaWNrZXREZXRhaWxPZmZlckl0ZW0sCiAgICAgICAgRXZlbnRUaWNrZXREZXRhaWxTaWRlYmFySG90ZWxzCiAgICB9LAogICAgbWl4aW5zOiBbCiAgICAgICAgRXZlbnRUaWNrZXREZXRhaWxNaXhpbiwKICAgIF0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNlZU1vcmU6IGZhbHNlLAogICAgICAgICAgICBkYXRlRmlsdGVyT3BlbmVkOiBmYWxzZQogICAgICAgIH07CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBmaXJzdE9mZmVySXRlbXMoICkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5vZmZlcnNNb2RlbC5sZW5ndGggPyB0aGlzLm9mZmVyc01vZGVsLnNsaWNlKCAwLCBPRkZFUlNfVklFV19MRU5HVEggKSA6IFsgXTsKICAgICAgICB9LAogICAgICAgIG1vcmVPZmZlckl0ZW1zKCApIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMub2ZmZXJzTW9kZWwubGVuZ3RoID4gMiA/IHRoaXMub2ZmZXJzTW9kZWwuc2xpY2UoIE9GRkVSU19WSUVXX0xFTkdUSCApIDogWyBdOwogICAgICAgIH0sCiAgICAgICAgaGFzTW9yZU9mZmVySXRlbXMoICkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5vZmZlcnNNb2RlbC5sZW5ndGggJiYgdGhpcy5vZmZlcnNNb2RlbC5sZW5ndGggPiBPRkZFUlNfVklFV19MRU5HVEg7CiAgICAgICAgfSwKICAgICAgICBzZWVNb3JlQnV0dG9uVGV4dCggKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlZU1vcmUgPyB0aGlzLiR0KCAnX2NvbW1vbjpidXR0b25zLnNlZUxlc3MnICkgOiB0aGlzLiR0KCAnX2NvbW1vbjpidXR0b25zLnNlZU1vcmUnICk7CiAgICAgICAgfSwKICAgICAgICBidW5kbGVQcm9kdWN0cyggKSB7CiAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gbmV3IEJ1bmRsZVByb2R1Y3RzTW9kZWwoCiAgICAgICAgICAgICAgICBuZXcgQnVuZGxlUHJvZHVjdHNFdmVudFRpY2tldE1vZGVsKAogICAgICAgICAgICAgICAgICAgIHsgLi4udGhpcy5ldmVudCB9LAogICAgICAgICAgICAgICAgICAgIHsgLi4udGhpcy50aWNrZXQgfSwKICAgICAgICAgICAgICAgICAgICBudWxsLAogICAgICAgICAgICAgICAgICAgIHRoaXMudGlja2V0c1F1YW50aXR5LAogICAgICAgICAgICAgICAgICAgIHRoaXMudGlja2V0c1RvdGFsQmFzZVByaWNlLAogICAgICAgICAgICAgICAgICAgIHRoaXMudGlja2V0c1RvdGFsQmFzZVByaWNlCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICk7CgogICAgICAgICAgICBjb25zdCB7IGhvdGVsUmVzZXJ2YXRpb24gfSA9IHRoaXM7CiAgICAgICAgICAgIGlmICggaG90ZWxSZXNlcnZhdGlvbiApIHsKICAgICAgICAgICAgICAgIG1vZGVsLnNldEhvdGVsUmVzZXJ2YXRpb24oIG5ldyBCdW5kbGVQcm9kdWN0c0hvdGVsUmVzZXJ2YXRpb25Nb2RlbCgKICAgICAgICAgICAgICAgICAgICBob3RlbFJlc2VydmF0aW9uLml0ZW0KICAgICAgICAgICAgICAgICkgKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIG1vZGVsOwogICAgICAgIH0sCiAgICAgICAgaG90ZWxSZXNlcnZhdGlvbk5pZ2h0cyggKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1bmRsZVByb2R1Y3RzLmhvdGVsUmVzZXJ2YXRpb24ucXVhbnRpdHkubmlnaHRzOwogICAgICAgIH0sCiAgICAgICAgdG90YWxCYXNlUHJpY2UoICkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5idW5kbGVQcm9kdWN0cy5nZXRUb3RhbHMoICk7CiAgICAgICAgfSwKICAgICAgICBpc1N1Ym1pdEVuYWJsZWQoICkgewogICAgICAgICAgICBpZiAoIHRoaXMuZGF0ZUZpbHRlck9wZW5lZCApIHsKICAgICAgICAgICAgICAgIHJldHVybiAhIXRoaXMuaG90ZWxSZXNlcnZhdGlvbjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuU3VibWl0OwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb25EYXRlRmlsdGVyT3BlbmVkRG8oIHZhbHVlICkgewogICAgICAgICAgICB0aGlzLmRhdGVGaWx0ZXJPcGVuZWQgPSB2YWx1ZTsKICAgICAgICB9CiAgICB9Cn07Cg=="},{"version":3,"sources":["EventTicketDetailSidebar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EventTicketDetailSidebar.vue","sourceRoot":"src/tenants/ticketmaster/app/views/event/TheEvent","sourcesContent":["<template>\n    <div class=\"gst-event-ticket-detail-sidebar u-height-100 d-flex flex-column\">\n        <EventTicketDetailSidebarHeader :ticket=\"ticket\" :quantity=\"quantity\" @close=\"$emit( 'close-ticket' )\" />\n        <EventTicketDetailSidebarTicketImage :ticket=\"ticket\" />\n        <div\n            class=\"mb-4 text-center\"\n            :class=\"{\n                'overflow-auto': seeMore\n            }\"\n            :style=\"{ maxHeight: '200px' }\">\n            <div\n                v-for=\"item in firstOfferItems\"\n                :key=\"item.offer.id\"\n                class=\"d-flex flex-row align-center u-width-100 mt-4\">\n                <TicketDetailOfferItem\n                    :item=\"item\"\n                    :ticket=\"ticket\"\n                    :max-quantity=\"getMaxQuantityForOfferModelItem( item )\"\n                    :is-multiple-offers=\"offers.length > 1\" />\n            </div>\n            <v-expand-transition>\n                <div v-if=\"seeMore && hasMoreOfferItems\" class=\"u-width-100\">\n                    <div\n                        v-for=\"item in moreOfferItems\"\n                        :key=\"item.offer.id\"\n                        class=\"d-flex flex-row align-center u-width-100 mt-4\">\n                        <TicketDetailOfferItem\n                            :item=\"item\"\n                            :ticket=\"ticket\"\n                            :max-quantity=\"getMaxQuantityForOfferModelItem( item )\"\n                            :is-multiple-offers=\"offers.length > 1\" />\n                    </div>\n                </div>\n            </v-expand-transition>\n            <v-btn\n                v-if=\"hasMoreOfferItems\"\n                text\n                small\n                shrink\n                color=\"primary\"\n                class=\"gst-event-ticket-detail-sidebar__see-more-btn text-lowercase mx-auto\"\n                @click=\"seeMore = !seeMore\">\n                {{ seeMoreButtonText }}\n            </v-btn>\n        </div>\n        <EventTicketDetailSidebarHotels\n            :style=\"{'flex': 1, display: 'flex', 'min-height':0}\"\n            :hotel-reservation=\"hotelReservation\"\n            :tickets-quantity=\"quantity\"\n            :bundle-products=\"bundleProducts\"\n            :currency=\"currency\"\n            :bus-event-parent=\"busEventParent\"\n            @date-filter-opened=\"onDateFilterOpenedDo\" />\n        <EventTicketDetailSidebarFooter\n            :quantity-tickets=\"sumQuantityOffersModel\"\n            :total-base-price=\"totalBasePrice.basePrice\"\n            :quantity-hotel-nights=\"hotelReservationNights\"\n            :currency=\"currency\"\n            :enable-submit=\"isSubmitEnabled\"\n            @submit=\"checkout\" />\n    </div>\n</template>\n\n<script>\n    import BundleProductsModel from '@tenant/app/models/BundleProductsModel';\n    import BundleProductsEventTicketModel from '@tenant/app/models/BundleProductsEventTicketModel';\n    import BundleProductsHotelReservationModel from '@tenant/app/models/BundleProductsHotelReservationModel';\n    import EventTicketDetailMixin from './EventTicketDetailMixin';\n    import EventTicketDetailSidebarHeader from './EventTicketDetailSidebar/EventTicketDetailSidebarHeader';\n    import EventTicketDetailSidebarTicketImage from './EventTicketDetailSidebar/EventTicketDetailSidebarTicketImage';\n    import EventTicketDetailSidebarFooter from './EventTicketDetailSidebar/EventTicketDetailSidebarFooter';\n    import EventTicketDetailSidebarHotels from './EventTicketDetailSidebar/EventTicketDetailSidebarHotels';\n    import TicketDetailOfferItem from './components/TicketDetailOfferItem';\n\n    const OFFERS_VIEW_LENGTH = 2;\n\n    export default {\n        name: 'EventTicketDetailSidebar',\n        components: {\n            EventTicketDetailSidebarHeader,\n            EventTicketDetailSidebarTicketImage,\n            EventTicketDetailSidebarFooter,\n            TicketDetailOfferItem,\n            EventTicketDetailSidebarHotels\n        },\n        mixins: [\n            EventTicketDetailMixin,\n        ],\n        data() {\n            return {\n                seeMore: false,\n                dateFilterOpened: false\n            };\n        },\n        computed: {\n            firstOfferItems( ) {\n                return this.offersModel.length ? this.offersModel.slice( 0, OFFERS_VIEW_LENGTH ) : [ ];\n            },\n            moreOfferItems( ) {\n                return this.offersModel.length > 2 ? this.offersModel.slice( OFFERS_VIEW_LENGTH ) : [ ];\n            },\n            hasMoreOfferItems( ) {\n                return this.offersModel.length && this.offersModel.length > OFFERS_VIEW_LENGTH;\n            },\n            seeMoreButtonText( ) {\n                return this.seeMore ? this.$t( '_common:buttons.seeLess' ) : this.$t( '_common:buttons.seeMore' );\n            },\n            bundleProducts( ) {\n                const model = new BundleProductsModel(\n                    new BundleProductsEventTicketModel(\n                        { ...this.event },\n                        { ...this.ticket },\n                        null,\n                        this.ticketsQuantity,\n                        this.ticketsTotalBasePrice,\n                        this.ticketsTotalBasePrice\n                    )\n                );\n\n                const { hotelReservation } = this;\n                if ( hotelReservation ) {\n                    model.setHotelReservation( new BundleProductsHotelReservationModel(\n                        hotelReservation.item\n                    ) );\n                }\n\n                return model;\n            },\n            hotelReservationNights( ) {\n                return this.bundleProducts.hotelReservation.quantity.nights;\n            },\n            totalBasePrice( ) {\n                return this.bundleProducts.getTotals( );\n            },\n            isSubmitEnabled( ) {\n                if ( this.dateFilterOpened ) {\n                    return !!this.hotelReservation;\n                }\n\n                return this.canSubmit;\n            }\n        },\n        methods: {\n            onDateFilterOpenedDo( value ) {\n                this.dateFilterOpened = value;\n            }\n        }\n    };\n</script>\n\n<style lang=\"scss\">\n    @import '@scssVariables';\n    @import '@scssMixins';\n\n    .gst-event-ticket-detail-sidebar {\n        background: theme-color( 'white' );\n\n        .gst-event-ticket-detail-sidebar__see-more-btn {\n            @include font-size('s');\n            @include line-height('xl');\n        }\n    }\n\n    @include mobile-xs-only {\n        .gst-event-ticket-detail-sidebar {\n            position: fixed;\n            top: 50px;\n            height: calc( 100vh - 50px );\n        }\n    }\n</style>\n"]}]}