{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/home/TheHome/RecentlyViewedEntities.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/home/TheHome/RecentlyViewedEntities.vue","mtime":1645805364032},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7CmltcG9ydCBFdmVudENhcmRWYXJpYW50MyBmcm9tICdAc2hhcmVkL2NvbXBvbmVudHMvZXZlbnQvRXZlbnRDYXJkVmFyaWFudDMnOwppbXBvcnQgQXR0cmFjdGlvbkNhcmRWYXJpYW50NCBmcm9tICdAc2hhcmVkL2NvbXBvbmVudHMvYXR0cmFjdGlvbi9BdHRyYWN0aW9uQ2FyZFZhcmlhbnQ0JzsKaW1wb3J0IGVudGl0eUNvbnN0YW50cyBmcm9tICdAY29yZS91dGlscy9jb25zdGFudHMvZW50aXR5JzsKaW1wb3J0IEljb25CYWNrQXJyb3cgZnJvbSAnQGNvcmUvc2hhcmVkL2Fzc2V0cy9pY29ucy9iYWNrX2Fycm93LnN2Zyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnUmVjZW50bHlWaWV3ZWRFbnRpdGllcycsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgRXZlbnRDYXJkVmFyaWFudDMsCiAgICAgICAgQXR0cmFjdGlvbkNhcmRWYXJpYW50NCwKICAgICAgICBJY29uQmFja0Fycm93CiAgICB9LAogICAgaTE4bk9wdGlvbnM6IHsKICAgICAgICBuYW1lc3BhY2VzOiAnbWFpbicsCiAgICAgICAga2V5UHJlZml4OiAndmlld3MuaG9tZS50aGVIb21lLl9jb21wb25lbnRzLnJlY2VudGx5Vmlld2VkRW50aXRpZXMnLAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXRlbUZvclJlbW92ZTogbnVsbCwKICAgICAgICAgICAgaXNTd2lwZXJSZWFjaFN0YXJ0OiB0cnVlLAogICAgICAgICAgICBpc1N3aXBlclJlYWNoRW5kOiBmYWxzZSwKCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcEdldHRlcnMoIHsKICAgICAgICAgICAgaXRlbXM6ICAgICAgICAgICAgICAgJ3VzZXIvYnJvd3NpbmdIaXN0b3J5L2VudGl0aWVzRXZlbnRzQW5kQXR0cmFjdGlvbicKICAgICAgICB9ICksCiAgICAgICAgdmlzaWJsZU5vU2xpZGVzKCApIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC5zbSA/IDQgOiB0aGlzLiR2dWV0aWZ5LmJyZWFrcG9pbnQubWQgPyA1IDogNjsKICAgICAgICB9LAogICAgICAgIHNob3dOYXZpZ2F0aW9uQnV0dG9ucyggKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiR2dWV0aWZ5LmJyZWFrcG9pbnQuc21BbmRVcCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IHRoaXMudmlzaWJsZU5vU2xpZGVzOwogICAgICAgIH0sCiAgICAgICAgc3dpcGVyQWxsb3dUb3VjaCggKSB7CiAgICAgICAgICAgIHJldHVybiAhdGhpcy4kdnVldGlmeS5icmVha3BvaW50LmxnQW5kVXA7CiAgICAgICAgfSwKICAgICAgICBzd2lwZXJPcHRpb24oICkgewogICAgICAgICAgICBjb25zdCB7IHRocmVzaG9sZHMsIHNjcm9sbEJhcldpZHRoIH0gPSB0aGlzLiR2dWV0aWZ5LmJyZWFrcG9pbnQ7CgogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMi4yLAogICAgICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLAogICAgICAgICAgICAgICAgZnJlZU1vZGU6IHRydWUsCiAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDE2LAogICAgICAgICAgICAgICAgYWxsb3dUb3VjaE1vdmU6IHRoaXMuc3dpcGVyQWxsb3dUb3VjaCwKICAgICAgICAgICAgICAgIGJyZWFrcG9pbnRzOiB7CiAgICAgICAgICAgICAgICAgICAgWyB0aHJlc2hvbGRzLnhzIF06IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNCwKICAgICAgICAgICAgICAgICAgICAgICAgZnJlZU1vZGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBhbGxvd1RvdWNoTW92ZTogdGhpcy5zd2lwZXJBbGxvd1RvdWNoLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgWyB0aHJlc2hvbGRzLnNtIF06IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNSwKICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDUsCiAgICAgICAgICAgICAgICAgICAgICAgIGZyZWVNb2RlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dUb3VjaE1vdmU6IHRoaXMuc3dpcGVyQWxsb3dUb3VjaCwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIFsgdGhyZXNob2xkcy5tZCAtIHNjcm9sbEJhcldpZHRoIF06IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNiwKICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDYsCiAgICAgICAgICAgICAgICAgICAgICAgIGZyZWVNb2RlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dUb3VjaE1vdmU6IHRoaXMuc3dpcGVyQWxsb3dUb3VjaCwKICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudENsaWNrczogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnRDbGlja3NQcm9wYWdhdGlvbjogZmFsc2UKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLi4ubWFwQWN0aW9ucyggewogICAgICAgICAgICBkZWxldGVVc2VyQnJvd3NpbmdIaXN0b3J5RW50aXR5OiAndXNlci9icm93c2luZ0hpc3RvcnkvZGVsZXRlRW50aXR5JywKICAgICAgICB9ICksCiAgICAgICAgaXNJdGVtQXR0cmFjdGlvbiggeyB0eXBlIH0gKSB7CiAgICAgICAgICAgIHJldHVybiB0eXBlID09PSBlbnRpdHlDb25zdGFudHMuVFlQRVMuQVRUUkFDVElPTjsKICAgICAgICB9LAogICAgICAgIGlzSXRlbUV2ZW50KCB7IHR5cGUgfSApIHsKICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09IGVudGl0eUNvbnN0YW50cy5UWVBFUy5FVkVOVDsKICAgICAgICB9LAogICAgICAgIGdvVG9QcmV2aW91c1NsaWRlcyggKSB7CiAgICAgICAgICAgIGNvbnN0IHN3aXBlciA9IHRoaXMuJHJlZnMuc3dpcGVyLiRzd2lwZXI7CiAgICAgICAgICAgIHRoaXMuc2V0U3dpcGVyTmF2aWdhdGlvbkRlYm91bmNlZCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgc3dpcGVyLnNsaWRlUHJldiggICk7CiAgICAgICAgfSwKICAgICAgICBnb1RvTmV4dFNsaWRlcyggKSB7CiAgICAgICAgICAgIGNvbnN0IHN3aXBlciA9IHRoaXMuJHJlZnMuc3dpcGVyLiRzd2lwZXI7CiAgICAgICAgICAgIHRoaXMuc2V0U3dpcGVyTmF2aWdhdGlvbkRlYm91bmNlZCgpOwogICAgICAgICAgICAKICAgICAgICAgICAgc3dpcGVyLnNsaWRlTmV4dCggICk7CiAgICAgICAgfSwKICAgICAgICBzZXRTd2lwZXJOYXZpZ2F0aW9uRGVib3VuY2VkOiBkZWJvdW5jZSggZnVuY3Rpb24gKCApIHsKICAgICAgICAgICAgY29uc3Qgc3dpcGVyID0gdGhpcy4kcmVmcy5zd2lwZXIuJHN3aXBlcjsKCiAgICAgICAgICAgIHRoaXMuaXNTd2lwZXJSZWFjaFN0YXJ0ID0gc3dpcGVyLmlzQmVnaW5uaW5nOwogICAgICAgICAgICB0aGlzLmlzU3dpcGVyUmVhY2hFbmQgPSBzd2lwZXIuaXNFbmQ7CiAgICAgICAgfSwgNTAgKSwKICAgICAgICByZW1vdmVBdHRyYWN0aW9uICggaXRlbSApIHsKICAgICAgICAgICAgaWYgKCB0aGlzLml0ZW1Gb3JSZW1vdmUgKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5pdGVtRm9yUmVtb3ZlID0gaXRlbTsKICAgICAgICAgICAgc2V0VGltZW91dCggKCApID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlVXNlckJyb3dzaW5nSGlzdG9yeUVudGl0eSggeyBlbnRpdHlUeXBlOiBlbnRpdHlDb25zdGFudHMuVFlQRVMuQVRUUkFDVElPTiwgZW50aXR5SWQ6IGl0ZW0uZGF0YS5pZCAgfSApOwogICAgICAgICAgICAgICAgdGhpcy5pdGVtRm9yUmVtb3ZlID0gbnVsbDsKICAgICAgICAgICAgfSwgNTAwICk7CiAgICAgICAgfSwKICAgICAgICByZW1vdmVFdmVudCAoIGl0ZW0gKSB7CiAgICAgICAgICAgIGlmICggdGhpcy5pdGVtRm9yUmVtb3ZlICkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuaXRlbUZvclJlbW92ZSA9IGl0ZW07CiAgICAgICAgICAgIHNldFRpbWVvdXQoICggKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVVzZXJCcm93c2luZ0hpc3RvcnlFbnRpdHkoIHsgZW50aXR5VHlwZTogZW50aXR5Q29uc3RhbnRzLlRZUEVTLkVWRU5ULCBlbnRpdHlJZDogaXRlbS5kYXRhLmlkICB9ICk7CiAgICAgICAgICAgICAgICB0aGlzLml0ZW1Gb3JSZW1vdmUgPSBudWxsOwogICAgICAgICAgICB9LCA1MDAgKTsKICAgICAgICB9CiAgICB9Cn07Cg=="},{"version":3,"sources":["RecentlyViewedEntities.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RecentlyViewedEntities.vue","sourceRoot":"src/core/views/home/TheHome","sourcesContent":["<template>\n    <div\n        v-if=\"items.length\"\n        class=\"gst-recently-viewed-entities mr-n4 mr-md-0\">\n        <v-flex d-flex flex-row class=\"mx-0 pb-4 pb-lg-6 pr-4 pr-md-0\">\n            <h4 class=\"gst-recently-viewed-entities__title flex-grow-1\">\n                {{ $t('title') }}\n            </h4>\n            <v-flex v-if=\"showNavigationButtons\" d-flex flex-row shrink class=\"gst-recently-viewed-entities__navigation mx-0\">\n                <v-btn icon :disabled=\"isSwiperReachStart\" class=\"mr-6\" @click=\"goToPreviousSlides\">\n                    <IconBackArrow />\n                </v-btn>\n                <v-btn icon :disabled=\"isSwiperReachEnd\" @click=\"goToNextSlides\">\n                    <IconBackArrow class=\"u-rotate-180\" />\n                </v-btn>\n            </v-flex>\n        </v-flex>\n        <swiper\n            ref=\"swiper\"\n            :key=\"swiperAllowTouch ? 1 : 2\"\n            class=\"gst-recently-viewed-entities__swiper pr-4 pr-md-0\"\n            :options=\"swiperOption\"\n            @slide-change=\"setSwiperNavigationDebounced\"\n            @reachBeginning=\"setSwiperNavigationDebounced\"\n            @reachEnd=\"setSwiperNavigationDebounced\"\n            @resize=\"setSwiperNavigationDebounced\">\n            <swiper-slide\n                v-for=\"( item ) in items\"\n                :key=\"item.id\"\n                class=\"gst-recently-viewed-entities__slide\"\n                :class=\"{\n                    'gst-recently-viewed-entities__slide--destroy': item === itemForRemove\n                }\">\n                <router-link\n                    v-if=\"isItemEvent( item )\"\n                    :to=\"{name: 'event', params: { id: item.data.id} } \"\n                    :class=\"{\n                        'swiper-no-swiping': !swiperAllowTouch\n                    }\">\n                    <EventCardVariant3\n                        :item=\"item.data\"\n                        :with-to=\"false\"\n                        :show-remove-button=\"true\"\n                        @remove=\"removeEvent( item )\" />\n                </router-link>\n                <router-link\n                    v-if=\"isItemAttraction( item )\"\n                    :to=\"{name: 'attraction', params: { id: item.data.id} } \"\n                    :class=\"{\n                        'swiper-no-swiping': !swiperAllowTouch\n                    }\">\n                    <AttractionCardVariant4\n                        :item=\"item.data\"\n                        :with-to=\"false\"\n                        :show-remove-button=\"true\"\n                        @remove=\"removeAttraction( item )\" />\n                </router-link>\n            </swiper-slide>\n        </swiper>\n    </div>\n</template>\n<script>\n    import { mapActions, mapGetters } from 'vuex';\n    import debounce from 'lodash/debounce';\n    import EventCardVariant3 from '@shared/components/event/EventCardVariant3';\n    import AttractionCardVariant4 from '@shared/components/attraction/AttractionCardVariant4';\n    import entityConstants from '@core/utils/constants/entity';\n    import IconBackArrow from '@core/shared/assets/icons/back_arrow.svg';\n\n    export default {\n        name: 'RecentlyViewedEntities',\n        components: {\n            EventCardVariant3,\n            AttractionCardVariant4,\n            IconBackArrow\n        },\n        i18nOptions: {\n            namespaces: 'main',\n            keyPrefix: 'views.home.theHome._components.recentlyViewedEntities',\n        },\n        data() {\n            return {\n                itemForRemove: null,\n                isSwiperReachStart: true,\n                isSwiperReachEnd: false,\n\n            };\n        },\n        computed: {\n            ...mapGetters( {\n                items:               'user/browsingHistory/entitiesEventsAndAttraction'\n            } ),\n            visibleNoSlides( ) {\n                return this.$vuetify.breakpoint.sm ? 4 : this.$vuetify.breakpoint.md ? 5 : 6;\n            },\n            showNavigationButtons( ) {\n                return this.$vuetify.breakpoint.smAndUp && this.items.length > this.visibleNoSlides;\n            },\n            swiperAllowTouch( ) {\n                return !this.$vuetify.breakpoint.lgAndUp;\n            },\n            swiperOption( ) {\n                const { thresholds, scrollBarWidth } = this.$vuetify.breakpoint;\n\n                return {\n                    slidesPerView: 2.2,\n                    centeredSlides: false,\n                    freeMode: true,\n                    spaceBetween: 16,\n                    allowTouchMove: this.swiperAllowTouch,\n                    breakpoints: {\n                        [ thresholds.xs ]: {\n                            slidesPerView: 4,\n                            freeMode: false,\n                            allowTouchMove: this.swiperAllowTouch,\n                        },\n                        [ thresholds.sm ]: {\n                            slidesPerView: 5,\n                            slidesPerGroup: 5,\n                            freeMode: false,\n                            allowTouchMove: this.swiperAllowTouch,\n                        },\n                        [ thresholds.md - scrollBarWidth ]: {\n                            slidesPerView: 6,\n                            slidesPerGroup: 6,\n                            freeMode: false,\n                            allowTouchMove: this.swiperAllowTouch,\n                            preventClicks: false,\n                            preventClicksPropagation: false\n                        }\n                    }\n                };\n            },\n        },\n        methods: {\n            ...mapActions( {\n                deleteUserBrowsingHistoryEntity: 'user/browsingHistory/deleteEntity',\n            } ),\n            isItemAttraction( { type } ) {\n                return type === entityConstants.TYPES.ATTRACTION;\n            },\n            isItemEvent( { type } ) {\n                return type === entityConstants.TYPES.EVENT;\n            },\n            goToPreviousSlides( ) {\n                const swiper = this.$refs.swiper.$swiper;\n                this.setSwiperNavigationDebounced();\n                \n                swiper.slidePrev(  );\n            },\n            goToNextSlides( ) {\n                const swiper = this.$refs.swiper.$swiper;\n                this.setSwiperNavigationDebounced();\n                \n                swiper.slideNext(  );\n            },\n            setSwiperNavigationDebounced: debounce( function ( ) {\n                const swiper = this.$refs.swiper.$swiper;\n\n                this.isSwiperReachStart = swiper.isBeginning;\n                this.isSwiperReachEnd = swiper.isEnd;\n            }, 50 ),\n            removeAttraction ( item ) {\n                if ( this.itemForRemove ) {\n                    return;\n                }\n                this.itemForRemove = item;\n                setTimeout( ( ) => {\n                    this.deleteUserBrowsingHistoryEntity( { entityType: entityConstants.TYPES.ATTRACTION, entityId: item.data.id  } );\n                    this.itemForRemove = null;\n                }, 500 );\n            },\n            removeEvent ( item ) {\n                if ( this.itemForRemove ) {\n                    return;\n                }\n                this.itemForRemove = item;\n                setTimeout( ( ) => {\n                    this.deleteUserBrowsingHistoryEntity( { entityType: entityConstants.TYPES.EVENT, entityId: item.data.id  } );\n                    this.itemForRemove = null;\n                }, 500 );\n            }\n        }\n    };\n</script>\n<style lang=\"scss\" scope>\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-recently-viewed-entities__title {\n        line-height: font-size( 'xxxxl' );\n    }\n\n    .gst-recently-viewed-entities__navigation {\n        .v-btn {\n            height: font-size( 'xxxxl' );\n            width: font-size( 'xxxxl' );\n        }\n    }\n\n    .gst-recently-viewed-entities__slide--destroy {\n        animation-name: slide-and-fade;\n        animation-duration: 500ms;\n        animation-fill-mode: forwards;\n    }\n\n    @keyframes slide-and-fade {\n        0% {\n            opacity: 1;\n        }\n\n        100% {\n            width: 0;\n            opacity: 0;\n        }\n    }\n</style>\n"]}]}