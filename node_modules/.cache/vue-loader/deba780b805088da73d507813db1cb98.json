{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/event/TheEvent/EventSimilarAttractions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/core/views/event/TheEvent/EventSimilarAttractions.vue","mtime":1645805364023},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnOwppbXBvcnQgQXR0cmFjdGlvbkNhcmRWYXJpYW50NCBmcm9tICdAc2hhcmVkL2NvbXBvbmVudHMvYXR0cmFjdGlvbi9BdHRyYWN0aW9uQ2FyZFZhcmlhbnQ0JzsKaW1wb3J0IERhdGFMb2FkaW5nIGZyb20gJ0Bjb3JlL3NoYXJlZC9jb21wb25lbnRzL2xvYWRpbmcvRGF0YUxvYWRpbmcnOwppbXBvcnQgSWNvbkJhY2tBcnJvdyBmcm9tICdAY29yZS9zaGFyZWQvYXNzZXRzL2ljb25zL2JhY2tfYXJyb3cuc3ZnJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdFdmVudFNpbWlsYXJBdHRyYWN0aW9ucycsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQXR0cmFjdGlvbkNhcmRWYXJpYW50NCwKICAgICAgICBEYXRhTG9hZGluZywKICAgICAgICBJY29uQmFja0Fycm93CiAgICB9LAogICAgaTE4bk9wdGlvbnM6IHsKICAgICAgICBuYW1lc3BhY2VzOiAnc2hhcmVkJywKICAgICAgICBrZXlQcmVmaXg6ICdjb21wb25lbnRzLnNpbWlsYXJBdHRyYWN0aW9ucycKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlzU3dpcGVyUmVhY2hTdGFydDogdHJ1ZSwKICAgICAgICAgICAgaXNTd2lwZXJSZWFjaEVuZDogZmFsc2UsCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKCB7CiAgICAgICAgICAgIHVzZXJGaXJzdEFjY2Vzc0FwcDogc3RhdGUgPT4gc3RhdGUudXNlci5maXJzdEFjY2VzcywKICAgICAgICAgICAgc2ltaWxhckF0dHJhY3Rpb25zOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLmFuYWx5dGljcy5zaW1pbGFyQXR0cmFjdGlvbnMsCiAgICAgICAgICAgIGxvYWRpbmc6ICAgICAgICAgICAgc3RhdGUgPT4gc3RhdGUudXNlci5hbmFseXRpY3MubG9hZGluZywKICAgICAgICAgICAgaGFzU2ltaWxhckF0dHJhY3Rpb25zOiBzdGF0ZSA9PiBzdGF0ZS51c2VyLmFuYWx5dGljcy5oYXNTaW1pbGFyQXR0cmFjdGlvbnMKICAgICAgICB9ICksCiAgICAgICAgaXRlbXMoICkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5zaW1pbGFyQXR0cmFjdGlvbnM7CiAgICAgICAgfSwKICAgICAgICBzaG93KCApIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFzU2ltaWxhckF0dHJhY3Rpb25zICYmIHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC54bE9ubHk7CiAgICAgICAgfSwKICAgICAgICBjYXJkV2lkdGgoICkgewogICAgICAgICAgICByZXR1cm4gMTIzOwogICAgICAgIH0sCiAgICAgICAgY2FyZFdpZHRoRm9yU2Nyb2xsKCApIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FyZFdpZHRoICsgMTY7CiAgICAgICAgfSwKICAgICAgICBzaG93TmF2aWdhdGlvbkJ1dHRvbnMoICkgewogICAgICAgICAgICByZXR1cm4gISggdGhpcy5pc1N3aXBlclJlYWNoU3RhcnQgJiYgdGhpcy5pc1N3aXBlclJlYWNoRW5kICk7CiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKCB7CiAgICAgICAgICAgIGdldEFuYWx5dGljczogJ3VzZXIvYW5hbHl0aWNzL2dldCcKICAgICAgICB9ICksCiAgICAgICAgZ29Ub1ByZXZpb3VzU2xpZGVzKCApIHsKICAgICAgICAgICAgY29uc3QgY2FyZFdpZHRoRm9yU2Nyb2xsID0gdGhpcy5jYXJkV2lkdGhGb3JTY3JvbGw7CiAgICAgICAgICAgIGNvbnN0IHN3aXBlckVsID0gdGhpcy4kcmVmcy5zd2lwZXI7CiAgICAgICAgICAgIGNvbnN0IHNjcm9sbExlZnQgPSBzd2lwZXJFbC5zY3JvbGxMZWZ0OwogICAgICAgICAgICBjb25zdCBwcmV2aW91c1Njcm9sbFBvc2l0aW9uID0gKCBzd2lwZXJFbC5zY3JvbGxMZWZ0IC0gY2FyZFdpZHRoRm9yU2Nyb2xsICkgPiAwID8gc3dpcGVyRWwuc2Nyb2xsTGVmdCAtIGNhcmRXaWR0aEZvclNjcm9sbCA6IDA7CiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQ2FyZCA9IE1hdGguZmxvb3IoIHByZXZpb3VzU2Nyb2xsUG9zaXRpb24gLyBjYXJkV2lkdGhGb3JTY3JvbGwgKTsKCiAgICAgICAgICAgIHN3aXBlckVsLnNjcm9sbEJ5KCAtKCBzY3JvbGxMZWZ0IC0gcHJldmlvdXNDYXJkICogY2FyZFdpZHRoRm9yU2Nyb2xsICksIDAgKTsKICAgICAgICB9LAogICAgICAgIGdvVG9OZXh0U2xpZGVzKCApIHsKICAgICAgICAgICAgY29uc3Qgc3dpcGVyRWwgPSB0aGlzLiRyZWZzLnN3aXBlcjsKCiAgICAgICAgICAgIHN3aXBlckVsLnNjcm9sbEJ5KCB0aGlzLmNhcmRXaWR0aEZvclNjcm9sbCwgMCApOwogICAgICAgIH0sCiAgICAgICAgc2V0U3dpcGVyTmF2aWdhdGlvbkRlYm91bmNlZDogZGVib3VuY2UoIGZ1bmN0aW9uICggKSB7CiAgICAgICAgICAgIGNvbnN0IHN3aXBlckVsID0gdGhpcy4kcmVmcy5zd2lwZXI7CgogICAgICAgICAgICBpZiAoIHN3aXBlckVsICkgewogICAgICAgICAgICAgICAgdGhpcy5pc1N3aXBlclJlYWNoU3RhcnQgPSAhc3dpcGVyRWwuc2Nyb2xsTGVmdDsKICAgICAgICAgICAgICAgIHRoaXMuaXNTd2lwZXJSZWFjaEVuZCA9ICEoIHN3aXBlckVsLnNjcm9sbFdpZHRoIC0gc3dpcGVyRWwuc2Nyb2xsTGVmdCAtIHN3aXBlckVsLm9mZnNldFdpZHRoICk7CiAgICAgICAgICAgIH0KICAgICAgICB9LCA1MCApCiAgICB9LAogICAgbW91bnRlZCggKSB7CiAgICAgICAgY29uc3QgYWRkRXZlbnRzQW5kRGF0YSA9ICggKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZ2V0QW5hbHl0aWNzKCApOwogICAgICAgICAgICB0aGlzLnNldFN3aXBlck5hdmlnYXRpb25EZWJvdW5jZWQoICk7CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcy5zZXRTd2lwZXJOYXZpZ2F0aW9uRGVib3VuY2VkICk7CiAgICAgICAgfTsKCiAgICAgICAgaWYgKCB0aGlzLnNob3cgKSB7CiAgICAgICAgICAgIGFkZEV2ZW50c0FuZERhdGEoICk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5fdW53YXRjaFNob3cgPSB0aGlzLiR3YXRjaCggJ3Nob3cnLCBmdW5jdGlvbiAoIG5ld1ZhbHVlICkgewogICAgICAgICAgICAgICAgaWYgKCBuZXdWYWx1ZSApIHsKICAgICAgICAgICAgICAgICAgICBhZGRFdmVudHNBbmREYXRhKCApOwogICAgICAgICAgICAgICAgICAgIHRoaXMuX3Vud2F0Y2hTaG93KCApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9ICk7CiAgICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3llZCggKSB7CiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdyZXNpemUnLCB0aGlzLnNldFN3aXBlck5hdmlnYXRpb25EZWJvdW5jZWQgKTsKICAgIH0KfTsK"},{"version":3,"sources":["EventSimilarAttractions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EventSimilarAttractions.vue","sourceRoot":"src/core/views/event/TheEvent","sourcesContent":["<template>\n    <div v-if=\"show\" class=\"gst-event-similar-attractions py-4 pl-4 pr-0\">\n        <DataLoading v-if=\"loading\" class=\"mt-5 mb-5 pt-5 pb-5\" />\n        <div\n            v-else-if=\"items.length\"\n            class=\"mr-n4 mr-md-0\">\n            <v-flex d-flex flex-row class=\"mx-0 pb-4 pr-4 pr-4\">\n                <h5 class=\"gst-event-similar-attractions__title flex-grow-1\">\n                    {{ $t('title') }}\n                </h5>\n                <v-flex v-if=\"showNavigationButtons\" d-flex flex-row shrink class=\"gst-event-similar-attractions__navigation mx-0\">\n                    <v-btn ref=\"previousButton\" :disabled=\"isSwiperReachStart\" icon class=\"mr-6\" @click=\"goToPreviousSlides\">\n                        <IconBackArrow />\n                    </v-btn>\n                    <v-btn ref=\"nextButton\" :disabled=\"isSwiperReachEnd\" icon @click=\"goToNextSlides\">\n                        <IconBackArrow class=\"u-rotate-180\" />\n                    </v-btn>\n                </v-flex>\n            </v-flex>\n            <v-flex\n                ref=\"swiper\"\n                d-flex\n                flex-row\n                class=\"gst-event-similar-attractions__swiper pr-4 pr-md-0\"\n                @scroll=\"setSwiperNavigationDebounced\"\n                @resize=\"setSwiperNavigationDebounced\">\n                <div\n                    v-for=\"item in items\"\n                    :key=\"item.id\"\n                    class=\"gst-event-similar-attractions__slide pr-4\">\n                    <AttractionCardVariant4\n                        :item=\"item\"\n                        height=\"98px\"\n                        :width=\"cardWidth+'px'\" />\n                </div>\n            </v-flex>\n        </div>\n    </div>\n</template>\n\n<script>\n    import { mapActions, mapState } from 'vuex';\n    import debounce from 'lodash/debounce';\n    import AttractionCardVariant4 from '@shared/components/attraction/AttractionCardVariant4';\n    import DataLoading from '@core/shared/components/loading/DataLoading';\n    import IconBackArrow from '@core/shared/assets/icons/back_arrow.svg';\n\n    export default {\n        name: 'EventSimilarAttractions',\n        components: {\n            AttractionCardVariant4,\n            DataLoading,\n            IconBackArrow\n        },\n        i18nOptions: {\n            namespaces: 'shared',\n            keyPrefix: 'components.similarAttractions'\n        },\n        data() {\n            return {\n                isSwiperReachStart: true,\n                isSwiperReachEnd: false,\n            };\n        },\n        computed: {\n            ...mapState( {\n                userFirstAccessApp: state => state.user.firstAccess,\n                similarAttractions: state => state.user.analytics.similarAttractions,\n                loading:            state => state.user.analytics.loading,\n                hasSimilarAttractions: state => state.user.analytics.hasSimilarAttractions\n            } ),\n            items( ) {\n                return this.similarAttractions;\n            },\n            show( ) {\n                return this.hasSimilarAttractions && this.$vuetify.breakpoint.xlOnly;\n            },\n            cardWidth( ) {\n                return 123;\n            },\n            cardWidthForScroll( ) {\n                return this.cardWidth + 16;\n            },\n            showNavigationButtons( ) {\n                return !( this.isSwiperReachStart && this.isSwiperReachEnd );\n            }\n        },\n        methods: {\n            ...mapActions( {\n                getAnalytics: 'user/analytics/get'\n            } ),\n            goToPreviousSlides( ) {\n                const cardWidthForScroll = this.cardWidthForScroll;\n                const swiperEl = this.$refs.swiper;\n                const scrollLeft = swiperEl.scrollLeft;\n                const previousScrollPosition = ( swiperEl.scrollLeft - cardWidthForScroll ) > 0 ? swiperEl.scrollLeft - cardWidthForScroll : 0;\n                const previousCard = Math.floor( previousScrollPosition / cardWidthForScroll );\n\n                swiperEl.scrollBy( -( scrollLeft - previousCard * cardWidthForScroll ), 0 );\n            },\n            goToNextSlides( ) {\n                const swiperEl = this.$refs.swiper;\n\n                swiperEl.scrollBy( this.cardWidthForScroll, 0 );\n            },\n            setSwiperNavigationDebounced: debounce( function ( ) {\n                const swiperEl = this.$refs.swiper;\n\n                if ( swiperEl ) {\n                    this.isSwiperReachStart = !swiperEl.scrollLeft;\n                    this.isSwiperReachEnd = !( swiperEl.scrollWidth - swiperEl.scrollLeft - swiperEl.offsetWidth );\n                }\n            }, 50 )\n        },\n        mounted( ) {\n            const addEventsAndData = ( ) => {\n                this.getAnalytics( );\n                this.setSwiperNavigationDebounced( );\n                window.addEventListener( 'resize', this.setSwiperNavigationDebounced );\n            };\n\n            if ( this.show ) {\n                addEventsAndData( );\n            } else {\n                this._unwatchShow = this.$watch( 'show', function ( newValue ) {\n                    if ( newValue ) {\n                        addEventsAndData( );\n                        this._unwatchShow( );\n                    }\n                } );\n            }\n        },\n        destroyed( ) {\n            window.removeEventListener( 'resize', this.setSwiperNavigationDebounced );\n        }\n    };\n</script>\n\n<style lang=\"scss\" scoped>\n    @import \"@scssVariables\";\n    @import \"@scssMixins\";\n\n    .gst-event-similar-attractions {\n        border-top: 1px solid rgba( theme-color-hex( 'tertiary' ), 0.2 );\n    }\n\n    .gst-event-similar-attractions__title {\n        line-height: line-height( 'xxxxl' );\n        font-size: font-size( 'xxxl' );\n        font-weight: font-weight( 'medium' );\n    }\n\n    .gst-event-similar-attractions__navigation {\n        .v-btn {\n            height: font-size( 'xxxxl' );\n            width: font-size( 'xxxxl' );\n        }\n    }\n\n    .gst-event-similar-attractions__swiper {\n        scroll-behavior: smooth;\n        overflow: hidden;\n    }\n</style>"]}]}