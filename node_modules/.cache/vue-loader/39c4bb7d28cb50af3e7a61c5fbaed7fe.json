{"remainingRequest":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/modules/hotel/components/modal/HotelDetailsModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cristiandan/Desktop/lifestyle-ui/src/tenants/ticketmaster/app/modules/hotel/components/modal/HotelDetailsModal.vue","mtime":1645805365956},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/babel-loader/lib/index.js","mtime":1637061222406},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/cache-loader/dist/cjs.js","mtime":1637061222564},{"path":"/Users/cristiandan/Desktop/lifestyle-ui/node_modules/vue-loader/lib/index.js","mtime":1637061260528}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsJzsKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7CmltcG9ydCBDbG9zZU1vZGFsT25Sb3V0ZUNoYW5nZU1peGluIGZyb20gJ0Bjb3JlL21peGlucy9tb2RhbHMvQ2xvc2VNb2RhbE9uUm91dGVDaGFuZ2UnOwppbXBvcnQgQ2xvc2VNb2RhbE9uQnJlYWtwb2ludENoYW5nZU1peGluIGZyb20gJ0Bjb3JlL21peGlucy9tb2RhbHMvQ2xvc2VNb2RhbE9uQnJlYWtwb2ludENoYW5nZSc7CmltcG9ydCBIb3RlbERldGFpbHNNb2RhbEhlYWRlciBmcm9tICcuL0hvdGVsRGV0YWlsc01vZGFsL0hvdGVsRGV0YWlsc01vZGFsSGVhZGVyJzsKaW1wb3J0IEhvdGVsRGV0YWlsc0FkZHJlc3NCYXIgZnJvbSAnLi9Ib3RlbERldGFpbHNNb2RhbC9Ib3RlbERldGFpbHNBZGRyZXNzQmFyJzsKaW1wb3J0IEhvdGVsRGV0YWlsc01vZGFsR2FsbGVyeSBmcm9tICcuL0hvdGVsRGV0YWlsc01vZGFsL0hvdGVsRGV0YWlsc01vZGFsR2FsbGVyeSc7CmltcG9ydCBIb3RlbERldGFpbHNNb2RhbEJvZHkgZnJvbSAnLi9Ib3RlbERldGFpbHNNb2RhbC9Ib3RlbERldGFpbHNNb2RhbEJvZHknOwppbXBvcnQgSG90ZWxEZXRhaWxzVGFic05hdmlnYXRpb24gZnJvbSAnLi9Ib3RlbERldGFpbHNNb2RhbC9Ib3RlbERldGFpbHNUYWJzTmF2aWdhdGlvbic7Cgpjb25zdCBTVE9SRV9OQU1FX0dMT0JBTCA9ICdhZGRIb3RlbFJlc2VydmF0aW9uU3RhdGUnOwpjb25zdCBTVE9SRV9OQU1FX01PREFMID0gYCR7U1RPUkVfTkFNRV9HTE9CQUx9L21vZGFsRmlsdGVyc2A7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnSG90ZWxEZXRhaWxzTW9kYWwnLAogICAgY29tcG9uZW50czogewogICAgICAgIEhvdGVsRGV0YWlsc01vZGFsSGVhZGVyLAogICAgICAgIEhvdGVsRGV0YWlsc01vZGFsR2FsbGVyeSwKICAgICAgICBIb3RlbERldGFpbHNNb2RhbEJvZHksCiAgICAgICAgSG90ZWxEZXRhaWxzVGFic05hdmlnYXRpb24sCiAgICAgICAgSG90ZWxEZXRhaWxzQWRkcmVzc0JhcgogICAgfSwKICAgIG1peGluczogWyBDbG9zZU1vZGFsT25Sb3V0ZUNoYW5nZU1peGluLCBDbG9zZU1vZGFsT25CcmVha3BvaW50Q2hhbmdlTWl4aW4gXSwKICAgIHByb3BzOiB7CiAgICAgICAgaXRlbTogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwKICAgICAgICB9LAogICAgICAgIGJ1bmRsZVByb2R1Y3RzOiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgZGVmYXVsdDogbnVsbAogICAgICAgIH0sCiAgICAgICAgYnVzRXZlbnRzUGFyZW50OiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgZGVmYXVsdDogbnVsbAogICAgICAgIH0sCiAgICAgICAgaGFzVmFsdWU6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBuYXZpZ2F0aW9uVGFiczogWyAnb3ZlcnZpZXcnLCAncm9vbXMnLCAnd2hhdHNOZWFyYnknIF0sCiAgICAgICAgICAgIHRhYjogMSwKICAgICAgICAgICAgaG90ZWxEYXRhOiB0aGlzLml0ZW0sCiAgICAgICAgICAgIGxvYWRpbmdDb3VudGVyOiAwCiAgICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKCB7CiAgICAgICAgICAgIGZpbHRlcnM6IHN0YXRlID0+IHN0YXRlWyBTVE9SRV9OQU1FX0dMT0JBTCBdLmZpbHRlcnMsCiAgICAgICAgICAgIG1vZGFsRmlsdGVyczogc3RhdGUgPT4gc3RhdGVbU1RPUkVfTkFNRV9HTE9CQUxdLm1vZGFsRmlsdGVycwogICAgICAgIH0gKQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJ2ZpbHRlcnMuc3RhcnREYXRlVGltZSc6IGZ1bmN0aW9uICggKSB7CiAgICAgICAgICAgIHRoaXMubG9hZEhvdGVsKCk7CiAgICAgICAgfSwKICAgICAgICAnZmlsdGVycy5lbmREYXRlVGltZSc6IGZ1bmN0aW9uICggKSB7CiAgICAgICAgICAgIHRoaXMubG9hZEhvdGVsKCk7CiAgICAgICAgfSwKICAgICAgICAnbW9kYWxGaWx0ZXJzJzogewogICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiAoICkgewogICAgICAgICAgICAgICAgdGhpcy5sb2FkSG90ZWwoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGVlcDogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLi4ubWFwQWN0aW9ucyggewogICAgICAgICAgICBsb2FkT25lOiBgJHtTVE9SRV9OQU1FX0dMT0JBTH0vaG90ZWxzL2xvYWRPbmVgLAogICAgICAgICAgICB1cGRhdGVGaWx0ZXJzTW9kYWw6IGAke1NUT1JFX05BTUVfTU9EQUx9L3VwZGF0ZWAsCiAgICAgICAgfSApLAogICAgICAgIGNoYW5nZVRhYiggaWQgKSB7CiAgICAgICAgICAgIHRoaXMudGFiID0gaWQ7CiAgICAgICAgfSwKICAgICAgICBsb2FkSG90ZWw6IGRlYm91bmNlKCBhc3luYyBmdW5jdGlvbiAoICkgewogICAgICAgICAgICB0aGlzLmxvYWRpbmdDb3VudGVyKys7CiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhd2FpdCB0aGlzLmxvYWRPbmUoIHsKICAgICAgICAgICAgICAgIGZpbHRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmZpbHRlcnMsIC4uLnRoaXMubW9kYWxGaWx0ZXJzCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgaWQ6IHRoaXMuaXRlbS5pZCwKICAgICAgICAgICAgICAgIGRhdGFQcm92aWRlcjogdGhpcy5pdGVtLmRhdGFQcm92aWRlcgogICAgICAgICAgICB9ICk7CgogICAgICAgICAgICBpZiAoIGl0ZW0gKSB7CiAgICAgICAgICAgICAgICB0aGlzLmhvdGVsRGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmhvdGVsRGF0YSwKICAgICAgICAgICAgICAgICAgICByb29tczogaXRlbS5yb29tcywKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmhvdGVsRGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmhvdGVsRGF0YSwKICAgICAgICAgICAgICAgICAgICByb29tczogWyBdCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMubG9hZGluZ0NvdW50ZXItLTsKICAgICAgICB9LCA1MCApLAogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgY29uc3QgeyBndWVzdHMsIHJvb21zQ291bnQgfSA9IHRoaXMuZmlsdGVyczsKICAgICAgICBpZiggIWlzRXF1YWwoIHsgZ3Vlc3RzLCByb29tc0NvdW50IH0sIHRoaXMubW9kYWxGaWx0ZXJzICkgKSB7CiAgICAgICAgICAgIC8vVE9ETyBjaGVjayBpZiB0aGlzIGlzIHRoZSBjb3JyZWN0IHJlcXVpcmVtZW50CiAgICAgICAgICAgIHRoaXMubG9hZEhvdGVsKCk7CiAgICAgICAgfQogICAgfQp9Owo="},{"version":3,"sources":["HotelDetailsModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HotelDetailsModal.vue","sourceRoot":"src/tenants/ticketmaster/app/modules/hotel/components/modal","sourcesContent":["<template>\n    <v-card class=\"gst-hotel-details-modal d-flex flex-column rounded\">\n        <HotelDetailsModalHeader class=\"flex-grow-0\" :item=\"item\" @close=\"$emit('close')\">\n            <template v-if=\"$vuetify.breakpoint.mdAndUp\" v-slot:addressBar>\n                <HotelDetailsAddressBar :item=\"item\" :bundle-products=\"bundleProducts\" />\n            </template>\n        </HotelDetailsModalHeader>\n        <HotelDetailsModalGallery :images=\"item.images\" />\n        <HotelDetailsAddressBar v-if=\"!$vuetify.breakpoint.mdAndUp\" :item=\"hotelData\" :bundle-products=\"bundleProducts\" />\n        <HotelDetailsTabsNavigation :item=\"hotelData\" :tab=\"tab\" :navigation-tabs=\"navigationTabs\" @change=\"changeTab\" />\n        <HotelDetailsModalBody :bundle-products=\"bundleProducts\"\n            :item=\"hotelData\"\n            :loading=\"!!loadingCounter\"\n            :tab=\"tab\"\n            :navigation-tabs=\"navigationTabs\"\n            :has-value=\"hasValue\"\n            :bus-events-parent=\"busEventsParent\"\n            @close=\"$emit('close')\"\n            @updateHotelData=\"loadHotel\" />\n    </v-card>\n</template>\n\n<script>\n    import { mapActions, mapState } from 'vuex';\n    import isEqual from 'lodash/isEqual';\n    import debounce from 'lodash/debounce';\n    import CloseModalOnRouteChangeMixin from '@core/mixins/modals/CloseModalOnRouteChange';\n    import CloseModalOnBreakpointChangeMixin from '@core/mixins/modals/CloseModalOnBreakpointChange';\n    import HotelDetailsModalHeader from './HotelDetailsModal/HotelDetailsModalHeader';\n    import HotelDetailsAddressBar from './HotelDetailsModal/HotelDetailsAddressBar';\n    import HotelDetailsModalGallery from './HotelDetailsModal/HotelDetailsModalGallery';\n    import HotelDetailsModalBody from './HotelDetailsModal/HotelDetailsModalBody';\n    import HotelDetailsTabsNavigation from './HotelDetailsModal/HotelDetailsTabsNavigation';\n\n    const STORE_NAME_GLOBAL = 'addHotelReservationState';\n    const STORE_NAME_MODAL = `${STORE_NAME_GLOBAL}/modalFilters`;\n\n    export default {\n        name: 'HotelDetailsModal',\n        components: {\n            HotelDetailsModalHeader,\n            HotelDetailsModalGallery,\n            HotelDetailsModalBody,\n            HotelDetailsTabsNavigation,\n            HotelDetailsAddressBar\n        },\n        mixins: [ CloseModalOnRouteChangeMixin, CloseModalOnBreakpointChangeMixin ],\n        props: {\n            item: {\n                type: Object,\n                default: null\n            },\n            bundleProducts: {\n                type: Object,\n                default: null\n            },\n            busEventsParent: {\n                type: Object,\n                default: null\n            },\n            hasValue: {\n                type: Boolean,\n                default: false\n            }\n        },\n        data() {\n            return {\n                navigationTabs: [ 'overview', 'rooms', 'whatsNearby' ],\n                tab: 1,\n                hotelData: this.item,\n                loadingCounter: 0\n            };\n        },\n        computed: {\n            ...mapState( {\n                filters: state => state[ STORE_NAME_GLOBAL ].filters,\n                modalFilters: state => state[STORE_NAME_GLOBAL].modalFilters\n            } )\n        },\n        watch: {\n            'filters.startDateTime': function ( ) {\n                this.loadHotel();\n            },\n            'filters.endDateTime': function ( ) {\n                this.loadHotel();\n            },\n            'modalFilters': {\n                handler: function ( ) {\n                    this.loadHotel();\n                },\n                deep: true\n            }\n        },\n        methods: {\n            ...mapActions( {\n                loadOne: `${STORE_NAME_GLOBAL}/hotels/loadOne`,\n                updateFiltersModal: `${STORE_NAME_MODAL}/update`,\n            } ),\n            changeTab( id ) {\n                this.tab = id;\n            },\n            loadHotel: debounce( async function ( ) {\n                this.loadingCounter++;\n                const item = await this.loadOne( {\n                    filters: {\n                        ...this.filters, ...this.modalFilters\n                    },\n                    id: this.item.id,\n                    dataProvider: this.item.dataProvider\n                } );\n\n                if ( item ) {\n                    this.hotelData = {\n                        ...this.hotelData,\n                        rooms: item.rooms,\n                    };\n                } else {\n                    this.hotelData = {\n                        ...this.hotelData,\n                        rooms: [ ]\n                    };\n                }\n                this.loadingCounter--;\n            }, 50 ),\n        },\n        mounted() {\n            const { guests, roomsCount } = this.filters;\n            if( !isEqual( { guests, roomsCount }, this.modalFilters ) ) {\n                //TODO check if this is the correct requirement\n                this.loadHotel();\n            }\n        }\n    };\n</script>\n\n<style lang=\"scss\">\n@import \"@scssVariables\";\n@import \"@scssMixins\";\n\n.gst-hotel-details-modal {\n    position: relative;\n    padding-bottom: 16px;\n    background-color: theme-color( 'white' ) !important;\n    color: theme-color( 'quaternary' );\n    overflow-x: hidden;\n    overflow-y: scroll;\n}\n</style>\n"]}]}